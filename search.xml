<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[4ç§æ–¹æ³•ç”Ÿæˆæ•°åˆ—æ—¶é—´æ¯”è¾ƒ]]></title>
    <url>%2F2019%2F04%2F22%2Fseq-num%2F</url>
    <content type="text"><![CDATA[åä¸‡bash1234567891011# num.shdatefor i in &#123;1..100000&#125;doecho $idonedatesh num.sh &gt;num.txt09:23:3109:23:33 # 2ç§’ seq12345678# work.shdateseq 1 100000datesh work.sh &gt;num.txt09:24:2009:24:20 # ä¸åˆ°1ç§’ python123456789101112# num.pynum = range(1,100001)for i in num: print(i)# work.shdatepython num.pydatesh work.sh &gt;num.txt09:26:0209:26:03 # 1ç§’ ruby123456789101112# num.rbfor i in 1..100000 p iend# work.shdateruby num.rbdatesh work.sh &gt;num.txt09:26:5809:27:01 # 3ç§’ ä¸€ç™¾ä¸‡bash123456789101112# num.shdatefor i in &#123;1..1000000&#125;doecho $idonedatesh num.sh &gt;num.txt09:14:2609:14:51 # 25ç§’ seq12345678# work.shdateseq 1 1000000datesh work.sh &gt;num.txt09:07:2809:07:29 # 1ç§’ python12345678910111213# num.pynum = range(1,1000001)for i in num: print(i)# work.shdatepython num.pydatesh work.sh &gt;num.txt09:09:3609:09:38 # 2ç§’ ruby12345678910111213# num.rbfor i in 1..1000000 p iend# work.shdateruby num.rbdatesh work.sh &gt;num.txt09:12:2709:12:46 # 19ç§’ ä¸¤ç™¾ä¸‡bash123sh num.sh &gt;num.txt09:37:5109:38:41 # 50ç§’ seq123sh work.sh &gt;num.txt09:39:4809:39:48 # ä¸åˆ°1ç§’ python123sh work.sh &gt;num.txt09:36:2409:36:27 # 3ç§’ ruby1234sh work.sh &gt;num.txt09:34:1509:34:59 # 44ç§’ äº”ç™¾ä¸‡bash123sh num.sh &gt;num.txt09:41:5909:44:07 # 2åˆ†8ç§’ seq123sh work.sh &gt;num.txt09:41:1109:41:12 # 1ç§’ python123sh work.sh &gt;num.txt09:45:39 09:45:43 # 4ç§’ ruby1234sh work.sh &gt;num.txt09:46:4109:48:18 # 1åˆ†37ç§’ ä¸€åƒä¸‡123456789101112bash09:54:3709:59:31 # 4åˆ†54ç§’seq09:51:5509:51:56 # 1ç§’python09:53:3209:53:43 # 9ç§’ruby09:55:5609:59:41 # 3åˆ†45ç§’ ä¸€äº¿123456seq09:57:1409:57:16 # 2ç§’python10:02:4710:04:16 # 1åˆ†29ç§’]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[samtoolsæŒ‰åŒºåŸŸbamè½¬fastq]]></title>
    <url>%2F2019%2F04%2F19%2Fsamtools%2F</url>
    <content type="text"><![CDATA[ç¬¬ä¸€æ­¥12$ samtools index test.bam # æž„å»ºç´¢å¼•$ samtools sort -n test.bam # æŒ‰åç§°å°†bamæ–‡ä»¶æŽ’åº ç¬¬äºŒæ­¥1$ samtools view -h -b test.bam chr1:1000-2000 -o region.bam # æŒ‰åŒºåŸŸå–æ¯”å¯¹æ•°æ® ç¬¬ä¸‰æ­¥12$ samtools fastq -1 read_1.fq -2 read_2.fq -s singleton.fq -N region.bam # -s åªæœ‰å•ç«¯åŒ¹é…ä¸Šçš„åºåˆ—ï¼Œ-N åœ¨1 2 åºåˆ—åç§°åŽåŠ /1ï¼Œ/2ï¼Œ-n å‚æ•°ä¼šä½¿åºåˆ—åç»´æŒåŽŸæ · è½¯ä»¶å¯¹æ¯”picard12$ java -jar picard.jar SamToFastq I=test.bam F=read1.fq F2=read2.fq R1_TRIM=1 R1_MAX_BASES=100 R2_TRIM=1 R2_MAX_BASES=100# picard è™½ç„¶å¯ä»¥è¿›è¡Œè½¬æ¢ä½†æ˜¯æ— æ³•é€‰æ‹©åŒºåŸŸï¼Œæä¾›çš„å‚æ•°TRIMå’ŒMAX_BASESæ˜¯æˆªå–åºåˆ—çš„é•¿åº¦ bcftools12$ bedtools bamtofastq -i test.bam -fq read1.fq -fq2 test.read2.fq# åŒpicardï¼Œå‚æ•°æ›´å°‘]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[csvtkå¤„ç†csvå’Œtsvæ–‡ä»¶]]></title>
    <url>%2F2019%2F04%2F16%2Fcsvtk%2F</url>
    <content type="text"><![CDATA[å¤„ç†csv (tsv) çš„å·¥å…·å·²ç»è§è¿‡ä¸å°‘ï¼Œå¦‚csvkitï¼Œxsvã€‚è€Œcsvtkè¿™ä¸ªå·¥å…·çš„ä¸€äº›å­å‘½ä»¤å´èƒ½è§£å†³ä¸€äº›å‰è€…æ— æ³•è§£å†³çš„ç—›ç‚¹ï¼Œè¿™äº›ç—›ç‚¹å¯èƒ½éœ€è¦ä½ è‡ªå·±å†™è„šæœ¬ã€‚ è½¯ä»¶ç‰ˆæœ¬ï¼š0.17.0 åœ°å€ï¼šhttps://github.com/shenwei356/csvtk headers1$ csvtk headers test.txt #æ˜¾ç¤ºæ–‡ä»¶æ‰“å°æ ‡é¢˜è¡Œï¼Œ-tå‚æ•°å¯è®¾å®šåˆ¶è¡¨ç¬¦åˆ†å‰²ï¼Œé»˜è®¤é€—å·åˆ†å‰² pretty csv2tab tab2csv space2tab transpose csv2md123456$ csvtk pretty test.txt #å¯¹csvæ›´å‹å¥½çš„å±•ç¤º$ csvtk csv2tab test.txt #è½¬æ¢csvæ ¼å¼åˆ°tab$ csvtk tab2csv test.txt #è½¬æ¢tabæ ¼å¼åˆ°csv$ csvtk space2tab test.txt #è½¬æ¢ç©ºæ ¼åˆ†å‰²æ ¼å¼åˆ°tab$ csvtk transpose test.txt #è½¬ç½®csv/tsv **$ csvtk csv2md test.txt #è½¬csv/tsvä¸ºmakrdownæ ¼å¼ cut123$ csvtk cut -f 1,3-4,7-8 test.txt #é€‰å–1,3åˆ°4,7åˆ°8åˆ—$ csvtk cut -F -f '*.id,name' test.txt # -Få¼€å¯æ¨¡ç³Šæœç´¢$ csvtk cut -f -2,-3 test.txt #é€‰å–ç¬¬2,3åˆ—ä¹‹å¤–çš„åˆ— uniq123$ csvtk uniq -f 1 test.txt #æœ€è§£å†³ç—›ç‚¹çš„å­å‘½ä»¤ï¼ŒæŒ‡å®šåˆ—è¿›è¡Œåˆ é™¤é‡å¤æ•°æ®ï¼Œä¼šä¿ç•™ç¬¬ä¸€ä¸ªå‘çŽ°çš„æ•°æ®#linux è‡ªå¸¦çš„uniqä¼šè®¤å®šæ•´è¡Œä¸ºä¸€ä¸ªåˆ¤æ–­å•ä½ï¼Œå½“blastæ¯”å¯¹ä¸­ä¼šæœ‰å¾ˆå¤šåºåˆ—æ¯”å¯¹åˆ°ä¸€ä¸ªåºåˆ—ï¼Œè€Œæˆ‘ä»¬åªæƒ³ä¿ç•™#ç¬¬ä¸€åˆ—çš„ä¸€ä¸ªå­—æ®µå°±å¥½äº†ï¼Œè¿™æ—¶csvtk uniq å¯ä»¥è½»æ¾å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ grep12$ csvtk grep -f 1 -p 'name' test.txt #åŒuniqä¸€æ ·ï¼Œgrepä¹Ÿå¯ä»¥æŒ‡å®šåˆ—åŽ»æœç´¢ï¼ˆç²¾ç¡®æœç´¢ï¼‰$ csvtk grep -f 1 -p 'name' -r test.txt # -r å¼€å¯æ­£åˆ™ï¼ˆæ¨¡ç³Šæœç´¢ï¼‰ join123$ csvtk join -f '1;1' test1.csv test2.csv #æŒ‰ç…§2ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€åˆ—åˆå¹¶æ–‡ä»¶ï¼Œç­‰äºŽ-f '1'$ csvtk join -f '1;2' test1.csv test2.csv #æŒ‰ç…§2ä¸ªæ–‡ä»¶çš„ç¬¬ä¸€åˆ—å’Œç¬¬äºŒåˆ—åˆå¹¶æ–‡ä»¶csvtk join -f '1;2' --keep-unmatched test1.csv test2.csv #ä¿ç•™ç¬¬ä¸€ä¸ªæ–‡ä»¶ä¸­æœªåŒ¹é…çš„è¡Œ fliter filter212$ csvtk filter -f '9&gt;1000' test.txt #è¿‡æ»¤é€‰æ‹©ç¬¬9åˆ—å¤§äºŽ1000çš„è¡Œ$ csvtk filter2 -f '$7 &gt; $8' test.txt #ç±»ä¼¼awkè¿‡æ»¤ replace12345678910111213141516171819202122$ csvtk replace -f id -p '(\d+)' -r 'ID: $1' #å°†idåˆ—æ•°æ®(\d+)æ¢ä¸º'ID: \d+'$ cat data.csvname idA ID001B ID002C ID004$ cat alias.csv001 Tom002 Bob003 Jim$ csvtk replace -f 2 -p "ID(.+)" -r "N: &#123;nr&#125;, alias: &#123;kv&#125;" -K -k alias.csv data.csvname idA N: 1, alias: TomB N: 2, alias: BobC N: 3, alias: 004#ä½¿ç”¨alias.csvä¸­çš„é”®å€¼å¯¹è¿›è¡Œæ›¿æ¢ï¼Œ&#123;nr&#125;ä»£è¡¨è®¡æ•°ï¼Œ&#123;kv&#125;ä»£è¡¨å€¼ï¼Œ-Kä»£è¡¨å½“é”®å€¼å¯¹ä¸­æ‰¾ä¸åˆ°å¯¹åº”çš„é”®æ—¶ä½¿ç”¨åŽŸæ–‡ä»¶ä¸­çš„é”®ã€‚-kä»£è¡¨é”®å€¼å¯¹æ–‡ä»¶ rename1csvtk rename -f 1,2 -n id1,id2 test.txt #å°†ç¬¬1,2åˆ—çš„æ ‡é¢˜æ”¹ä¸ºid1å’Œid2 mutate21$ csvtk mutate2 -n test -e '$1+$2' test.txt #æ·»åŠ æ–°åˆ—ï¼Œ-n æ–°åˆ—æ ‡é¢˜ï¼Œ-e å¤„ç†æ–¹å¼ï¼ˆawkæ¨¡å¼ï¼‰ sort123$ csvtk sort -k 2:n test.txt #-k åˆ¶å®šæŽ’åºè§„åˆ™ï¼Œ2:næ„ä¹‰ä¸ºæŒ‰ç¬¬äºŒè¡ŒæŽ’åºï¼Œå¹¶è®¤ä¸ºæ•°æ®ä¸ºæ•°å­—$ csvtk sort -k 1:N test.txt #-k åˆ¶å®šæŽ’åºè§„åˆ™ï¼Œ1:Næ„ä¹‰ä¸ºæŒ‰ç¬¬ä¸€è¡ŒæŽ’åºï¼Œå¹¶è®¤ä¸ºæ•°æ®ä¸ºå­—ç¬¦ä¸²ä¸Žæ•°å­—æ··åˆ$ csvtk sort -k 3:n,4:n test.txt #æŒ‰ç…§ç¬¬ä¸‰å››è¡ŒæŽ’åº]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ¯”å¯¹æ ¼å¼é—®é¢˜]]></title>
    <url>%2F2019%2F04%2F11%2Fka-ks%2F</url>
    <content type="text"><![CDATA[Phylip æ ¼å¼åœ¨ä½¿ pamlX çš„ CodeML è¿›è¡Œ Ka/Ks è®¡ç®—æ—¶ï¼Œè›‹ç™½æ¯”å¯¹åºåˆ—éœ€è¦ä¸å«ç»ˆæ­¢å¯†ç å­ä¸”æ ¼å¼ä¸º phylip æ ¼å¼ã€‚å¦‚ä»Š phylip æœ‰ä¸¤ç§æ ¼å¼ï¼šç¬¬ä¸€ç§ä¸º Phylip3.2ï¼Œç¬¬äºŒç§ä¸º Phylip4ã€‚è¿™ä¸¤ç§æ ¼å¼å…·æœ‰æ˜Žæ˜¾çš„å·®åˆ«ï¼Œå›¾ç¤ºå¦‚ä¸‹ï¼š å…¶ä¸­ï¼Œç¬¬ä¸€è¡Œ Phylip4 æ˜¯æ²¡æœ‰ I æ ‡è¯†çš„ï¼Œä¸” Phylip4 æ ¼å¼ä¸­æ˜¯æŠŠæ‰€æœ‰åºåˆ—çš„ç¬¬ä¸€è¡Œé›†ä¸­èµ·æ¥æ”¾ç½®çš„ã€‚åœ¨ CodeML ä½¿ç”¨ä¸­å‘çŽ°åªæœ‰ Phylip4 å¯ä»¥ä½¿ç”¨ï¼Œä½†æ˜¯ä¼šæŠ¥é”™ï¼ŒåŽŸå› ä¸æ¸…æ¥šï¼Œä½†æ˜¯åœ¨ Phylip4 æ ¼å¼æ–‡ä»¶ä¸­ç¬¬ä¸€è¡Œä¹ŸåŠ ä¸Š I æ ‡è¯†å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚ æ ¼å¼è½¬æ¢å·¥å…·åºåˆ—æ¯”å¯¹ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼šåœ¨çº¿ç‰ˆå’Œç¦»çº¿ç‰ˆï¼ŒçŽ°åœ¨æˆ‘é€šå¸¸ç”¨ mafftï¼Œmafft æ¯”å¯¹å®ŒåŽä¼šé»˜è®¤è¾“å‡º CLUSTAL çš„æ ¼å¼ã€‚å¥½ç”¨çš„æ˜¯ä»–æä¾›äº† Reformat æ¥è¿›è¡Œæ ¼å¼è½¬æ¢ï¼ŒåŸºæœ¬åŒ…å«äº†å¸¸ç”¨çš„æ‰€æœ‰æ ¼å¼ã€‚ç¦»çº¿çš„ä¸€ä¸ª python åŒ…å·¥å…·ä¸º seqmagickï¼Œå¯ä»¥è¿›è¡Œ fasta å’Œ phylipï¼Œfasta å’Œ fastq æ ¼å¼çš„è½¬æ¢ï¼Œä»–è¿˜å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå·²ç»æ¯”å¯¹å¥½çš„è›‹ç™½åºåˆ—æ¥è¿›è¡Œè›‹ç™½çš„ DNA åºåˆ—çš„å›žæ¯”å¯¹ï¼ˆå…·ä½“ä»€ä¹ˆä¸“ä¸šåå­—ä¸æ¸…æ¥šï¼‰ï¼Œä¹Ÿéžå¸¸æ–¹ä¾¿ã€‚]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[shinyCircosä½¿ç”¨æ–¹æ³•]]></title>
    <url>%2F2019%2F03%2F19%2FshinyCircos%2F</url>
    <content type="text"><![CDATA[é¡¹ç›®åœ°å€ï¼šhttps://github.com/venyao/shinyCircos ç”¨perlå†™çš„circosçš„å­¦ä¹ æˆæœ¬å¤ªé«˜äº†ï¼Œæƒ³çœ‹çœ‹ä¸¤ä¸ªåŸºå› ç»„ä¹‹é—´çš„å·®å¼‚ï¼ˆè£…ä¸ªé€¼ï¼‰æ€Žä¹ˆè¿˜å¾—å­¦ä¹ ä¸€å‘¨ï¼ŸçŽ°åœ¨æˆ‘ä»¬ç”¨shinyCircosè§£å†³è¿™ä¸ªçƒ¦æ¼ã€‚ å®‰è£…shinyCircosæ˜¯ä¸ªç”¨shinyéƒ¨ç½²çš„Råº”ç”¨ï¼Œæ‰€ä»¥ä½¿ç”¨RStudioå®‰è£…å°±å¥½äº†ã€‚ é¦–å…ˆå…ˆæŠŠè¿™äº›åŒ…å®‰è£…ï¼š 12345678install.packages("shiny") install.packages("circlize") install.packages("RColorBrewer")install.packages("data.table")install.packages("RLumShiny") # try http:// if https:// URLs are not supported source("https://bioconductor.org/biocLite.R") biocLite("GenomicRanges") ç„¶åŽè¿›å…¥é¡¹ç›®ä¸»é¡µï¼ŒæŠŠæ•´ä¸ªé¡¹ç›®ä¸‹è½½ä¸‹æ¥æ”¾åœ¨è‡ªå·±ç¡¬ç›˜çš„æŸä¸ªæ–‡ä»¶å¤¹ä¸‹å¹¶è§£åŽ‹ï¼ˆè§£åŽ‹åŽæ–‡ä»¶åä¸ºï¼šshinyCircos-masterï¼‰ã€‚ å›žåˆ°RStudioï¼Œå¹¶è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œåˆ™ä¼šè‡ªåŠ¨æ‰“å¼€shinyCircosçš„ç¨‹åºç½‘é¡µã€‚ 12library(shiny)runApp("your_dir/shinyCircos-master", launch.browser = TRUE) ä½¿ç”¨æ–‡ä»¶ç±»åž‹ä¸»é¡µç»™å‡ºäº†æ‰€æœ‰æ–‡ä»¶çš„ç¤ºä¾‹æ–‡ä»¶ï¼Œä¸‹è½½ä¸‹æ¥å¯¹æ¯”è‡ªå·±çš„æ–‡ä»¶å°±å¯ä»¥çŸ¥é“éœ€è¦åšå‡ºä»€ä¹ˆæ”¹å˜ã€‚ ä¸»æ–‡ä»¶ä¸»æ–‡ä»¶åŒ…å«3åˆ—ï¼šchr start end å¦‚æžœæ˜¯å•åŸºå› ç»„chråˆ—æŒ‰ç…§æ™®é€šæŸ“è‰²ä½“å‘½åå³å¯ï¼Œå¦‚æžœè¦åšå¤šåŸºå› ç»„ä¹‹é—´çš„å…³ç³»ï¼ŒæŸ“è‰²ä½“å‘½åè¦åŒºåˆ†å¼€ã€‚ trackstracksæ–‡ä»¶å¯ä»¥æœ‰ä»»æ„å¤šä¸ªï¼ŒåŒ…å«æœ‰æ•£ç‚¹å›¾ï¼Œæ¡å½¢å›¾ï¼ŒæŠ˜çº¿å›¾ï¼Œçƒ­å›¾ç­‰ç­‰ã€‚ æ•£ç‚¹å›¾ã€æŠ˜çº¿å›¾ã€æ¡å½¢å›¾åŒ…å«4åˆ—ï¼šchr start end value1 çƒ­å›¾åŒ…å«ï¼šchr start end value1 value2 value3 â€¦â€¦ valuen links datalink dataæ—¨åœ¨æè¿°æŸ“è‰²ä½“ä½ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚ æ•°æ®åŒ…å«6åˆ—æˆ–è€…7åˆ—ï¼šchr start end chr start end ï¼ˆcolorï¼‰ å¯¼å…¥æ•°æ®ç‚¹å‡»é¡µé¢çš„ data uploadï¼Œåœ¨Upload chromosome dataä¸‹é€‰æ‹©æœ¬åœ°çš„æŸ“è‰²ä½“æ–‡ä»¶ä¸Šä¼ ã€‚ç„¶åŽï¼Œåœ¨Upload data for inner tracksä¸‹é€‰æ‹©æœ¬åœ°çš„trackæ–‡ä»¶ä¸Šä¼ ï¼Œç‚¹å‡»åŽå¯ä»¥é€‰æ‹©å›¾çš„ç±»åž‹ï¼ˆæ•£ç‚¹ï¼Œæ¡å½¢ç­‰ï¼‰ã€‚æœ€åŽåœ¨Upload data to create linksä¸‹é€‰æ‹©æœ¬åœ°çš„è¿žé”æ–‡ä»¶ä¸Šä¼ ã€‚ç‚¹å‡»å·¦ä¸‹è§’çš„Goï¼å³å¯å±•ç¤ºã€æ£€æŸ¥å…¨éƒ¨ä¸Šä¼ çš„æ–‡ä»¶ã€‚ ç”»å›¾ç‚¹å‡»é¡µé¢çš„ Circos viasualizationè¿›å…¥ç”»å›¾ç•Œé¢ã€‚åœ¨Plot optionsä¸‹å‹¾é€‰ä½ æ‰€ä¸Šä¼ çš„æ‰€æœ‰æ–‡ä»¶çš„åå­—ã€‚é€‰æ‹©åŽä¼šæœ‰å„ç§ç»†å¾®çš„æ“ä½œè°ƒæ•´å›¾ç”»ã€‚æœ€åŽç‚¹å‡»å·¦ä¸‹è§’çš„Goï¼å³å¯å±•ç¤ºæ‰€åšcircoså›¾ï¼ŒåŒæ—¶æ”¯æŒPDF,SVGå’Œä½œå›¾æ‰€ç”¨Rè„šæœ¬çš„ä¸‹è½½ã€‚ å…·ä½“å®žè·µéœ€è¦ç†è§£å„ç§æ–‡ä»¶çš„å†…å®¹å’Œæ‰€åšå‡ºæ¥çš„å›¾çš„å¤–è§‚ï¼Œç›¸ä¿¡ä½ åœ¨ä¸æ–­çš„æ“ä½œä¸­ä¼šæ‘¸ç´¢åˆ°å…¶ä¸­çš„æ–¹æ³•çš„ã€‚æ¯•ç«Ÿä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢æ¯”ä¸€ä¸ªè„šæœ¬ç•Œé¢èˆ’æœçš„å¤šã€‚]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[plink-vcftools]]></title>
    <url>%2F2019%2F03%2F01%2Fplink-vcftools%2F</url>
    <content type="text"><![CDATA[bcftools123bgzip view.vcf #bgzipåŽ‹ç¼©bcftools index view.vcf.gz #å»ºç«‹ç´¢å¼• 12bcftools view view.vcf.gz -s NA00001,NA00002 -o subset.vcf #ç­›é€‰æ ·æœ¬bcftools view view.vcf.gz -s ^NA00001,NA00002 -o subset.vcf # ^åŽ»é™¤æ ·æœ¬ 1bcftools sort view.vcf.gz -o sort.view.vcf #æŽ’åºvcf 123456bcftools reheader -s trans.file sample.vcf -o new.sample.vcf #æ›´æ”¹vcfæ–‡ä»¶ä¸­æ ·æœ¬åcat trans.file NA00001 NA1 NA00002 NA2 NA00003 NA3 1bcftools concat chr1.vcf.gz chr2.vcf.gz -o concat.vcf #åˆå¹¶vcfæ–‡ä»¶ 1bcftools merge merge.a.vcf.gz merge.b.vcf.gz -o merge.vcf #åˆå¹¶vcfæ–‡ä»¶ï¼ˆå•æ ·æœ¬å¤švcfæ–‡ä»¶ï¼‰ 12bcftools stats view.vcf &gt; view.stats #ç»Ÿè®¡vcfæ–‡ä»¶bcftools filter view.vcf.gz --regions chr16:17052042-17594883 &gt; filter.vcf #é€‰æ‹©å›ºå®šåŒºåŸŸSNP vcftools1vcftools --vcf myvcf.vcf --plink --out myplink #vcf2ped 1vcftools --vcf final.vcf --min-alleles 2.0 --max-alleles 2.0 --max-missing 0.95 --non-ref-af 0.05 --max-non-ref-af 0.95 --recode -c &gt;filter.vcf #vcfè¿‡æ»¤ 1vcftools --vcf filter.vcf --thin 1000 --recode -c &gt;thin.vcf #æŒ‰snpé—´éš”è¿‡æ»¤vcf 1vcftools --gzvcf file.vcf.gz --positions specific_position.txt --recode --out specific_position.vcf #é€‰æ‹©æŒ‡å®šSNP plink1plink --vcf myvcf.vcf --recode --out myplink #vcf2ped 1plink --file FILENAME --make-bed --out FILENAME #ped2bed 12plink --bfile FILENAME --indep-pairwise 50 5 0.5 #LD-pruningplink --bfile FILENAME --extract plink.prune.in --make-bed --out data_pruned 1plink -file FILENAME --recodeHV --out recode #haploview]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[gwas]]></title>
    <url>%2F2019%2F01%2F04%2Fgwas%2F</url>
    <content type="text"><![CDATA[è´¨é‡æŽ§åˆ¶è´¨é‡æŽ§åˆ¶æ˜¯ä¸ºäº†åŽ»æŽ‰åœ¨æµ‹åºè¿‡ç¨‹ä¸­ä½Žè´¨é‡çš„ã€æ²¡æœ‰æµ‹åˆ°çš„å’Œæµ‹åºçš„æŽ¥å¤´åºåˆ—ã€‚è´¨æŽ§è½¯ä»¶å¤§åŒå°å¼‚ï¼Œåœ¨åŽ»é™¤ä½Žè´¨é‡ç¢±åŸºæ—¶ï¼Œæœ€å¥½ä½¿ç”¨çš„æ–¹æ³•åº”è¯¥æ˜¯æ»‘åŠ¨çª—å£ã€‚ å› ä¸ºæ ¹æ®ç›®å‰çš„æµ‹åºåŽŸç†ï¼Œreadçš„é”™è¯¯çŽ‡ä¼šæ˜Žæ˜¾å¯Œé›†äºŽæœ«ç«¯åŒºåŸŸï¼Œè€Œå‰åŠéƒ¨åˆ†çš„è´¨é‡éƒ½ä¼šæ¯”è¾ƒé«˜ï¼Œè¿™ç§è®¡ç®—(SOAPnukeæŒ‰ç…§ä½Žè´¨é‡ç¢±åŸºæ¯”ä¾‹åŽ»é™¤åºåˆ—)æ¯”ä¾‹çš„æ–¹æ³•å¹¶ä¸èƒ½å¾ˆå¥½åœ°åæ˜ è¿™ä¸€çŽ°è±¡ã€‚ è´¨æŽ§åŒæ—¶è¦æ³¨æ„æµ‹åºä¸‹æœºæ•°æ® fq æ–‡ä»¶çš„è´¨é‡å€¼æ ¼å¼æ˜¯Phred33è¿˜æ˜¯Phred64ã€‚ æ•°æ®æ¯”å¯¹æ•°æ®æ¯”å¯¹è½¯ä»¶è¿˜æ˜¯æœ€å¸¸ç”¨çš„ bwa ï¼Œåœ¨æž„å»ºå‚è€ƒåºåˆ—ç´¢å¼•æ—¶ï¼Œis ç®—æ³•æœ€å¿«(åŸºå› ç»„å°äºŽ1Gå¸¸ç”¨)ï¼Œè€Œ bwtsw ç”¨äºŽå¤§åŸºå› ç»„ã€‚ åœ¨ bwa memç®—æ³•æ¯”å¯¹æ—¶ï¼Œ-R &#39;@RG\tID:foo_lane\tPL:illumina\tLB:library\tSM:sample_name&#39; -Rå‚æ•°ä¸­çš„@RGä¿¡æ¯è¦ç»™å‡ºï¼Œå¦‚æžœæ²¡æœ‰ç»™å‡ºï¼Œä»ç„¶å¯ä»¥ä½¿ç”¨ picard ä¸­ AddOrReplaceReadGroups å¯¹ sam æˆ– bam æ–‡ä»¶è¿›è¡ŒåŠ å¤´å¤„ç†ã€‚è¿™ä¸ªä¿¡æ¯å¯¹äºŽæˆ‘ä»¬åŽç»­å¯¹æ¯”å¯¹æ•°æ®è¿›è¡Œé”™è¯¯çŽ‡åˆ†æžå’ŒMark duplicateæ—¶éžå¸¸é‡è¦ ã€‚ å¦å¤–ï¼Œsamtools å¯ä»¥åˆ©ç”¨å‚è€ƒåŸºå› ç»„ä¸º sam æˆ–è€… bam æ–‡ä»¶åŠ ä¸Š header ä¸­çš„ @SQ ä¿¡æ¯ã€‚ å˜å¼‚æ£€æµ‹å˜å¼‚æ£€æµ‹æ ¸å¿ƒæ˜¯ä½¿ç”¨ GATK ä¸­çš„HaplotypeCaller ç»„ä»¶è¿›è¡Œ snp calling ã€‚è€Œå†³å®šå˜å¼‚æ£€æµ‹æœ€ç»ˆç»“æžœçš„å¥½ååˆ™æ˜¯Variant quality score recalibrationï¼ˆVQSRï¼‰ï¼Œå…¶ä¸­VQSRä¸­ä½¿ç”¨VariantFiltrationè¿›è¡Œç¡¬è¿‡æ»¤æ—¶ï¼Œæˆ‘çš„å‚æ•°ä¸ºï¼š--filterExpression &quot;QD &lt; 2.0 || MQ &lt; 40.0 || ReadPosRankSum &lt; -8.0 || FS &gt; 60.0|| HaplotypeScore &gt; 13.0 || MQRankSum &lt; -12.5&quot; åœ¨èŽ·å¾—å˜å¼‚ vcf æ–‡ä»¶åŽå°†å…¶è½¬ä¸ºåŸºå› åž‹æ–‡ä»¶åŽï¼Œå¸¸å¸¸å‘çŽ°æœ‰äº›ä¸ªä½“åœ¨æŸäº›ä½ç‚¹ä¸Šæ˜¯æ²¡æœ‰åŸºå› åž‹çš„ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦Beagleè½¯ä»¶å°†è¿™äº›ç©ºç¼ºçš„ä½ç‚¹è¡¥é½ï¼Œå½¢æˆä¸€ä»½å®Œæ•´çš„å˜å¼‚æ–‡ä»¶ã€‚ vcf æ–‡ä»¶ä¹Ÿå¯ä»¥ ä½¿ç”¨SnpEffï¼Œ Annovar è¿™ä¸ª2ä¸ªè½¯ä»¶è¿›è¡Œå˜å¼‚æ³¨é‡Šï¼Œå¾—å‡ºæ¯ä¸€ä¸ªå˜å¼‚ä½ç‚¹çš„ç¡®åˆ‡åŠŸèƒ½ã€‚ ä¸ªæ€§åŒ–åˆ†æžä¸ªæ€§åŒ–æ˜¯å˜å¼‚æ–‡ä»¶å†…å®¹å……åˆ†æŒ–æŽ˜çš„è¿‡ç¨‹ï¼Œæ˜¯ä»Žå‡ ç™¾ä¸‡ snp ä½ç‚¹ä¸­æŒ‘é€‰å‡ºå’Œè¡¨åž‹å…·æœ‰æ˜¾è‘—è”ç³»çš„å‡ ä¸ªæˆ–å‡ åä¸ªä½ç‚¹çš„è¿‡ç¨‹ã€‚å¦‚æžœç¾¤ä½“ç»“æž„ç®€å•ï¼Œæ˜¯å•ä¸€ç§ç¾¤ä½¿ç”¨ç®€å•çº¿æ€§æ¨¡åž‹(GLM)å³å¯å¾—å‡ºè‰¯å¥½çš„ç»“æžœï¼Œå¦‚æžœæµ‹åºçš„åŒ…å«å¤šä¸ªç¾¤ä½“ï¼Œæˆ–è€…å•ç¾¤ä½“ç»è¿‡ç¾¤ä½“ç»“æž„åˆ†æž(PCAåˆ†æžã€structrueåˆ†æž)åˆ†ç¾¤ä¸¥é‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨æ··åˆçº¿æ€§æ¨¡åž‹(MLM)è¿›è¡Œåˆ†æžï¼ŒMLM éœ€è¦äº²ç¼˜çŸ©é˜µ(K)å’Œç¾¤ä½“ç»“æž„çŸ©é˜µ(Q)ä½œä¸ºåå˜é‡å»ºæ¨¡è®¡ç®—ã€‚ å»ºæ¨¡è®¡ç®—å‡ºç»“æžœåŽä¾¿å¯ä»¥ä½¿ç”¨ç»“æžœä¸­çš„På€¼ç”»æ›¼å“ˆé¡¿å›¾å’ŒQQå›¾ï¼ŒQQå›¾ç”¨æ¥æ£€æµ‹ç»“æžœçš„æ­£æ€æ€§ï¼Œæ›¼å“ˆé¡¿å›¾ä¸­é˜ˆå€¼ä¸€ç›´åœ¨è®¨è®ºå’Œç ”ç©¶ä¸­ï¼ŒåŒ…æ‹¬ä¸”ä¸é™äºŽ(Bonferroniæ ¡æ­£ï¼ŒsampleMï¼ŒKeffï¼ŒSLIDE)æ–¹æ³•æ¥ç¡®å®šé˜ˆå€¼ï¼Œä¸€èˆ¬ç®€å•çš„ï¼Œä½¿ç”¨0.05/snpæ•°ä½œä¸ºé˜ˆå€¼ï¼Œå¦‚æžœç»“æžœæœ‰ç‚¹å·®ï¼Œå¯ä»¥åšå‡ºå›¾åŽç¡®å®šé˜ˆå€¼åŽåœ¨é˜ˆå€¼ä¸Šç•™ä¸‹1-100ä¸ªç‚¹ä¸ºå¥½ã€‚ åœ¨é€‰å‡ºæ˜¾è‘—æ€§ä½ç‚¹åŽï¼ŒæŸ¥çœ‹æ³¨é‡Šæ–‡ä»¶ç¡®å®šä½ç‚¹çš„ä½ç½®ã€å˜å¼‚ã€åŠŸèƒ½ç­‰ï¼Œå¤„äºŽç¼–ç åŒºè¿˜æ˜¯éžç¼–ç åŒºï¼Œæ˜¯å¦æ”¹å˜æ°¨åŸºé…¸ç­‰ã€‚æŽ¥ä¸‹æ¥å°±æ˜¯æ‰¾å‡ºè¿™äº›ç‚¹æ‰€å¤„çš„åŸºå› æˆ–åŸºå› çš„ä¸Šä¸‹æ¸¸ä»€ä¹ˆä½ç½®ã€‚ä¸€èˆ¬ä»¥ä½ç‚¹çš„ä¸Šä¸‹æ¸¸500Kbæœå¯»ï¼Œä¸¥æ ¼çš„å¯ä»¥ä»¥ä¸Šä¸‹æ¸¸100Kbã€‚ ç»è¿‡èµ„æ–™ã€æ–‡çŒ®çš„ç¡®è®¤æŽ¥ä¸‹æ¥å°±è¦å‡†ç¡®ç¡®è®¤åŸºå› çš„ä¿¡æ¯(æ‰€é€‰åŸºå› å¾ˆå¯èƒ½æ˜¯æŸä¸ªäºšå®¶æ—çš„ä¸€ä¸ªåˆ†æ”¯)ï¼Œæ–¹æ³•å¯ä»¥æ˜¯è¿›åŒ–æ ‘ã€domain åˆ†æžã€‚ æŽ¨èæ–‡çŒ®è´¨æŽ§ï¼š Sickle: A sliding-window, adaptive, quality-based trimming tool for FastQ filesCutadapt removes adapter sequences from high-throughput sequencing reads æ¯”å¯¹ï¼š Fast and accurate short read alignment with Burrowsâ€“Wheeler transform å˜å¼‚æ£€æµ‹ Performance benchmarking of GATK3.8 and GATK4 A One-Penny Imputed Genome from Next-Generation Reference Panels Genotype imputation for genome-wide association studies Non-Synonymous and Synonymous Coding SNPs Show Similar Likelihood and Effect Size of Human Disease Association ä¸ªæ€§åŒ–åˆ†æž Mixed linear model approach adapted for genome-wide association studies The importance of cohort studies in the post-GWAS era From genome- wide associations to candidate causal variants by statistical fine- mapping]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[linux å·¥å…·æ›¿æ¢]]></title>
    <url>%2F2019%2F01%2F04%2Flinux-tools%2F</url>
    <content type="text"><![CDATA[ackç”¨æ¥ä»£æ›¿ linux ä¸­çš„ grep ï¼Œä½¿ç”¨æ–¹æ³•ï¼š https://github.com/beyondgrep/ack2 123456789ack text ./ #åœ¨å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­å¯»æ‰¾textå­˜åœ¨çš„è¡Œack text test.py #åœ¨test.py æ–‡ä»¶ä¸­å¯»æ‰¾textå­˜åœ¨çš„è¡Œack -i text test.py #å¿½ç•¥å¤§å°å†™ack -v text test.py #å¯»æ‰¾æ²¡æœ‰textå­˜åœ¨çš„è¡Œack -w text test.py #textå¿…é¡»æ˜¯ä¸€ä¸ªå•è¯ack -H text test.py #åŒæ—¶è¾“å‡ºæ–‡ä»¶åå’Œè¡Œå·ack -m 2 text test.py #æœ€å¤šè¾“å‡º2ä¸ªåŒ¹é…ack -g work #é€šè¿‡æ­£åˆ™è¡¨è¾¾å¯»æ‰¾æ–‡ä»¶ack -c text test.py #æŠ¥å‘Šæ€»åŒ¹é…è¡Œæ•° ripgrepç”¨æ¥ä»£æ›¿ linux ä¸­çš„ grep ï¼Œä½¿ç”¨æ–¹æ³•ï¼š https://github.com/BurntSushi/ripgrep/ 12345678rg text ./ #åœ¨å½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶ä¸­å¯»æ‰¾textå­˜åœ¨çš„è¡Œrg text *.py #åœ¨æ‰€æœ‰ python æ–‡ä»¶ä¸­å¯»æ‰¾textå­˜åœ¨çš„è¡Œrg -i text test.py #å¿½ç•¥å¤§å°å†™rg -v text test.py #å¯»æ‰¾æ²¡æœ‰textå­˜åœ¨çš„è¡Œrg -w text test.py #textå¿…é¡»æ˜¯ä¸€ä¸ªå•è¯rg -N text test.py #ä¸è¾“å‡ºè¡Œå·rg -z text test.gzip #æœç´¢åŽ‹ç¼©æ–‡ä»¶rg -c text test.py #æŠ¥å‘Šæ€»åŒ¹é…è¡Œæ•° nnnç”¨æ¥ä»£æ›¿ linux ä¸­çš„ ls ï¼Œä½¿ç”¨æ–¹æ³•ï¼š https://github.com/jarun/nnn 12345678910nnn ./#é”®ç›˜å¿«æ·é”®q #é€€å‡ºd #æ˜¾ç¤ºæ–‡ä»¶è¯¦ç»†. #æ˜¾ç¤ºéšè—æ–‡ä»¶s #æŒ‰æ–‡ä»¶å¤§å°æŽ’åºt #æŒ‰ä¿®æ”¹æ—¶é—´æŽ’åºe #åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶/ #è¿‡æ»¤ã€å¯»æ‰¾æ–‡ä»¶? #å¿«æ·é”®è¯´æ˜Ž fzffzf ç”¨æ¥è¿›è¡Œæ¨¡ç³ŠåŒ¹é…ï¼Œè¶…çº§å¼ºå¤§ã€‚ä½¿ç”¨Ctrl+r åå‘æŸ¥çœ‹å‘½ä»¤åŽ†å²ç„¶åŽè¿›è¡Œæ¨¡ç³Šæœç´¢å¿«é€Ÿå®šä½ã€‚less |fzf å¯ä»¥å¿«é€ŸæŸ¥æ‰¾éœ€è¦å†…å®¹ã€‚ https://github.com/junegunn/fzf less work1.1.1.py |fzf Ctrl + r progressprogress å¯ä»¥æ˜¾ç¤ºç³»ç»Ÿç»å¤§å¤šæ•°å‘½ä»¤çš„è¿›ç¨‹ã€‚ä½¿ç”¨ -w å‚æ•°é¢„ä¼°è¿›ç¨‹é€Ÿåº¦å’Œå‰©ä½™æ—¶é—´ã€‚ https://github.com/Xfennec/progress ccatç”¨æ¥ä»£æ›¿ç³»ç»Ÿçš„ cat å‘½ä»¤ï¼ˆä»£ç é«˜äº®ï¼‰ https://github.com/jingweno/ccat ncduncdu ç”¨æ¥ä»£æ›¿ç³»ç»Ÿçš„ du å‘½ä»¤ï¼Œä½¿ç”¨å‹å¥½çš„ç•Œé¢å±•ç¤ºå‚¨å­˜ä½¿ç”¨æƒ…å†µã€‚ https://github.com/rofl0r/ncdu ncdu tldrtldr ç”¨æ¥ä»£æ›¿ç³»ç»Ÿçš„ man å‘½ä»¤ï¼Œç›¸æ¯” man æ˜¯ç»™å‡ºä¸€ä¸ªå‘½ä»¤çš„è¯¦ç»†è§£é‡Šï¼Œtldræ˜¯ç»™å‡ºä¸€ä¸ªå‘½ä»¤çš„å¸¸ç”¨ç¤ºä¾‹ã€‚ https://github.com/tldr-pages/tldr]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[samæ–‡ä»¶headerå…¨é¢è§£æž]]></title>
    <url>%2F2018%2F11%2F20%2Fsam-header%2F</url>
    <content type="text"><![CDATA[ä¼—è¯´å‘¨çŸ¥ï¼Œæœ€å¸¸ç”¨çš„æ¯”å¯¹è½¯ä»¶ bwa äº§ç”Ÿçš„ç»“æžœæ–‡ä»¶æ˜¯ sam æ ¼å¼ï¼Œå…·ä½“æ ¼å¼å¯ä»¥å‚è€ƒ sam ã€‚ å…¶ä¸­æ–‡ä»¶çš„ä¸»ä½“ä¾¿æ˜¯æ¯”å¯¹çš„ç»“æžœï¼Œè€Œå¤´æ–‡ä»¶å¾€å¾€æ˜¯æˆ‘ä»¬æœ€å®¹æ˜“å¿½è§†çš„åœ°æ–¹ï¼Œå°¤å…¶è¸©è¿‡å¤ªå¤šçš„å‘ï¼Œç‰¹æ¥è§£é‡Šå’Œè®°å½•å…¶ headerã€‚ header ä¸­æœ€å¸¸è§çš„æœ‰3ä¸ªï¼š@SQ @RG @PG ï¼Œ@SQ ç”¨æ¥è®°å½•å‚è€ƒåºåˆ—çš„ä¿¡æ¯ï¼Œ@RG ç”¨æ¥è®°å½•æ ·æœ¬çš„ä¿¡æ¯ï¼Œ@PG ç”¨æ¥è®°å½• bwa ç¨‹åºä¿¡æ¯ã€‚ @SQ å’Œ @PG åœ¨ bwa æ¯”å¯¹ä¹‹åŽå°±ä¼šåœ¨ sam æ–‡ä»¶ä¸­å­˜åœ¨ã€‚è€Œ @RG åˆ™éœ€è¦è‡ªå·±åœ¨ bwa mem æ¯”å¯¹çš„å‘½ä»¤ä¸­ä½¿ç”¨ -R å‚æ•°æ¥æ·»åŠ ã€‚@RG è¿™ä¸ªä¿¡æ¯å¯¹äºŽæˆ‘ä»¬åŽç»­å¯¹æ¯”å¯¹æ•°æ®è¿›è¡Œé”™è¯¯çŽ‡åˆ†æžå’ŒMark duplicateæ—¶éžå¸¸é‡è¦ ã€‚ å¦‚æžœåœ¨ bwa æ¯”å¯¹æœŸé—´æ²¡æœ‰é€‰æ‹© -R å‚æ•°ï¼Œå¯ä»¥ picard ä¸­ AddOrReplaceReadGroups å¯¹ sam æˆ–bam æ–‡ä»¶è¿›è¡ŒåŠ å¤´å¤„ç†ã€‚ 12345678910-R '@RG\tID:sample\tLB:sample\tSM:sample\tPL:ILLUMINA' #bwa mem @RGå¤´æ ¼å¼java -jar picard.jar AddOrReplaceReadGroups \ #samæˆ–bamæ–‡ä»¶ï¼ˆpicard ï¼‰ I = input.bam \ O = output.bam \ RGID = 4 \ RGLB = lib1 \ RGPL = illumina \ RGPU = unit1 \ RGSM = 20 1234567891011$ bwa mem -t 4 genome.fa ./samples/A.fastq &gt;A.sam #éžå¸¸æ™®é€šçš„SEæ•°æ®bwaæ¯”å¯¹$ head -n 3 A.sam@SQ SN:I LN:230218@PG ID:bwa PN:bwa VN:0.7.17-r1188 CL:bwa mem -t 4 genome.fa -R SRR800764.1 4 * 0 0 * * 0 0 CATCTTTGGAGTAACTATTATTTCGCCCCTTTTGTTTGCTGCATATCGCCCCGCTCTCTGCATACACGATTGGATAATGACCAAAGCAAGGTTTAATACGCâ€¦â€¦â€¦â€¦ #å…³é”®çœ‹å¤´æ–‡ä»¶ï¼ŒåŽé¢æ¯”å¯¹ä¿¡æ¯çœç•¥$ samtools view -Sb A.sam &gt; A.bam #è½¬ä¸ºbamæ–‡ä»¶$ samtools sort A.bam &gt; A_sort.bam #æŽ’åº$ samtools view -h A_sort.bam &gt; A_sort.sam #å†è½¬å›žæ¥samæ–‡ä»¶ï¼Œä¸€å®šè¦åŠ -hå‚æ•°ï¼Œé»˜è®¤æ˜¯ä¸è¾“å‡ºheaderçš„ã€‚å¦‚æžœæ²¡æœ‰-hå‚æ•°ï¼Œæ˜¯æ— æ³•å¯¹samæ–‡ä»¶è¿›è¡Œè½¬æ¢å’ŒæŽ’åºçš„ã€‚å¦‚ä¸‹ï¼š[E::sam_parse1] missing SAM header[W::sam_read1] parse error at line 1[main_samview] truncated file. ä¸Šé¢æåˆ°åœ¨ç¼ºå°‘å¤´æ–‡ä»¶çš„å‰æä¸‹æ˜¯æ— æ³•å°† sam è½¬ä¸º bam çš„ï¼Œæ›´åŠ æ— è¿›è¡Œ bam æ–‡ä»¶æŽ’åºã€‚ä½†æ˜¯å¦‚æžœæˆ‘ä»¬ä½¿ç”¨ picard è¿™ä¸ªé—®é¢˜å°±å¯ä»¥è§£å†³äº†ã€‚ 1java -Xmx5g -Djava.io.tmpdir=./tmp -jar ../picard-tools-1.117/SortSam.jar INPUT=A_sort.sam OUTPUT=A_sort.bam SORT_ORDER=coordinate VALIDATION_STRINGENCY=SILENT picard çš„ SortSam.jar å¯ä»¥ç›´æŽ¥å¯¹æ²¡æœ‰ header çš„ sam æ–‡ä»¶æŽ’åºå¹¶è½¬ä¸º bam æ–‡ä»¶ã€‚ å¦å¤–ï¼Œsamtools å¯ä»¥ä¸ºsamæˆ–è€…bamæ–‡ä»¶åŠ ä¸Š header ä¸­çš„ @SQï¼š 1samtools view -Sb -T genome.fa sample_no_header.sam &gt;sample_with_header.bam #ä½¿ç”¨ -T å‚è€ƒåºåˆ—åŠ headerï¼ˆ@SQï¼‰]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ°´äº§è‚²ç§ä¸­çš„åŸºå› ç»„é€‰æ‹©ï¼ˆç¿»è¯‘ï¼‰(äºŒ)]]></title>
    <url>%2F2018%2F11%2F13%2FGenomic-Selection-in-Aquaculture-Breeding-Programs2%2F</url>
    <content type="text"><![CDATA[ä¸€ä¸ªå®žçŽ°åŸºå› ç»„é¢„æµ‹çš„å®žä¾‹å¦‚ä¸Šä¸€èŠ‚æ‰€è¿°ï¼Œè®¸å¤šæ–¹æ³•å·²è¢«ç”¨äºŽåŸºå› ç»„é¢„æµ‹ã€‚è¿™é‡Œï¼Œå°†ä½¿ç”¨RåŒ…rrBLUPå±•ç¤ºå®žçŽ°åŸºå› ç»„é¢„æµ‹çš„ç¤ºä¾‹ (Endelman, 2011)ã€‚åœ¨æ¼”ç¤ºä¸­ï¼Œå°†ä½¿ç”¨å¦ä¸€ä¸ªRåŒ…BLRä¸­çš„599ä¸ªå°éº¦å“ç³»çš„æ•°æ®é›†ï¼Œè¿™äº›å°éº¦ç³»åœ¨1279ä¸ªDArTæ ‡è®°ä¸Šè¿›è¡ŒåŸºå› åˆ†åž‹ã€‚å¦‚æžœä½ æ˜¯è¯­è¨€æ–°æ‰‹ï¼Œæœ‰è®¸å¤šåœ¨çº¿èµ„æºå¯ç”¨äºŽèŽ·å–Rçš„åŸºæœ¬ä»‹ç» (Torfs &amp; Brauer, 2014; Venables, Smith &amp; R Development Core Team, 2016)ã€‚ 12345678910111213141516171819202122232425262728293031install.packages('rrBLUP')install.packages('BLR')library(BLR)library(rrBLUP)rm(list=ls())set.seed(99) #è®¾ç½®éšæœºæ•°data(wheat) #è½½å…¥å°éº¦æ•°æ®############################################### marker-basedM &lt;- 2âˆ—X-1 #å°†æ ‡è®°è½¬æ¢ä¸º&#123;âˆ’1ï¼Œ1&#125;pheno &lt;-Y[,1] #å–ç¬¬ä¸€åˆ—è¡¨åž‹æ•°æ®geno &lt;- M #å–åŸºå› åž‹æ•°æ®whichTest&lt;-sample(1:length(pheno),100) #éšæœºå–å‡º100ä¸ªæ ·æœ¬è¡¨åž‹æ•°æ®çš„ç¼–å·phenoTrain &lt;- pheno[-whichTest] #å–å‡ºè®­ç»ƒé›†è¡¨åž‹æ•°æ®phenoTest &lt;- pheno[whichTest] #å–å‡ºæµ‹è¯•é›†è¡¨åž‹æ•°æ®GenoTrain &lt;- as.matrix(geno[-whichTest, ]) #å–å‡ºè®­ç»ƒé›†åŸºå› åž‹æ•°æ®genoTest &lt;- as.matrix(geno[whichTest, ]) ##å–å‡ºæµ‹è¯•é›†åŸºå› åž‹æ•°æ®markerEffects &lt;- mixed.solve(y=phenoTrain, Z=GenoTrain)$u #è®¡ç®—ä½ç‚¹æ•ˆåº”predictedGBV &lt;- genoTest%âˆ—%markerEffects #è®¡ç®—è‚²ç§å€¼(predictionAcc &lt;- cor(predictedGBV, phenoTest)) #è®¡ç®—è‚²ç§ç²¾ç¡®åº¦# 0.5370625############################################### kinship-basedA1 &lt;-A.mat(M) #è®¡ç®—åŸºå› ç»„å…³è”çŸ©é˜µrownames(A1) &lt;- 1:length(pheno) #æ›¿æ¢A1çŸ©é˜µè¡ŒåyNA=pheno #å–å‡ºè¡¨åž‹yNA[whichTest] &lt;- NA #å°†æµ‹è¯•é›†è¡¨åž‹åˆ é™¤data1 &lt;-data.frame(y=yNA,gid=1:length(pheno)) #æž„å»ºåˆ—è¡¨ans1 &lt;- kin.blup(data1,K=A1,geno="gid",pheno="y") #è®¡ç®—è‚²ç§ç»“æžœ(cor(ans1$g[whichTest],Y[whichTest,1])) #è®¡ç®—è‚²ç§ç²¾ç¡®åº¦# 0.5370625 GSçš„å‡ ä¸ªé‡è¦è€ƒè™‘éœ€è¦å¤šå°‘åŠ¨ç‰©è¿›è¡ŒåŸºå› åˆ†åž‹ï¼ŸGS çš„å‡†ç¡®æ€§å¯¹ä¸Žè‚²ç§æˆåŠŸè‡³å…³é‡è¦ï¼Œå®ƒæœ¬èº«å°±æ˜¯åŠ¨æ¤ç‰©è‚²ç§çš„ä¸€ä¸ªé‡è¦ç ”ç©¶é¢†åŸŸã€‚é™¤äº†é€‰æ‹©ç»Ÿè®¡æ¨¡åž‹å¤–ï¼ŒGS çš„å‡†ç¡®æ€§è¿˜å–å†³äºŽè®¸å¤šç›¸äº’å…³è”çš„å› ç´ ï¼Œå³åŸºå› ç»„å¤§å°ï¼Œæ ‡è®°å¯†åº¦ï¼Œæ ‡è®°ä¸Ž QTLä¹‹é—´çš„ LDï¼ŒQTL æ•ˆåº”çš„æ•°é‡å’Œå¤§å°ï¼Œæœ‰æ•ˆç¾¤ä½“å¤§å°ï¼Œè®­ç»ƒé›†çš„å¤§å°ï¼Œè®­ç»ƒä¸Žæµ‹è¯•é›†åŠ¨ç‰©çš„å…³ç³»å’Œæ€§çŠ¶é—ä¼ åŠ›ã€‚ä¸ºäº†è¾¾åˆ°æ‰€éœ€çš„ç²¾ç¡®åº¦ï¼Œè®­ç»ƒé›†çš„åŠ¨ç‰©æ•°é‡ä¸»è¦å–å†³äºŽæ€§çŠ¶çš„é—ä¼ åŠ›ä¼°è®¡å’Œç§ç¾¤çš„æœ‰æ•ˆè§„æ¨¡ã€‚ (Ne) (Figure 2)ã€‚è¾ƒä½Žçš„é—ä¼ åŠ›ä¼°è®¡å°†éœ€è¦ä¸€ä¸ªæ›´å¤§çš„è®­ç»ƒé›†ï¼ŒåŒæ—¶ï¼Œè¾ƒå¤§çš„Neä¹Ÿéœ€è¦ç›¸åº”çš„æ›´å¤§çš„è®­ç»ƒæ ·æœ¬ã€‚é€šå¸¸ï¼Œæ›´å¤šçš„è®­ç»ƒæ ·æœ¬å°†ä¸ºå€™é€‰æ ·æœ¬æä¾›æ›´å‡†ç¡®çš„é¢„æµ‹ã€‚ä¾‹å¦‚ï¼Œ è·æ–¯å¦å¥¶ç‰›éœ€è¦æœ‰åŸºå› åž‹å’Œè¡¨åž‹è®°å½•çš„3000-10000å¤´å…¬ç‰›å‚è€ƒç§ç¾¤æ‰èƒ½æœ‰0.7çš„åŸºå› ç»„é€‰æ‹©ç²¾ç¡®åº¦ã€‚ â€‹ Figure 2 å‚è€ƒç§ç¾¤ä¸­æ‰€éœ€çš„åŠ¨ç‰©æ•°é‡ï¼Œä»¥ä¾¿ä¸ºä¼°è®¡çš„GBVç²¾ç¡®æ€§è¾¾åˆ°0.7(Goddard &amp; Hayes, 2009) å¤šå°‘SNPä½ç‚¹æ‰è¶³å¤Ÿï¼Ÿsnpä½ç‚¹åº”è¯¥è¦†ç›–æ•´ä¸ªåŸºå› ç»„ï¼Œå¹¶ä¸”è¦æœ‰è¶³å¤Ÿçš„å¯†åº¦ä»¥ç¡®ä¿å¤§å¤šæ•°QTLéƒ½åœ¨LDä¸­ï¼Œéœ€è¦è‡³å°‘æœ‰ä¸€ä¸ªæ ‡è®°åœ¨LDåŒºé—´ï¼Œå› æ­¤ï¼Œå¯¹æ ‡è®°æ•ˆåº”çš„ä¼°è®¡å¯ä»¥æ•æ‰åˆ°æœ€å¤§çš„é—ä¼ å˜å¼‚ã€‚æ‰€éœ€SNPçš„æ€»æ•°ä¸»è¦å–å†³äºŽåŸºå› ç»„å¤§å°å’ŒåŸºå› ç»„çš„LDèŒƒå›´ã€‚é€šå¸¸ï¼Œç›¸é‚»SNPæ ‡è®°ä¹‹é—´çš„LDçš„ r2 &gt;0.2 ï¼Œé‚£SNPå°†ä¼šè¶³å¤Ÿ(Calus et al., 2008)ã€‚ åœ¨å®žè·µä¸­ï¼Œ50 K SNP ä¸ºå¥¶ç‰›å“ç§æä¾›äº†è¾ƒå¥½çš„é¢„æµ‹ç²¾åº¦ã€‚å°†å¯†åº¦ä»Ž50 Kè¿›ä¸€æ­¥å¢žåŠ åˆ°800 Kï¼Œåªä¼šç•¥å¾®å¢žåŠ é¢„æµ‹ç²¾åº¦ (Khatkar et al., 2012)ã€‚ç„¶è€Œï¼Œå¦‚æžœè®­ç»ƒé›†å’Œæµ‹è¯•é›†åŠ¨ç‰©æ˜¯ç›¸å…³çš„ï¼ŒåŸºå› ç»„å…³è”çŸ©é˜µï¼ˆGRMï¼‰å¯ç”¨äºŽä½¿ç”¨ gBLUP é¢„æµ‹ GBVã€‚GRM å¯ä»¥ç”¨ä¸€ä¸ªå¾ˆå°çš„ SNP é›†ç²¾ç¡®åœ°è®¡ç®—å‡ºæ¥ã€‚ ç”¨ä¸­ç­‰å¯†åº¦ SNP èŠ¯ç‰‡è¿›è¡ŒåŸºå› åˆ†åž‹çš„æˆæœ¬(ä¾‹å¦‚ï¼Œç‰›çš„50 K SNPèŠ¯ç‰‡)å¤§çº¦æ˜¯æ¯ä¸€ä¸ª DNA æ ·æœ¬40åˆ°100ç¾Žå…ƒã€‚åŸºå› åˆ†åž‹å’Œæµ‹åºçš„æˆæœ¬æ­£åœ¨è¿…é€Ÿä¸‹é™ï¼Œä½¿è¿™é¡¹æŠ€æœ¯åº”ç”¨äºŽæ›´å¤šç‰©ç§ï¼Œæˆæœ¬æ•ˆç›Šæ›´é«˜ã€‚æ­¤å¤–ï¼ŒåŸºå› åž‹ä¼°ç®—å¯ä»¥æœ‰æ•ˆåœ°æé«˜åŸºå› åž‹æ•°æ®çš„å¯†åº¦ï¼Œé™ä½Žæˆæœ¬ã€‚åŸºå› åž‹ä¼°ç®—åŒ…æ‹¬ç”¨é«˜å¯†åº¦ SNP é›†å¯¹ä¸€å°éƒ¨åˆ†ç¾¤ä½“è¿›è¡ŒåŸºå› åˆ†åž‹ï¼Œå¹¶ç”¨ä½Žæˆæœ¬ã€ä½Žå¯†åº¦ SNP ä½ç‚¹é¢„æµ‹å…¶ä»–ç¾¤ä½“çš„é«˜å¯†åº¦åŸºå› åž‹ï¼Œè¿™äº›ç»è¿‡è®¡ç®—æ¨¡æ‹Ÿçš„åŸºå› åž‹è™½ç„¶ä¸æ˜¯å¤ªå‡†ç¡®ï¼Œä½†æ˜¯è¿˜å¯ä»¥ç”¨äºŽ GS (Khatkar et al., 2012)ã€‚ å¯¹åŸºå› ç»„é¢„æµ‹æ¥è¯´ï¼Œæœ€é‡è¦çš„å› ç´ æ˜¯æ ·æœ¬æ•°è¿˜æ˜¯SNPsæ•°ï¼Ÿæ›´å¤šçš„è®°å½•å’Œæ›´ç´§å¯†çš„æ ‡è®°é—´è·æé«˜äº†å‡†ç¡®æ€§ã€‚ä½†æ˜¯ï¼Œå½“ SNP çš„å¯†åº¦å¾ˆå°æ—¶ï¼ˆå°äºŽ1000ä¸ªSNPsï¼‰ï¼Œåœ¨è®­ç»ƒé›†ä¸­å¢žåŠ æ›´å¤šçš„åŠ¨ç‰©å¯¹äºŽæé«˜åŸºå› ç»„é¢„æµ‹çš„å‡†ç¡®æ€§å˜å¾—æ›´åŠ é‡è¦ã€‚ æ˜¯å¦æœ‰å¯èƒ½é¢„æµ‹ä¸åŒå“ç§/ç¾¤ä½“ï¼Ÿæ˜¯å¦æœ‰å¯èƒ½é¢„æµ‹ä¸åŒå“ç§/ç¾¤ä½“â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªå“ç§çš„è®­ç»ƒåŠ¨ç‰©ä¸ºå¦ä¸€ä¸ªå“ç§åšé¢„æµ‹ã€‚GSå·²æˆåŠŸåœ°åº”ç”¨äºŽç¾¤ä½“å†…è‚²ç§å€¼çš„é¢„æµ‹ã€‚ç„¶è€Œï¼ŒGS åœ¨æ‚äº¤é¢„æµ‹ä¸­çš„æˆåŠŸæ˜¯æœ‰é™çš„ã€‚ä¾‹å¦‚ï¼Œå½“è®¡ç®—ä¸å±žäºŽè®­ç»ƒç»„çš„å“ç§çš„åŸºå› ç»„é¢„æµ‹æ—¶ï¼Œç²¾ç¡®åº¦æŽ¥è¿‘äºŽé›¶ï¼Œæˆ–éžå¸¸ä½Ž (Kachman et al., 2013)ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½¿ç”¨å‡ ä¸ªå…·æœ‰ä¸­/å¤§æ•ˆåº”çš„ SNP å¹¶é‡‡ç”¨è´å¶æ–¯æ–¹æ³•å¯èƒ½ä¼šæœ‰å¸®åŠ©ï¼Œå› ä¸ºè¿™å¯èƒ½åªåŒ…æ‹¬é‚£äº›è·¨å“ç³»/å“ç§åˆ†ç¦»çš„ QTLã€‚ æˆ‘ä»¬éœ€è¦æœ‰å…³åŸºå› å’ŒåŸºå› åŠŸèƒ½çš„çŸ¥è¯†å—ï¼Ÿåœ¨å®žè·µä¸­ï¼Œå¤§å¤šæ•°GSæ–¹æ³•ä¸»è¦ä½¿ç”¨(éžçº¿æ€§)çº¿æ€§æ¨¡åž‹ä¼°è®¡çš„ SNP æ•ˆåº”ï¼Œæˆ–è€…ä»…ä»…ä½¿ç”¨ GRMï¼Œå› æ­¤å®ƒä»¬æ²¡æœ‰åˆ©ç”¨åŸºå› ã€åŸºå› åŠŸèƒ½çš„ç‰¹å®šçŸ¥è¯†ï¼Œç”šè‡³æ²¡æœ‰åŸºå› ç»„ä¸­çš„SNPsçš„ç²¾ç¡®å®šä½ã€‚ å‡†ç¡®æ€§ä¼šéšç€ä¸–ä»£ä¸‹é™å—ï¼Ÿä¸€èˆ¬ï¼ŒåŸºå› ç»„é€‰æ‹©ä¸­GBVsçš„é¢„æµ‹æ˜¯åˆ©ç”¨æ ‡è®°ä¸Žæ•°é‡æ€§çŠ¶ä½ç‚¹ï¼ˆQTLï¼‰ä¹‹é—´çš„ LD æ¥å®žçŽ°çš„ã€‚ç„¶è€Œï¼Œåœ¨å®žè·µä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç§å†…é¢„æµ‹ï¼ŒåŸºå› ç»„é¢„æµ‹çš„å¯é æ€§å–å†³äºŽå€™é€‰/æµ‹è¯•ä¸­åŠ¨ç‰©ä¸Žè®­ç»ƒ/å‚è€ƒåŠ¨ç‰©ä¹‹é—´é—ä¼ å…³ç³»çš„å¼ºå¼±ã€‚å› æ­¤ï¼Œå½“åº”ç”¨äºŽä¸‹ä¸€ä»£æ—¶ï¼Œæ¥è‡ªå›ºå®šè®­ç»ƒé›†çš„é¢„æµ‹æ–¹ç¨‹çš„ç²¾åº¦ä¼šè¿…é€Ÿä¸‹é™ã€‚è¿™é€šå¸¸æ„å‘³ç€é¢„æµ‹æ–¹ç¨‹éœ€è¦é€šè¿‡æ·»åŠ æ¥è‡ªæ›´è¿‘å‡ ä»£çš„åŠ¨ç‰©æ¥æ›´æ–°ã€‚ ä½¿ç”¨GSä¼šå¢žåŠ è¿‘äº²ç¹æ®–å—ï¼Ÿè¾ƒçŸ­çš„ä¸–ä»£é—´éš”å’Œè¾ƒé«˜çš„é€‰æ‹©å¼ºåº¦å°†ä½¿è¿‘äº¤ç³»çš„å¹´çŽ‡æé«˜ã€‚ç‰¹åˆ«æ˜¯åœ¨é€‰æ‹©çš„æ ‡è®°é™„è¿‘è¿‘äº²ç¹æ®–ã€‚è¿™å°†éœ€è¦åœ¨ç®¡ç†ç§ç¾¤è¿‘äº²ç¹æ®–æ–¹é¢ç»™äºˆæ›´å¤šçš„å…³æ³¨ã€‚åˆ©ç”¨åŸºå› ç»„å…³ç³»ä¿¡æ¯è¿›è¡Œä»”ç»†çš„äº¤é…é€‰æ‹©ï¼Œå¦‚æœ€å°åŒç¥–å…ˆäº¤é…å’Œæœ€ä¼˜è´¡çŒ®é€‰æ‹©ï¼Œå¯ä»¥æŽ§åˆ¶è¿‘äº¤ç³»ã€‚ æ°´äº§å…»æ®–ä¸­çš„åŸºå› ç»„é€‰æ‹©æ°´äº§å…»æ®–ç‰©ç§ç¹å¤šï¼Œç”±äºŽç”Ÿå‘½å‘¨æœŸã€ç¹æ®–åŠ›ã€æœ‰æ•ˆç§ç¾¤è§„æ¨¡å’Œè‚²ç§ç›®æ ‡çš„ä¸åŒï¼ŒGS åœ¨æ°´äº§å…»æ®–ä¸­çš„æ½œåŠ›å°†å› å“ç§ä¸åŒè€Œæœ‰æ‰€ä¸åŒã€‚ç›®å‰ï¼Œä»¥æ°´äº§å…»æ®–å“ç§æœ€å¤šçš„ä¼ ç»Ÿå…»æ®–é¡¹ç›®ä¸»è¦é‡‡ç”¨ç¾¤ä½“é€‰æ‹©å’Œå®¶ç³»é€‰æ‹©ä¸¤ç§æ–¹å¼ã€‚åŒèƒžç³»æµ‹è¯•æ˜¯é’ˆå¯¹é‚£äº›ä¸èƒ½ç›´æŽ¥åœ¨å€™é€‰æ ·æœ¬ä¸Šæµ‹é‡çš„æ€§çŠ¶è¿›è¡Œçš„(ä¾‹å¦‚ï¼Œåœ¨ç”Ÿå‘½åŽæœŸæˆ–å± å®°æ—¶è®°å½•åˆ°çš„æ€§çŠ¶ã€æŠ—ç—…æ€§)ã€‚ä»¥å®¶ç³»ä¸ºåŸºç¡€çš„é€‰æ‹©åªä½¿ç”¨äº†ä¸€å°éƒ¨åˆ†(ä¸€åŠ)çš„é—ä¼ å˜å¼‚ï¼Œå¹¶å¯¼è‡´è¿‘äº²è‚²ç§çš„å¢žåŠ ã€‚GS è¿˜å¯ä»¥é¢„æµ‹å®¶æ—å†…éƒ¨çš„é—ä¼ å·®å¼‚ï¼Œå› æ­¤å¯ä»¥åˆ©ç”¨æ‰€æœ‰çš„é—ä¼ å˜å¼‚ã€‚ç”±äºŽåªä½¿ç”¨å¾ˆå°‘çš„åŠ¨ç‰©/å®¶ç³»è€Œå¯¼è‡´è¿‘äº²ç¹æ®–çš„å¢žåŠ æ˜¯æ°´äº§å…»æ®–ä¸­çš„ä¸€ä¸ªä¸»è¦é—®é¢˜ã€‚æ­¤å¤–ï¼Œåœ¨ä¼ ç»Ÿçš„é€‰æ‹©æ–¹æ¡ˆä¸­ï¼Œä¸ªä½“çš„æ ‡è®°ã€è°±ç³»çš„è®°å½•å’Œå•ç‹¬å®¶ç³»çš„é¥²å…»ä¹Ÿæ˜¯å›°éš¾å’Œæ˜‚è´µçš„ã€‚é—ä¼ æ ‡è®°çš„ä¿¡æ¯å¯ä»¥å¸®åŠ©åº”å¯¹å…¶ä¸­çš„ä¸€äº›æŒ‘æˆ˜ã€‚éšç€æµ‹åºå’ŒåŸºå› åˆ†åž‹æˆæœ¬çš„é™ä½Žï¼Œé—ä¼ æ ‡è®°å’Œ GS åœ¨æ°´äº§å…»æ®–ä¸­çš„åº”ç”¨è¶Šæ¥è¶Šå—åˆ°äººä»¬çš„é‡è§†ã€‚ç„¶è€Œï¼ŒSNP é›†çš„å¼€å‘å’ŒåŸºå› ç»„èµ„æºçš„åº”ç”¨ç›´åˆ°æœ€è¿‘æ‰åœ¨å‡ ä¸ªæ°´äº§å…»æ®–ç‰©ç§ä¸­è¿›è¡Œï¼Œä»¥æ­¤ï¼Œåœ¨å®žé™… GS å®žæ–½ç»“æžœçš„ä¿¡æ¯æ˜¯ä¸å…¨é¢çš„ã€‚å·²å‘è¡¨çš„æŠ¥å‘Šä¸»è¦æ˜¯åŸºäºŽ GS ä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®çš„æ•ˆçŽ‡ã€‚æ‰€æœ‰çš„æ¨¡æ‹Ÿç ”ç©¶è¡¨æ˜Žï¼Œä½¿ç”¨ GS æ¥è¿›è¡Œæ°´äº§å…»æ®–è‚²ç§å¯ä»¥æé«˜åœ¨ç”Ÿäº§(è¿žç»­åž‹)å’Œç–¾ç—…(äºŒåˆ†åž‹)ä½ç‚¹çš„é€‰æ‹©å’Œé—ä¼ å¢žç›Šçš„å‡†ç¡®æ€§ã€‚(Sonesson &amp; Meuwissen, 2009)ï¼›(Nielsen, Sonesson &amp; Meuwissen, 2011)ï¼› (Lillehammer,Meuwissen &amp; Sonesson, 2013)ï¼Œä¸Žä¼ ç»Ÿçš„åŒèƒžç³»æ£€æµ‹ç›¸æ¯”ï¼Œè¿‘äº²ç¹æ®–å‡å°‘äº†81%(Sonesson &amp; Meuwissen, 2009)ã€‚é€šè¿‡ç»“åˆä¼ ç»Ÿçš„ BLUP å®¶ç³»è‚²ç§å€¼å’ŒåŸºäºŽä½Žå¯†åº¦åŸºå› åˆ†åž‹è€Œä¸å½±å“é—ä¼ å¢žç›Šçš„å®¶ç³»å†…è‚²ç§å€¼ï¼Œä¹Ÿå¯ä»¥é™ä½ŽåŸºå› åˆ†åž‹çš„æˆæœ¬(Lillehammer et al., 2013)ã€‚ å°½ç®¡åŸºå› åˆ†åž‹å’Œæµ‹åºæˆæœ¬ä¸‹é™ï¼Œç”±äºŽå¤§é‡æ ·æœ¬çš„å…»æ®–å’ŒåŸºå› åˆ†åž‹ï¼ŒåŸºå› ç»„é€‰æ‹©ç­–ç•¥ä»ç„¶éœ€è¦å¾ˆå¤šçš„æˆæœ¬ã€‚ç„¶è€Œï¼Œéƒ¨åˆ†é¢å¤–æˆæœ¬å¯ä»¥ä»Žå¢žåŠ çš„é—ä¼ æ”¶ç›Šä¸­å¼¥è¡¥è€Œä¸”ä¸Žä¼ ç»Ÿçš„é€‰æ‹©æ–¹æ¡ˆç›¸æ¯”ï¼Œå¯¹åŒèƒžç³»æ ·æœ¬æµ‹è¯•çš„ä¾èµ–æ›´å°‘ã€‚å¤§å¤šæ•°æ°´äº§å…»æ®–ç‰©ç§ä¸­ä¸ªä½“åŠ¨ç‰©çš„ä»·å€¼ä¸€èˆ¬è¾ƒä½Žï¼ˆä¸Žç‰›ç›¸æ¯”ï¼‰ã€‚ç„¶è€Œï¼Œç”±äºŽå¤§å¤šæ•°æ°´äº§å…»æ®–ç‰©ç§çš„ç¹æ®–åŠ›å¾ˆé«˜ï¼Œé—ä¼ å¢žç›Šçš„å½±å“å› é—ä¼ æ”¶ç›Šä»Žç¹æ®–æ ¸å¿ƒç«‹å³è½¬ç§»åˆ°å•†ä¸šæ± å¡˜è€Œæ‰©å¤§ã€‚ç„¶è€Œï¼Œåˆ©ç”¨GSä¼˜åŒ–è‚²ç§æ–¹æ¡ˆè¿˜éœ€è¦è¿›ä¸€æ­¥çš„ç ”ç©¶ï¼Œæ¯”å¦‚åœ¨è®­ç»ƒå’Œé€‰æ‹©ä¸­ç¡®å®šæœ€ä½³çš„åŠ¨ç‰©æ•°é‡ï¼Œæ ‡è®°å¯†åº¦ï¼Œæœ€å°åŒ–è¿‘äº²ç¹æ®–æœ€å¤§åŒ–é•¿æœŸé—ä¼ æ”¶ç›Šï¼Œä¸Žä¼ ç»Ÿæ–¹æ¡ˆçš„æ¯”è¾ƒçš„ç»æµŽåˆ†æžã€‚GS é™¤äº†ç”¨äºŽæ€§çŠ¶å¤–ï¼Œé—ä¼ æ ‡è®°åœ¨æ°´äº§å…»æ®–ä¸­è¿˜å¯ä»¥æä¾›æ¯”ä¼ ç»Ÿæ–¹æ³•æ›´å¤šçš„ä¼˜åŠ¿ï¼Œä¾‹å¦‚ï¼Œæ€§åˆ«ç›¸å…³æ ‡è®°çš„ä½¿ç”¨å¯ä»¥ç”Ÿäº§å•æ€§åˆ«çš„åŽä»£(Robinson et al., 2014)ï¼›åŸºå› æ¸—å…¥å¯ä»¥ç”¨æ¥åœ¨ç§ç¾¤ä¸­å¼•å…¥ç†æƒ³çš„åŸºå› ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡åå¤å›žäº¤å’Œæ ‡è®°è¾…åŠ©é€‰æ‹©ï¼Œå°†å¯¹ç‰¹å®šç–¾ç—…çš„æŠ—æ€§ä»Žæœ¬åœ°èŒæ ªè½¬ç§»åˆ°å•†å“èŒæ ª(Odegard et al., 2009)ï¼›æ ‡è®°å¯ç”¨äºŽç›‘æµ‹å’Œç¹æ®–æ¥è‡ªç¾¤ä½“çš„ä»»ä½•æœ‰å®³çªå˜ï¼›é—ä¼ ç‰©è´¨çš„å¯æ“çºµæ€§æ¥ä¿æŠ¤è‚²ç§è€…ã€‚ æ€»ä¹‹ï¼Œéšç€åŸºå› ç»„æŠ€æœ¯çš„å¿«é€Ÿå‘å±•å’ŒåŸºå› ç»„ä¿¡æ¯èŽ·å–æˆæœ¬çš„ä¸æ–­é™ä½Žï¼Œå…¨åŸºå› ç»„é€‰æ‹©åœ¨æé«˜ç›ˆåˆ©èƒ½åŠ›å’Œåœ¨ä¸ªä½“æ•°å¢žåŠ ä¾æ—§ä¿æŒé—ä¼ å˜å¼‚æ€§çš„åŒæ—¶ï¼Œå¯¹æé«˜æ°´äº§å…»æ®–å“ç§çš„é£Ÿå“ç”Ÿäº§æ°´å¹³å…·æœ‰å¾ˆå¤§çš„æ½œåŠ›ã€‚ è‡´è°¢ååˆ†æ„Ÿè°¢ Dr. Gerhard Moser å¯¹æ­¤æ‰‹ç¨¿çš„å»ºè®®ã€‚ å‚è€ƒCalus, M.P., Meuwissen, T.H., de Roos, A.P. and Veerkamp, R.F. (2008) Accuracy of genomic selection using different methods to define haplotypes. Genetics, 178,553â€“561.de Los Campos, G., Hickey, J.M., Pong-Wong, R. et al. (2013) Whole-genome regression and prediction methods applied to plant and animal breeding. Genetics, 193, 327â€“345.de Los Campos, G., Naya, H., Gianola, D. et al. (2009) Predicting quantitative traits with regression models for dense molecular markers and pedigree. Genetics, 182, 375â€“385.Endelman, J.B. (2011) Ridge regression and other kernels for genomic selection with R package rrBLUP. Plant Genome, 4, 250â€“255.Erbe, M., Hayes, B.J., Matukumalli, L.K. et al. (2012) Improving accuracy of genomic predictions within and between dairy cattle breeds with imputed high-density singlenucleotide polymorphism panels. Journal of Dairy Science, 95, 4114â€“4129.Falconer, D.S. and Mackay, T.F.C. (1996) Introduction to quantitative genetics, 4th edn, Longman, Essex, UK.Gianola, D. and van Kaam, J.B. (2008) Reproducing kernel Hilbert spaces regression methods for genomic assisted prediction of quantitative traits. Genetics, 178,2289â€“2303.Goddard, M.E. and Hayes, B.J. (2009) Mapping genes for complex traits in domestic animals and their use in breeding programmes. Nature Reviews Genetics, 10, 381â€“391.Gonzalez-Camacho, J.M., de Los Campos, G., Perez, P. et al. (2012) Genome-enabled prediction of genetic values using radial basis function neural networks. Theoretical and Applied Genetics, 125, 759â€“771.Gonzalez-Recio, O., Weigel, K.A., Gianola, D. et al. (2010) L2-Boosting algorithm applied to high-dimensional problems in genomic selection. Genetics Research (Cambridge), 92,227â€“237.Habier, D., Fernando, R.L. and Dekkers, J.C. (2007) The impact of genetic relationship information on genome-assisted breeding values. Genetics, 177, 2389â€“2397 Habier, D., Fernando, R.L., Kizilkaya, K. and Garrick, D.J. (2011) Extension of the Bayesian alphabet for genomic selection. BMC Bioinformatics, 12, 186. Heslot, N., Yang, H.P., Sorrells, M.E. and Jannink, J.L. (2012) Genomic selection in plant breeding: a comparison of models. Crop Science, 52 (1), 146â€“160. Jannink, J.L., Lorenz, A.J. and Iwata, H. (2010) Genomic selection in plant breeding: from theory to practice. Briefings in Functional Genomics, 9, 166â€“177.Kachman, S.D., Spangler, M.L., Bennett, G.L. et al. (2013) Comparison of molecular breeding values based on within- and across-breed training in beef cattle. Genetics Selection Evolution, 45, 30.Khatkar, M.S., Moser, G., Hayes, B.J. and Raadsma, H.W. (2012) Strategies and utility of imputed SNP genotypes for genomic analysis in dairy cattle. BMC Genomics, 13, 538.Khatkar, M.S., Zenger, K.R., Hobbs, M. et al. (2007) A primary assembly of a bovine haplotype block map based on a 15,036-single-nucleotide polymorphism panel genotyped in Holstein-Friesian cattle. Genetics, 176, 763â€“772.Lillehammer, M., Meuwissen, T.H. and Sonesson, A.K. (2013) A low-marker density implementation of genomic selection in aquaculture using within-family genomic breeding values. Genetics Selection Evolution, 45, 39.Maenhout, S., De Baets, B. and Haesaert, G. (2010) Prediction of maize single-cross hybrid performance: support vector machine regression versus best linear prediction. Theoretical and Applied Genetics, 120, 415â€“427.Meuwissen, T.H., Hayes, B.J. and Goddard, M.E. (2001) Prediction of total genetic value using genome-wide dense marker maps. Genetics, 157, 1819â€“1829.Moser, G., Tier, B., Crump, R.E. et al. (2009) A comparison of five methods to predictgenomic breeding values of dairy bulls from genome-wide SNP markers. Genetics Selection Evolution, 41, 56.Nejati-Javaremi, A., Smith, C. and Gibson, J.P. (1997) Effect of total allelic relationship on accuracy of evaluation and response to selection. Journal of Animal Science, 75,1738â€“1745.Nielsen, H.M., Sonesson, A.K. and Meuwissen, T.H. (2011) Optimum contribution selection using traditional best linear unbiased prediction and genomic breeding values in aquaculture breeding schemes. Journal of Animal Science, 89, 630â€“638.Odegard, J., Yazdi, M.H., Sonesson, A.K. and Meuwissen, T.H. (2009) Incorporating desirable genetic characteristics from an inferior into a superior population using genomic selection. Genetics, 181, 737â€“745.Ogutu, J.O., Piepho, H.P. and Schulz-Streeck, T. (2011) A comparison of random forests, boosting and support vector machines for genomic selection. BMC Proceedings, 5 (3), S11.Pryce, J.E., Goddard, M.E., Raadsma, H.W. and Hayes, B.J. (2010) Deterministic models of breeding scheme designs that incorporate genomic selection. Journal of Dairy Science,93, 5455â€“5466.Robinson, N.A., Gopikrishna, G., Baranski, M. et al. (2014) QTL for white spot syndrome virus resistance and the sex-determining locus in the Indian black tiger shrimp (Penaeus monodon). BMC Genomics, 15, 731.Schaeffer, L.R. (2006) Strategy for applying genome-wide selection in dairy cattle. Journal of Animal Breeding and Genetics, 123, 218â€“223.Sonesson, A.K. and Meuwissen, T.H.E. (2009) Testing strategies for genomic selection in aquaculture breeding programs. Genetics Selection Evolution, 41, 1. Torfs, P. and Brauer, C. (2014). â€œA (very) short introduction to R,â€ Hydrology and Quantitative Water Management Group, Wageningen University, The Netherlands,available at https://cran.r-project.org/doc/contrib/Torfs+Brauer-Short-R-Intro.pdf Tsai, H.Y., Hamilton, A., Tinch, A.E. et al. (2015) Genome wide association and genomic prediction for growth traits in juvenile farmed Atlantic salmon using a high density SNP array. BMC Genomics, 16, 969.VanRaden, P.M. (2008) Efficient methods to compute genomic predictions. Journal of Dairy Science, 91ï¼Œ4414â€“4423.VanRaden, P.M., Van Tassell, C.P., Wiggans, G.R. et al. (2009) Invited review: reliability of genomic predictions for North American Holstein bulls. Journal of Dairy Science, 92,16â€“24.Vazquez, A.I., de los Campos, G., Klimentidis, Y.C. et al. (2012) A comprehensive genetic approach for improving prediction of skin cancer risk in humans. Genetics, 192,1493â€“1502.Venables, W.N., Smith, D.M. and the R Core Team. (2016). An introduction to R.Notes on R: A programming environment for data analysis and graphics. Version 3.2.4 (2016-03-10) Available: https://cran.r-project.org/doc/manuals/R-intro.pdf. Accessed 15 April 2016.]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[æ°´äº§è‚²ç§ä¸­çš„åŸºå› ç»„é€‰æ‹©ï¼ˆç¿»è¯‘ï¼‰(ä¸€)]]></title>
    <url>%2F2018%2F11%2F08%2FGenomic-Selection-in-Aquaculture-Breeding-Programs%2F</url>
    <content type="text"><![CDATA[â€‹ ä½œè€…ï¼šMehar S. Khatkar â€‹ ç¿»è¯‘ï¼šè½©æš® ä»‹ç»åŸºå› ç»„é€‰æ‹©æœ€åˆåœ¨2001å¹´è¢«æå‡ºï¼Œå¦‚ä»Šå·²ç»åœ¨å®¶ç•œä¸­å¹¿æ³›åº”ç”¨ã€‚ä½†æ˜¯è¿„ä»Šä¸ºæ­¢åœ¨æ°´äº§ç‰©ç§ä¸­çš„åº”ç”¨å´ååˆ†å—é™ã€‚åœ¨è¿™ä¸€ç« æˆ‘ä»¬ä»‹ç»äº†åŸºå› ç»„é€‰æ‹©çš„åŸºæœ¬åŽŸç†ï¼Œå¹¶ç»™å‡ºå¦‚ä½•è¿›è¡ŒåŸºå› ç»„é€‰æ‹©çš„ç¤ºä¾‹ï¼Œåœ¨ç»“å°¾æå‡ºäº†ä¸€äº›å¯¹æ°´äº§ç‰©ç§çš„çœ‹æ³•ã€‚ æœ€æ–°ç ”ç©¶çš„åˆ†å­æŠ€æœ¯ä¸ºèŽ·å¾—æˆåƒä¸Šä¸‡çš„é—ä¼ æ ‡è®°æä¾›äº†å¯èƒ½ï¼ˆå…¸åž‹çš„æ ‡è®° SNPsï¼‰ï¼Œå³ä½¿åœ¨æ²¡æœ‰åŸºå› ç»„ç»„è£…æˆ–é—ä¼ å›¾è°±çš„ç‰©ç§ä¸­ä¹Ÿæ˜¯å¦‚æ­¤ã€‚åŸºå› åˆ†åž‹å’Œæµ‹åºçš„æˆæœ¬ä¸æ–­ä¸‹é™ï¼Œä½¿å¾—åœ¨è®¸å¤šæ°´äº§ç‰©ç§ä¸­ä½¿ç”¨è¿™äº›å·¥å…·æˆä¸ºå¯èƒ½ã€‚æ¥è‡ªå®¶ç³»æˆ–éžå®¶ç³»ç¾¤ä½“çš„åŸºå› åž‹æ•°æ®å¯ä»¥æä¾›å¯¹ç§ç¾¤ç»“æž„ã€åŸºå› å…³è”å’Œé€‰æ‹©è‚²ç§ä¿¡æ¯çš„è§è§£ã€‚äº‹å®žä¸Šï¼Œéšç€åˆ†å­æ•°æ®çš„å®¹æ˜“èŽ·å¾—æ€§ï¼Œå°±ä¸å†éœ€è¦è®°å½•å®¶ç³»ä¿¡æ¯ï¼Œè¿™å¯ä»¥å¤§å¤§ç®€åŒ–è‚²ç§è®¡åˆ’ï¼Œç‰¹åˆ«æ˜¯åœ¨æ°´äº§ç‰©ç§ä¸­ã€‚æœ¬ç« é¦–å…ˆä»‹ç»äº†åŸºå› ç»„é€‰æ‹©çš„æ¦‚å¿µï¼Œå³é—ä¼ æ ‡è®°åœ¨é€‰æ‹©è‚²ç§ä¸­çš„åº”ç”¨ï¼Œç„¶åŽä»‹ç»äº†é—ä¼ æ ‡è®°åœ¨æ°´äº§è‚²ç§ä¸­çš„åº”ç”¨å‰æ™¯ã€‚ åŸºå› ç»„é€‰æ‹©åˆ†å­æ ‡è®°åœ¨åŠ¨ç‰©è‚²ç§ä¸­çš„åº”ç”¨å·²ç»æœ‰å¾ˆé•¿ä¸€æ®µæ—¶é—´äº†ã€‚ç„¶è€Œï¼Œç›´åˆ°è¿‘äº›å¹´å¯ä»¥å¤§é‡åœ°èŽ·å¾—å…¨åŸºå› ç»„çš„åˆ†å­æ ‡è®°ï¼Œæ‰ä½¿å¾—ä½¿ç”¨DNAæ£€æµ‹æ¥ç›´æŽ¥é¢„æµ‹åŠ¨ç‰©çš„è‚²ç§ç‰¹æ€§æˆä¸ºå¯èƒ½ã€‚é€šè¿‡æ¨¡æ‹Ÿï¼Œ Meuwissen,Hayes, and Goddard (2001)è¡¨æ˜ŽåŠ¨ç‰©çš„é—ä¼ å€¼å¯ä»¥ä¸ä½¿ç”¨å…¶è¡¨åž‹æˆ–å®¶ç³»ä¿¡æ¯ï¼Œåªä½¿ç”¨åœ¨æŸ“è‰²ä½“ä¸Šé«˜å¯†åº¦æ ‡è®°çš„åŸºå› åž‹è¢«å‡†ç¡®åœ°ä¼°è®¡å‡ºæ¥ã€‚åœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œæœ€è‘—åçš„å°±æ˜¯åŸºå› ç»„é€‰æ‹©ï¼ˆgenomic selectionï¼ŒGSï¼‰æˆ–ç§°ä¸ºå…¨åŸºå› ç»„é€‰æ‹©ï¼ˆwhole genome selectionï¼‰ï¼Œé€‰æ‹©å†³å®šæ˜¯æ ¹æ®åŸºå› ç»„è‚²ç§å€¼(GBVs)ä½œå‡ºçš„ï¼ŒåŸºå› ç»„è‚²ç§å€¼ä¸€èˆ¬ä½¿ç”¨é«˜å¯†åº¦æ ‡è®°ï¼ˆSNPsï¼‰è®¡ç®—å¾—å‡ºã€‚åŸºå› ç»„é€‰æ‹©ä¾èµ–äºŽå¦‚ä¸‹å‡è®¾ï¼šå…¨åŸºå› ç»„æ ‡è®°çš„å¯†åº¦è¶³å¤Ÿé«˜ã€è‡³å°‘ä¸€ä¸ªæ•°é‡æ€§çŠ¶ä½ç‚¹å¤„äºŽé«˜åº¦è¿žé”ä¸å¹³è¡¡åŒºé—´ã€‚æ•´ä¸ªåŸºå› ç»„æ ‡è®°æ•ˆåº”çš„ä¼°è®¡å°†ä¸ºæŸä¸€ä¸ªæ€§çŠ¶çš„é—ä¼ ä»·å€¼æä¾›å‡†ç¡®çš„é¢„æµ‹ã€‚ åŸºå› ç»„é€‰æ‹©çš„å®žçŽ°éžå¸¸ç®€å•ã€‚å®ƒä½¿ç”¨â€œè®­ç»ƒç¾¤ä½“â€ï¼ˆå¤šä¸ªä¸ªä½“æ ·æœ¬ï¼‰æ¥å»ºç«‹é¢„æµ‹æ–¹ç¨‹ï¼Œè¯¥ç¾¤ä½“æ—¢æœ‰åŸºå› åž‹ä¹Ÿæœ‰è¡¨åž‹ã€‚ç„¶åŽï¼Œå°†æ­¤æ–¹ç¨‹åº”ç”¨äºŽâ€œæµ‹è¯•ç¾¤ä½“â€ï¼ˆå¦å¤–å¤šä¸ªä¸ªä½“æ ·æœ¬ï¼‰çš„åŸºå› åž‹ï¼Œä»¥è®¡ç®—åˆ†å­æˆ–åŸºå› ç»„çš„è‚²ç§å€¼(GBVs)ã€‚ä½¿ç”¨è‚²ç§å€¼æŽ’åºå’Œé€‰æ‹©æ ·æœ¬æ¥ä½œä¸ºä¸‹ä¸€ä»£çš„çˆ¶æ¯æœ¬ã€‚ï¼ˆFigure 1ï¼‰å¦‚æžœéœ€è¦ï¼Œå¯ä»¥å†ä½¿ç”¨ä¼ ç»Ÿçš„ä¼°è®¡è‚²ç§å€¼(EBVs)æ¥ç”ŸæˆåŸºå› ç»„ä¼°è®¡è‚²ç§å€¼(GEBV)ã€‚ â€‹ Figure 1 åŸºå› ç»„é€‰æ‹©æ¦‚è¿°ï¼ˆæ”¹ç¼–è‡ªGoddard &amp; Hayes, 2009ï¼‰ ä¸Žä¼ ç»Ÿè‚²ç§æ–¹æ¡ˆç›¸æ¯”ï¼ŒåŸºå› ç»„é€‰æ‹©å¯ä»¥æé«˜é—ä¼ å¢žç›ŠçŽ‡ï¼Œå› ä¸ºå®ƒå¯ä»¥å¤§å¹…ç¼©çŸ­ä¸–ä»£é—´éš”å’Œå¢žåŠ é€‰æ‹©å¼ºåº¦(Schaeffer, 2006)ã€‚ä¾‹å¦‚ï¼Œç»µç¾Šå’Œå¥¶ç‰›çš„é—ä¼ æ”¹è‰¯çŽ‡åˆ†åˆ«æé«˜äº†25%å’Œ100%ã€‚åŸºå› ç»„é€‰æ‹©å¯¹äºŽæ˜‚è´µä¸”éš¾ä»¥æµ‹å®šè¡¨åž‹çš„æ€§çŠ¶å°¤å…¶æœ‰å¸å¼•åŠ›ï¼Œè¿™äº›æ€§çŠ¶ä»…ä»¥æ˜¯å¦æ­»äº¡æ¥è¡¡é‡ï¼Œæˆ–åœ¨ç”Ÿå‘½åŽæœŸè¡¨è¾¾å‡ºæ¥(Pryce et al., 2010)ã€‚åŸºå› ç»„é€‰æ‹©å¯èƒ½ä¼šå¢žåŠ éš¾ä»¥è®°å½•æ€§çŠ¶çš„é—ä¼ å¢žç›Šï¼Œä¾‹å¦‚æ°´äº§å…»æ®–å’Œå®¶ç¦½å“ç§çš„æŠ—ç—…æ€§ï¼ŒçŒªçš„è‚‰è´¨å’Œç»µç¾Šä¸€ç”Ÿçš„ç¾Šæ¯›äº§é‡åŠæŠ—è™«æ€§ã€‚åŸºå› ç»„é€‰æ‹©æŠ€æœ¯è¢«è®¤ä¸ºæ˜¯åŠ¨æ¤ç‰©è‚²ç§è®¡åˆ’ä¸­çš„ä¸€ä¸ªå·¨å¤§é‡Œç¨‹ç¢‘ã€‚åœ¨å®¶ç•œä¸­ï¼ŒSNP èŠ¯ç‰‡é¦–æ¬¡åº”ç”¨åœ¨ç‰›ä¸­(Khatkar et al., 2007)ï¼Œè¿™ä½¿å¾—åŸºå› ç»„é€‰æ‹©é¦–æ¬¡æˆåŠŸåœ°åº”ç”¨äºŽå¥¶ç‰›(Moser et al., 2009)ï¼›(VanRaden et al., 2009)ã€‚åŸºå› ç»„é€‰æ‹©å·²ç»å–ä»£äº†è®¸å¤šå›½å®¶çš„åŽè£”æµ‹å®šæ–¹æ³•ï¼Œæˆ–è€…æ­£åº”ç”¨äºŽåŽè£”æµ‹å®šçš„å¹¼å¹´å…¬ç‰›é¢„é€‰ã€‚ç›®å‰ï¼ŒåŸºå› ç»„é€‰æ‹©æ­£è¢«åº”ç”¨äºŽè®¸å¤šå…¶ä»–åŠ¨æ¤ç‰©ç‰©ç§ä¸­(Goddard &amp; Hayes,2009)ï¼Œéƒ½å…·æœ‰ä¸åŒç¨‹åº¦çš„æˆåŠŸã€‚åŸºå› ç»„é¢„æµ‹çš„åŽŸç†ç”šè‡³åœ¨äººç±»ç ”ç©¶ä¸­å¾—åˆ°äº†åº”ç”¨ï¼Œç‰¹åˆ«æ˜¯å¯¹äºŽé«˜å±äººç¾¤çš„è¯†åˆ«è¿›è¡Œäº†æœ€ä½³å¹²é¢„å’Œä¸ªæ€§åŒ–æ²»ç–—ã€‚ä¾‹å¦‚ï¼Œä¸€ç§åŸºå› ç»„é¢„æµ‹æ–¹æ³•è¢«ç”¨æ¥é¢„æµ‹äººç±»æ‚£çš®è‚¤ç™Œçš„å¯èƒ½æ€§ï¼Œå¹¶å–å¾—äº†å¾ˆå¥½çš„ç»“æžœ(Vazquez et al., 2012)ã€‚ç„¶è€Œï¼Œåº”è¯¥æ³¨æ„åˆ°åœ¨ä½¿ç”¨â€œåŸºå› ç»„é€‰æ‹©â€å’Œâ€œåŸºå› ç»„é¢„æµ‹â€è¿™ä¸¤ä¸ªæœ¯è¯­æ–¹é¢çš„åŒºåˆ«ã€‚â€œåŸºå› ç»„é€‰æ‹©â€å·²è¢«ç”¨äºŽåŠ¨ç‰©è‚²ç§è®¡åˆ’ï¼Œè¿™åŒ…æ‹¬é€šè¿‡åŸºå› ç»„é¢„æµ‹é‰´å®šé—ä¼ ä¼˜è¶Šçš„åŠ¨ç‰©é€‰æ‹©å’Œé€‰æ‹©åŠ¨ç‰©äº¤é…ä»¥ç”Ÿäº§ä¸‹ä¸€ä»£ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œâ€œåŸºå› ç»„é¢„æµ‹â€åªæ¶‰åŠä»ŽåŸºå› ç»„ä¿¡æ¯ä¸­é¢„æµ‹ä¸ªä½“çš„é—ä¼ å€¼ï¼Œå¹¶ä¸”æ›´é€‚åˆäºŽäººç±»ç ”ç©¶ã€‚ åŸºå› ç»„é€‰æ‹©çš„æ­¥éª¤å›¾ 1 å·²ç»æ¦‚è¿°äº†åŸºå› ç»„é€‰æ‹©ï¼ŒåŒ…æ‹¬ä»¥ä¸‹ä¸»è¦æ­¥éª¤ã€‚ å‚è€ƒç¾¤ä½“çš„å‡†å¤‡æž„å»ºå‚è€ƒç§ç¾¤éœ€è¦å¤§é‡çš„åŠ¨ç‰©æ ·æœ¬ã€‚è¿™äº›åŠ¨ç‰©è¢«ç”¨æ¥æµ‹å®šæ‰€æ„Ÿå…´è¶£çš„æ€§çŠ¶ï¼Œå¹¶å¯¹åŸºå› ç»„èŒƒå›´çš„æ ‡è®°è¿›è¡ŒåŸºå› åˆ†åž‹ï¼Œé€šå¸¸ä½¿ç”¨ snp èŠ¯ç‰‡æ¥èŽ·å¾—å¤§é‡çš„ snp æ ‡è®°ã€‚ä¸ºäº†è¿›è¡Œç»Ÿè®¡åˆ†æžï¼ŒSNP åŸºå› åž‹é€šå¸¸ç¼–ç ä¸ºæ•°å€¼å˜é‡ï¼Œå–å€¼ä¸º0ã€1æˆ–2ï¼Œåˆ†åˆ«å¯¹åº”äºŽä¸€ä¸ªçº¯åˆå­ã€æ‚åˆå­ã€å¦ä¸€ä¸ªçº¯åˆå­ã€‚å‚è€ƒç¾¤ä½“é€šå¸¸åˆ†ä¸ºè®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚ é¢„æµ‹æ–¹ç¨‹æ¯ä¸ª SNP æ ‡è®°ï¼ˆç¼–ç ä¸º0ï¼Œ1å’Œ2ï¼Œä¸€ä¸ªç­‰ä½åŸºå› çš„æ•°ç›®æˆ–æ‹·è´ï¼‰æ•ˆæžœä¼°è®¡(W)çš„è®­ç»ƒç»“æžœç»Ÿè®¡åˆ†æžä»¥åŠæ‰€æœ‰æ ‡è®°çš„åŸºå› åž‹æ•ˆåº”è”åˆç”Ÿæˆä¸€ä¸ªé¢„æµ‹æ–¹ç¨‹æ¥ä¼°è®¡æ¯ç§åŠ¨ç‰©çš„è‚²ç§å€¼ã€‚ â€‹ GBV = w1âˆ— SNP1 + w2âˆ— SNP2 + w3âˆ— SNP3 +â€¦+ Wnâˆ— SNPn wæ˜¯åå›žå½’ç³»æ•°æˆ–ç§°ä¸ºæŸä¸ªSNPçš„æ•ˆåº”å€¼å¤§å°ï¼ŒSNPæ˜¯åŸºå› åž‹ï¼ˆæ•°å€¼åž‹ï¼‰çš„è½½ä½“ã€‚ ä¸‹èŠ‚æåˆ°çš„è®¸å¤šåˆ†æžæ–¹æ³•çš„å…¶ä¸­ä¸€ç§å¯ä»¥ç”¨æ¥å»ºç«‹è¿™æ ·çš„æ–¹ç¨‹ã€‚ é¢„æµ‹æ–¹ç¨‹çš„éªŒè¯éªŒè¯é›†ä¸­çš„åŠ¨ç‰©ä¹Ÿæœ‰åŸºå› åž‹å’Œè¡¨åž‹çš„æ•°æ®ã€‚å°†ä¸Šè¿°é¢„æµ‹æ–¹ç¨‹åº”ç”¨äºŽéªŒè¯é›†åŠ¨ç‰©çš„åŸºå› åž‹ï¼Œç”¨ä»¥ä¼°è®¡ GBVsã€‚é¢„æµ‹æ–¹ç¨‹çš„å‡†ç¡®æ€§æ˜¯é€šè¿‡å°†ä¼°è®¡çš„ GBVs å€¼ä¸Žå®žé™…çš„è¡¨åž‹ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒæ¥è¯„ä¼°çš„ã€‚è¿žç»­æ€§çŠ¶çš„é¢„æµ‹ç²¾åº¦å¯ä»¥ç”¨æ€§çŠ¶çš„é¢„æµ‹å€¼å’Œå®žé™…å€¼çš„æ–¹å·®æˆ–ç›¸å…³ç³»æ•°æ¥è¡¡é‡ã€‚æ­¤æ­¥éª¤æ˜¯å¯é€‰çš„ï¼Œä½†æä¾›äº†å…³äºŽåŸºå› ç»„é€‰æ‹©å‡†ç¡®æ€§çš„é‡è¦ä¿¡æ¯ï¼Œå› æ­¤å»ºè®®è¿›è¡Œã€‚ æµ‹è¯•é›†ä¸ªä½“è‚²ç§å€¼çš„è®¡ç®—æµ‹è¯•é›†ä¸ªä½“åªéœ€æœ‰åŸºå› åž‹ï¼Œä¸éœ€è¦è¡¨åž‹ä¿¡æ¯ã€‚å°†é¢„æµ‹æ–¹ç¨‹åº”ç”¨äºŽè¿™äº›åŠ¨ç‰©çš„åŸºå› åž‹è®¡ç®—ä¸­ã€‚ é€‰æ‹©ä¸Žäº¤é…æµ‹è¯•é›†ä¸ªä½“æ ¹æ®GBVsè¿›è¡ŒæŽ’åºï¼Œè€ŒæŽ’åœ¨é¡¶ç«¯çš„åŠ¨ç‰©åˆ™è¢«æŒ‘é€‰å’Œäº¤é…æ¥ç”Ÿäº§ä¸‹ä¸€ä»£ã€‚ åŸºå› ç»„é¢„æµ‹æ¨¡åž‹å‡ ç§åˆ†æžæ–¹æ³•å·²è¢«åº”ç”¨äºŽå…¨åŸºå› ç»„çš„é—ä¼ ä¼˜åŠ¿é¢„æµ‹ã€‚å¯å¤§è‡´åˆ†ä¸ºä¸‰å¤§ç±»ï¼š å›žå½’æ–¹æ³•ï¼šåŸºå› ç»„é€‰æ‹©æœ€ç®€å•çš„å½¢å¼å°±æ˜¯ä¼°è®¡æ¯ä¸ªæ ‡è®°æˆ–è€…æ•°é‡æ€§çŠ¶ä½ç‚¹ï¼ˆQTLï¼‰çš„æ•ˆåº”ï¼Œç„¶åŽå¯¹æ¯ä¸ªä¸ªä½“åœ¨åŸºå› ç»„ä¸­çš„æ‰€æœ‰ä½ç‚¹è¿›è¡Œæ€»ç»“ã€‚è¿™å¿…é¡»å‡å®šæœ‰æ•ˆåº”çš„æ ‡è®°å¤„äºŽ LD åŒºé—´æˆ–è€…ä»–ä»¬æœ¬èº«å°±æ˜¯ QTL ä½ç‚¹ï¼Œè€Œä¸”å¤§éƒ¨åˆ†çš„é—ä¼ å˜å¼‚éƒ½æ˜¯å¯åŠ çš„ã€‚ç„¶è€Œï¼Œåœ¨ä½¿ç”¨é«˜å¯†åº¦ SNP é›†æƒ…å†µä¸‹ï¼Œæ ‡è®°çš„æ•°é‡ï¼ˆpï¼‰è¿œå¤§äºŽåœ¨è®­ç»ƒé›†ä¸­åšè®­ç»ƒçš„åŠ¨ç‰©æ•°é‡ï¼ˆnï¼‰ã€‚è¿™ä½¿å¾—ä½¿ç”¨ç®€å•å›žå½’æ¨¡åž‹ä¼°è®¡æ‰€æœ‰æ ‡è®°çš„æ•ˆåº”å…·æœ‰æŒ‘æˆ˜æ€§ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªå¤§ p ä¸Žå° n å›žå½’é—®é¢˜ï¼Œæå‡ºå‡ ç§å˜é‡é€‰æ‹©å’Œæ”¶ç¼©ä¼°è®¡æ–¹æ³•æ¥è§£å†³å…·è¡¨åž‹çš„å…¨åŸºå› ç»„é¢„æµ‹ã€‚Meuwissen et al. (2001)æå‡ºä¸‰ç§æ–¹æ³•ï¼šBLUP (rrBLUP)ï¼ŒBayes A å’Œ Bayes B å¯ä»¥åœ¨é¢„æµ‹æ¨¡åž‹ä¸­å®¹çº³å¤§é‡çš„é—ä¼ æ ‡è®°ã€‚è¿™äº›æ–¹æ³•å’Œå…¶ä»–åŽç»­è´å¶æ–¯æ–¹æ³•ï¼šBayes Cðœ‹ (Habier et al.ï¼Œ 2011)ï¼ŒBayesian LASSO (de Los Campos et al.ï¼Œ 2009)ï¼Œ Bayes-R (Erbe et al.ï¼Œ2012) çš„ä¸åŒä¹‹å¤„åœ¨äºŽSNP/QTLæ•ˆåº”çš„å…ˆéªŒåˆ†å¸ƒçš„å®šä¹‰ã€‚å…³äºŽè¿™äº›åŠžæ³•çš„è¯¦ç»†ä»‹ç»å’Œæ¯”è¾ƒï¼Œè¯·çœ‹ de Los Campos et al. (2013)ã€‚åæœ€å°äºŒä¹˜å›žå½’ (PLSR) å’Œä¸»æˆåˆ†å›žå½’ï¼ˆPCï¼‰é€šè¿‡è®¡ç®—éšå˜é‡æ¥é™ç»´ä»Žè€Œè¿›è¡Œé¢„æµ‹ã€‚(Jannink,ï¼ŒLorenz &amp; Iwataï¼Œ2010ï¼›Moser et al.ï¼Œ2009)ã€‚ åŸºå› ç»„å…³ç³»æ³•ï¼šåŸºå› ç»„å…³ç³»æ³•ä¹Ÿè¢«ç§°ä¸ºâ€œgBLUPâ€ã€‚åœ¨æ­¤æ–¹æ³•ä¸­ï¼Œéœ€è¦è®¡ç®—ä¸ªä½“é—´çš„åŸºå› ç»„å…³ç³»çŸ©é˜µ(GRM)ã€‚ç„¶åŽä½¿ç”¨ GRM è®¡ç®—æ‰€æœ‰åŠ¨ç‰©çš„è‚²ç§å€¼ã€‚è¿™ç§æ–¹æ³•ä¸Žä¼ ç»Ÿçš„â€œåŠ¨ç‰©æ¨¡åž‹â€æ˜¯ç­‰ä»·çš„ï¼Œä¸»è¦çš„åŒºåˆ«åœ¨äºŽç”¨ GRM æ›¿æ¢åŸºäºŽå®¶ç³»çš„å…³ç³»çŸ©é˜µã€‚åŒæ ·çš„æ¨¡åž‹å¯ä»¥ç”¨æ¥ä¼°è®¡æ–¹å·®åˆ†é‡å’Œé—ä¼ å‚æ•°ã€‚è¿™ä¸ªæ¡†æž¶å¯ä»¥å¾ˆå®¹æ˜“åœ°æ‰©å±•åˆ°å¤šé‡æ€§çŠ¶çš„åˆ†æžä¸­ã€‚è¿™åœ¨æ°´äº§å…»æ®–ä¸­çš„åº”ç”¨æ˜¯éžå¸¸å…·æœ‰å¸å¼•åŠ›çš„ï¼Œå› ä¸ºæ°´äº§å…»æ®–è®°å½•å®¶ç³»ä¿¡æ¯æ˜¯éžå¸¸å›°éš¾å’Œæ˜‚è´µçš„ï¼Œè€Œ gBLUP ä¸éœ€è¦è®°å½•è°±ç³»ä¿¡æ¯ç›´æŽ¥åº”ç”¨äºŽè‚²ç§ã€‚GRM æ˜¯åŸºäºŽå®žé™…çš„åŸºå› ç»„ç›¸ä¼¼æ€§ä¼°è®¡å®žé™…äº²ç¼˜å…³ç³»ã€‚å› æ­¤ï¼Œä¸ŽåŸºäºŽå®¶ç³»çš„é¢„æœŸå…³ç³»ç›¸æ¯”å®ƒæ›´å‡†ç¡®ã€‚æ¯”å¦‚ï¼Œå‡æ•°åˆ†è£‚æ—¶æŸ“è‰²ä½“çš„éšæœºåˆ†ç¦»ä¼šå¯¼è‡´å…¨åŒèƒžå®¶ç³»æ ·æœ¬é—´å®žé™…åŸºå› ç»„ç›¸ä¼¼æ€§çš„å˜åŒ– (Nejati-Javaremi, Smith &amp; Gibson, 1997)ã€‚GRM å¯ä»¥ä»Žæ ‡è®°çš„åŸºå› åž‹çŸ©é˜µæž„å»ºã€‚VanRaden (2008) æè¿°äº†3ç§æž„å»º GRM çš„æ–¹æ³•å¹¶è¯„ä»·äº†å®ƒä»¬çš„å®žé™…è¡¨çŽ°ã€‚ åŠå‚æ•°å’Œæœºå™¨å­¦ä¹ æ–¹æ³•ï¼šåœ¨å¤§å¤šæ•°å®žè·µåº”ç”¨ä¸­ï¼ŒGBVsåªåŒ…æ‹¬åŠ æ€§æ•ˆåº”(ä¼ é€’ç»™ä¸‹ä¸€ä»£é—ä¼ ä¼˜åŠ¿)ã€‚ç„¶è€Œï¼Œåœ¨ä¸€äº›è‚²ç§è®¡åˆ’ä¸­ï¼Œå‘æŽ˜æ˜¾æ€§åŸºå› å’Œä¸Šä½æ•ˆåº”ä¼šæ˜¯å¯å–çš„ã€‚ä¾‹å¦‚ï¼Œé€šè¿‡é€‰é…å’Œæ‚ç§ä¼˜åŠ¿ç”Ÿäº§å…·æœ‰æœ€é«˜é—ä¼ ä»·å€¼çš„(æ‚äº¤)åŽä»£ (Falconer &amp; Mackay, 1996)ã€‚Gianola and van Kaam (2008) æå‡ºéžå‚æ•°æ–¹æ³•å¯ä»¥åœ¨ä¸æ˜¾å¼å»ºæ¨¡çš„æƒ…å†µä¸‹è§£é‡Šå¤æ‚çš„ä¸Šä½æ€§æ•ˆåº”ã€‚åŸºå› ç»„é€‰æ‹©çš„åŠå‚æ•°å’Œéžå‚æ•°ç¨‹åºï¼Œå¦‚å†ç”Ÿæ ¸å¸Œå°”ä¼¯ç‰¹ç©ºé—´ (Gianola &amp; van Kaam, 2008)ï¼Œå¾„å‘åŸºå‡½æ•°ç¥žç»ç½‘ç»œ(Gonzalez-Camacho et al., 2012)ï¼Œæ”¯æŒå‘é‡æœº(SVM) (Maenhout,DeBaets &amp; Haesaert, 2010; Moser et al., 2009)ï¼Œæƒ©ç½šæ”¯æŒå‘é‡æœº ï¼Œéšæœºæ£®æž—(Ogutu, Piepho &amp; Schulz-Streeck, 2011)ï¼Œboosting (Gonzalez-Recio et al.,2010)å¯ä»¥æ½œåœ¨åœ°åˆ©ç”¨æ•°åƒä¸ªæ ‡è®°ä¹‹é—´çš„äº¤äº’ä½œç”¨ã€‚ Heslot et al. (2012) åœ¨æ¤ç‰©åŸºå› ç»„é€‰æ‹©ä¸­æ¯”è¾ƒäº†åŒ…æ‹¬æœºå™¨å­¦ä¹ åœ¨å†…çš„10ç§ä¸åŒçš„æ–¹æ³•ã€‚]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[biopython NCBI]]></title>
    <url>%2F2018%2F11%2F08%2Fbiopython-NCBI%2F</url>
    <content type="text"><![CDATA[è®¿é—®NCBI Entrezæ•°æ®åº“Entrez (http://www.ncbi.nlm.nih.gov/Entrez) æ˜¯ä¸€ä¸ªç»™å®¢æˆ·æä¾› NCBI å„ä¸ªæ•°æ®åº“ï¼ˆå¦‚PubMed, GeneBank, GEOç­‰ç­‰ï¼‰è®¿é—®çš„æ£€ç´¢ç³»ç»Ÿã€‚ ç”¨æˆ·å¯ä»¥é€šè¿‡æµè§ˆå™¨æ‰‹åŠ¨è¾“å…¥æŸ¥è¯¢æ¡ç›®è®¿é—®Entrezï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Biopython çš„ Bio.Entrez æ¨¡å—ä»¥ç¼–ç¨‹æ–¹å¼è®¿é—®æ¥è®¿é—® Entrezã€‚ å¦‚æžœä½¿ç”¨ç¬¬äºŒç§æ–¹æ³•ï¼Œç”¨æˆ·ç”¨ä¸€ä¸ª Python è„šæœ¬å°±å¯ä»¥å®žçŽ°åœ¨PubMed é‡Œé¢æœç´¢æˆ–è€…ä»Ž GenBank ä¸‹è½½æ•°æ®ã€‚ 1&gt; pip install Bio #å®‰è£…æ¨¡å— ESearch: æœç´¢Entrezæ•°æ®åº“esearch ä¼šæ ¹æ®å‚æ•°å¾—å‡ºæ‰€éœ€æ–‡çŒ®ã€åºåˆ—ç­‰çš„ ID å·ã€‚ æ£€ç´¢æ–‡çŒ®ï¼š 123456&gt;&gt;&gt; from Bio import Entrez&gt;&gt;&gt; Entrez.email = "1009133184@qq.com" #Always tell NCBI who you are&gt;&gt;&gt; handle = Entrez.esearch(db="pubmed", term="biopython")&gt;&gt;&gt; record = Entrez.read(handle)&gt;&gt;&gt; record["IdList"]['19304878', '18606172', '16403221', '16377612', '14871861', '14630660', '12230038'] æ£€ç´¢åºåˆ—ï¼š 1234567&gt;&gt;&gt; from Bio import Entrez&gt;&gt;&gt; handle = Entrez.esearch(db="nucleotide",term="Cypripedioideae[Orgn] AND matK[Gene]")&gt;&gt;&gt; record = Entrez.read(handle)&gt;&gt;&gt; record["Count"]'25'&gt;&gt;&gt; record["IdList"]['126789333', '37222967', '37222966', '37222965', ..., '61585492'] å¸¸ç”¨dbå‚æ•°ï¼špubmed nucleotide protein gene snp unigene ï¼Œé»˜è®¤ä¸ºpubmed termå‚æ•°ï¼šåœ¨æ£€ç´¢æ–‡çŒ®æ—¶ï¼Œterm å°±æ˜¯å…³é”®è¯ã€‚åœ¨æ£€ç´¢åºåˆ—æ—¶ï¼Œncbi è‡ªå·±æœ‰ä¸€å¥—è§„åˆ™ï¼Œå¦‚Cypripedioideae[Orgn] AND matK[Gene]çš„æ„æ€æ˜¯ æ‹–éž‹å…°ç‰©ç§ä¸­çš„ matK åŸºå› åºåˆ— biomol_mrna[properties] AND Osteichthyes[organism] åªè¦ mRNA åºåˆ—åœ¨ç¡¬éª¨é±¼çº²ä¸­ å…¶ä»–å…³é”®è¯è¿˜æœ‰ï¼šOR NOT EFetch: ä»ŽEntrezä¸‹è½½æ•°æ®123456789101112&gt;&gt;&gt; from Bio import Entrez&gt;&gt;&gt; Entrez.email = "1009133184@qq.com" # Always tell NCBI who you are&gt;&gt;&gt; handle = Entrez.efetch(db="nucleotide", id="186972394", rettype="fasta", retmode="text")&gt;&gt;&gt; print (handle.read())&gt;EU490707.1 Selenipedium aequinoctiale maturase K (matK) gene, partial cds; chloroplastATTTTTTACGAACCTGTGGAAATTTTTGGTTATGACAATAAATCTAGTTTAGTACTTGTGAAACGTTTAATTACTCGAATGTATCAACAGAATTTTTTGATTTCTTCGGTTAATGATTCTAACCAAAAAGGATTTTGGGGGCACAAGCATTTTTTTTCTTCTCATTTTTCTTCTCAAATGGTATCAGAAGGTTTTGGAGTCATTCTGGAAATTCCATTCTCGTCGCAATTAGTATCTTCTCTTGAAGAAAAAAAAATACCAAAATATCAGAATTTACGATCTATTCATTCAATATTTCCCTTTTTAGAAGACAAATTTTTACATTTGAATTATGTGTCAGATCTACTAATACCCCATCCCATCCATCTGGAAATCTTGGTTCAAATCCTTCAATGCCGGATCAAGGATGTTCCTTCTTTGâ€¦â€¦â€¦â€¦â€¦â€¦ id å‚æ•° ï¼šncbi ä¸ºæ¯ä¸€æ¡åºåˆ—æ ‡è¯†çš„IDå·ï¼Œå¯ä»¥ä½¿ç”¨ Entrez.esearch èŽ·å¾—ã€‚ rettype å‚æ•°ï¼šå¸¸ç”¨çš„æœ‰ fasta gb retmode å‚æ•°ï¼šæ•°æ®çš„ç»„ç»‡å½¢å¼æœ‰ text xml 1234567891011&gt;&gt;&gt; from Bio import Entrez, SeqIO&gt;&gt;&gt; handle = Entrez.efetch(db="nucleotide", id="186972394",rettype="gb", retmode="text")&gt;&gt;&gt; record = SeqIO.read(handle, "genbank") #ä½¿ç”¨SeqIO è¯»å…¥genbankåºåˆ—&gt;&gt;&gt; handle.close()&gt;&gt;&gt; print (record)ID: EU490707.1Name: EU490707Description: Selenipedium aequinoctiale maturase K (matK) gene, partial cds; chloroplast.Number of features: 3...Seq('ATTTTTTACGAACCTGTGGAAATTTTTGGTTATGACAATAAATCTAGTTTAGTA...GAA', IUPACAmbiguousDNA()) EGQuery: å…¨å±€æœç´¢- ç»Ÿè®¡æœç´¢çš„æ¡ç›®EGQueryæä¾›æœç´¢å­—æ®µåœ¨æ¯ä¸ªEntrezæ•°æ®åº“ä¸­çš„æ•°ç›®ã€‚å½“æˆ‘ä»¬åªéœ€è¦çŸ¥é“åœ¨æ¯ä¸ªæ•°æ®åº“ä¸­èƒ½æ‰¾åˆ°çš„æ¡ç›®çš„ä¸ªæ•°ï¼Œ è€Œä¸éœ€è¦çŸ¥é“å…·ä½“æœç´¢ç»“æžœçš„æ—¶å€™ï¼Œè¿™ä¸ªéžå¸¸çš„æœ‰ç”¨ã€‚ 12345678910&gt;&gt;&gt; from Bio import Entrez&gt;&gt;&gt; Entrez.email = "1009133184@qq.com" # Always tell NCBI who you are&gt;&gt;&gt; handle = Entrez.egquery(term="biopython")&gt;&gt;&gt; record = Entrez.read(handle)&gt;&gt;&gt; for row in record["eGQueryResult"]: print row["DbName"], row["Count"]...pubmed 6pmc 62journals 0... æœç´¢ï¼Œä¸‹è½½ï¼Œå’Œè§£æžEntrezæ ¸é…¸è®°å½•èŽ·å– Cypripedioideae åœ¨ gene åº“çš„æ¡ç›®æ•°ï¼š 12345678&gt;&gt;&gt; from Bio import Entrez&gt;&gt;&gt; Entrez.email = "A.N.Other@example.com" # Always tell NCBI who you are&gt;&gt;&gt; handle = Entrez.egquery(term="Cypripedioideae")&gt;&gt;&gt; record = Entrez.read(handle)&gt;&gt;&gt; for row in record["eGQueryResult"]:... if row["DbName"]=="gene":... print row["Count"]376 èŽ·å¾—è¿™376æ¡æ•°æ®çš„IDï¼š 123&gt;&gt;&gt; from Bio import Entrez&gt;&gt;&gt; handle = Entrez.esearch(db="nucleotide", term="Cypripedioideae", retmax=376)&gt;&gt;&gt; record = Entrez.read(handle) ä½¿ç”¨ efetch æ¥ä¸‹è½½è¿™äº›ç»“æžœçš„å‰5æ¡ï¼š 1234567&gt;&gt;&gt; idlist = ",".join(record["IdList"][:5])&gt;&gt;&gt; print (idlist)187237168,187372713,187372690,187372688,187372686&gt;&gt;&gt; handle = Entrez.efetch(db="nucleotide", id=idlist, retmode="xml")&gt;&gt;&gt; records = Entrez.read(handle) #è§£æžxmlæ–‡ä»¶&gt;&gt;&gt; print (len(records))5]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonå’ŒRä¸­çš„æ•°æ®åˆå¹¶]]></title>
    <url>%2F2018%2F10%2F31%2Fmerge-in-python-and-R%2F</url>
    <content type="text"><![CDATA[pandasï¼ˆpythonï¼‰pandas.mergeå¯æ ¹æ®ä¸€ä¸ªæˆ–å¤šä¸ªé”®å°†ä¸åŒ DataFrame ä¸­çš„è¡Œè¿žæŽ¥èµ·æ¥ã€‚ 123456789101112131415161718192021222324252627282930313233import pandas as pddf1 = pd.DataFrame(&#123;'key': ['b', 'b', 'a', 'c', 'a', 'a', 'b'],'data1': range(7)&#125;)df2 = pd.DataFrame(&#123;'key': ['a', 'b', 'd'],'data2': range(3)&#125;)df1Out[5]: data1 key0 0 b1 1 b2 2 a3 3 c4 4 a5 5 a6 6 bdf2Out[6]: data2 key0 0 a1 1 b2 2 dpd.merge(df1, df2)Out[7]: data1 key data20 0 b 11 1 b 12 6 b 13 2 a 04 4 a 05 5 a 0 æ³¨æ„ï¼Œæˆ‘å¹¶æ²¡æœ‰æŒ‡æ˜Žè¦ç”¨å“ªä¸ªåˆ—è¿›è¡Œè¿žæŽ¥ã€‚å¦‚æžœæ²¡æœ‰æŒ‡å®šï¼Œmergeå°±ä¼šå°†é‡å åˆ—çš„åˆ—åå½“åšé”®ã€‚ä¸è¿‡ï¼Œæœ€å¥½æ˜Žç¡®æŒ‡å®šä¸€ä¸‹ï¼š 123456789In [40]: pd.merge(df1, df2, on='key')Out[40]: data1 key data20 0 b 11 1 b 12 6 b 13 2 a 04 4 a 05 5 a 0 å¦‚æžœä¸¤ä¸ªå¯¹è±¡çš„åˆ—åä¸åŒï¼Œä¹Ÿå¯ä»¥åˆ†åˆ«è¿›è¡ŒæŒ‡å®šï¼š 123456789101112131415In [41]: df3 = pd.DataFrame(&#123;'lkey': ['b', 'b', 'a', 'c', 'a', 'a', 'b'], ....: 'data1': range(7)&#125;)In [42]: df4 = pd.DataFrame(&#123;'rkey': ['a', 'b', 'd'], ....: 'data2': range(3)&#125;)In [43]: pd.merge(df3, df4, left_on='lkey', right_on='rkey')Out[43]: data1 lkey data2 rkey0 0 b 1 b1 1 b 1 b2 6 b 1 b3 2 a 0 a4 4 a 0 a5 5 a 0 a ç»“æžœé‡Œé¢cå’Œdä»¥åŠä¸Žä¹‹ç›¸å…³çš„æ•°æ®æ¶ˆå¤±äº†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œmergeåšçš„æ˜¯â€œå†…è¿žæŽ¥â€how=&#39;outer&#39;ï¼›ç»“æžœä¸­çš„é”®æ˜¯äº¤é›†ã€‚å…¶ä»–æ–¹å¼è¿˜æœ‰â€leftâ€ã€â€rightâ€ä»¥åŠâ€outerâ€ã€‚ è¦æ ¹æ®å¤šä¸ªé”®è¿›è¡Œåˆå¹¶ï¼Œä¼ å…¥ä¸€ä¸ªç”±åˆ—åç»„æˆçš„åˆ—è¡¨å³å¯ï¼š 12345678910111213141516In [51]: left = pd.DataFrame(&#123;'key1': ['foo', 'foo', 'bar'], ....: 'key2': ['one', 'two', 'one'], ....: 'lval': [1, 2, 3]&#125;)In [52]: right = pd.DataFrame(&#123;'key1': ['foo', 'foo', 'bar', 'bar'], ....: 'key2': ['one', 'one', 'one', 'two'], ....: 'rval': [4, 5, 6, 7]&#125;)In [53]: pd.merge(left, right, on=['key1', 'key2'], how='outer')Out[53]: key1 key2 lval rval0 foo one 1.0 4.01 foo one 1.0 5.02 foo two 2.0 NaN3 bar one 3.0 6.04 bar two NaN 7.0 dplyrï¼ˆRï¼‰12345innner_join(x, y, by = "z") #å†…è¿žæŽ¥left_join(x, y, by = "z") #å·¦è¿žæŽ¥right_join(x, y, by = "z") #å³è¿žæŽ¥full_join(x, y, by = "z") #å…¨è¿žæŽ¥innner_join(x, y, by = c("q","j")) #æŒ‰å¤šé”®è¿žæŽ¥]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[SNPä½ç‚¹å¯¹åŸºå› çš„å½±å“]]></title>
    <url>%2F2018%2F10%2F30%2FThe-effect-of-snp-on-genes%2F</url>
    <content type="text"><![CDATA[snp æ˜¯ single-nucleotide polymorphism çš„ç®€ç§°ï¼Œä¸­æ–‡ä¸ºå•æ ¸è‹·é…¸å¤šæ€æ€§ã€‚snp æ˜¯å¦‚ä»Šé—ä¼ ç ”ç©¶ä¸­æœ€çƒ­é—¨çš„ä¸€ä¸ªç ”ç©¶å¯¹è±¡ï¼Œç¬¬ä¸€æ˜¯å› ä¸ºä»–åœ¨ç”Ÿç‰©ä¸­å¤§é‡å­˜åœ¨ï¼Œåˆ†å¸ƒå¹¿æ³›ã€‚ç¬¬äºŒä»–æ˜¯å¼•èµ·äººç±»ï¼ˆä¹ŸåŒ…å«å…¶ä»–ç”Ÿç‰©ï¼‰ç–¾ç—…çš„é‡è¦åŽŸå› ã€‚ ç®€å•æ¥è¯´ï¼Œsnp å°±æ˜¯ä¸€ä¸ªç¢±åŸºå‘ç”Ÿäº†æ”¹å˜ã€‚snp å¯¼è‡´åŸºå› çš„è½¬å½•ã€ç¿»è¯‘å—åˆ°å½±å“ï¼Œè›‹ç™½è´¨åºåˆ—ã€ç»“æž„çš„å˜åŒ–ä½¿å…¶æ— æ³•å®žè¡ŒåŽŸæ¥ç‰¹å®šçš„åŠŸèƒ½ï¼Œäººå› æ­¤æ‚£ä¸Šäº†æŸä¸€ç§ç–¾ç—…ã€‚é‚£ä¹ˆ snp æœ‰å“ªäº›ç§ç±»ï¼Ÿæ˜¯å¦æ‰€æœ‰çš„ snp éƒ½èƒ½å¤Ÿé€ æˆåŸºå› çš„å˜å¼‚å‘¢ï¼Ÿ snp çš„ç§ç±» éžåŒä¹‰ç¼–ç  SNPï¼ˆnon-synonymous coding SNPsï¼ŒnscSNPsï¼‰ åŒä¹‰ç¼–ç  SNPï¼ˆsynonymous coding SNPsï¼ŒscSNPsï¼‰ å†…å«å­åŒº SNP åŸºå› è°ƒæŽ§åŒºåŸŸ SNP ä¸åŒsnpå¯¹åŸºå› çš„å½±å“éžåŒä¹‰ç¼–ç  SNPï¼Œé¡¾åæ€ä¹‰å°±æ˜¯ç¢±åŸºçš„æ”¹å˜å¯¼è‡´ç¿»è¯‘å‡ºçš„è›‹ç™½è´¨å’ŒåŽŸæ¥ä¸åŒï¼Œä»–ä¼šç›´æŽ¥æ”¹å˜åŸºå› ç¼–ç è›‹ç™½çš„æ°¨åŸºé…¸ç»„æˆï¼Œå…¶åŠŸèƒ½å½±å“å–å†³äºŽå˜å¼‚æ°¨åŸºé…¸ä½ç‚¹æ˜¯å¦å¯¹è›‹ç™½ç»“æž„æˆ–åŠŸèƒ½èµ·åˆ°è‡³å…³é‡è¦çš„ä½œç”¨ã€‚ åŒä¹‰ç¼–ç  SNPï¼Œæœ¬èº«å¹¶ä¸æ”¹å˜è›‹ç™½è´¨åºåˆ—ï¼Œä½†ç”±äºŽè›‹ç™½è´¨ç¿»è¯‘å­˜åœ¨å¯†ç å­åå¥½æ€§ï¼Œä»Žå¸¸ç”¨çš„å¯†ç å­è½¬åˆ°å‘ç”Ÿå¤šæ€æ€§ä¹‹åŽçš„ä¸å¸¸ç”¨å¯†ç å­ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šå¯¼è‡´æ ¸ç³–ä½“é€šè¿‡ SNP å‘¨å›´ mRNA ç‰‡æ®µæ—¶é€Ÿåº¦å‘ç”Ÿæ”¹å˜ï¼Œè€Œç»†èƒžå†…çš„è›‹ç™½è´¨æŠ˜å è¿‡ç¨‹ä¸€èˆ¬è¢«è®¤ä¸ºæ˜¯ä¸Žç¿»è¯‘è¿‡ç¨‹åŒæ­¥è¿›è¡Œçš„ï¼Œå› æ­¤è¿™äº› scSNP ä¼šå½±å“ P-gp æŠ˜å å’Œå…¶è½¬ç§»åˆ°ç»†èƒžè†œçš„æ—¶é—´ï¼Œå› æ­¤ä¼šæ”¹å˜åº•ç‰©å’ŒæŠ‘åˆ¶ç‰©çš„ä½œç”¨ä½ç‚¹çš„ç»“æž„ ã€‚ å†…å«å­åŒº SNPï¼Œå†…å«å­åœ¨çœŸæ ¸ç”Ÿç‰©åŸºå› ç»„ä¸­å æœ‰å¾ˆå¤§æ¯”é‡ï¼Œå› æ­¤åˆ†å¸ƒåœ¨å†…å«å­åŒºåŸŸçš„ SNP ä¹Ÿå¾ˆå¤šï¼Œ ä½†åˆ†æžè¡¨æ˜Žå†…å«å­åŒºåŸŸçš„ SNP çš„è‡´ç—…é£Žé™©æ˜Žæ˜¾ä½ŽäºŽç¼–ç åŒºå’ŒåŸºå› è°ƒæŽ§åŒºï¼Œä½†ä½äºŽç¬¬ä¸€ä¸ªå†…å«å­çš„ SNP æ¯”å…¶ä»–å†…å«å­ä¸­ SNP æœ‰æ›´å¤§çš„è‡´ç—…é£Žé™© ã€‚ä¸Žå†…å«å­ç›¸å…³çš„å¤§å¤šæ•°å¼•èµ·ç–¾ç—…çš„çªå˜é›†ä¸­åœ¨å†…å«å­â€”å¤–æ˜¾å­è¿žæŽ¥å¤„ï¼ˆGUæˆ–AGï¼‰ã€‚æ¯ä¸ªå¤–æ˜¾å­å’Œå†…å«å­è¿žæŽ¥åŒºå…·æœ‰é«˜åº¦ä¿å®ˆå’Œä¸€è‡´çš„åºåˆ—ï¼Œå³å¤§å¤šæ•°å†…å«å­5â€™æœ«ç«¯ä»¥GTå¼€å§‹ï¼Œå¤§å¤šæ•°å†…å«å­3â€™æœ«ç«¯ä¸ŽAGå¼€å§‹ï¼Œç§°ä¸ºGT-AGè§„åˆ™ã€‚ åŸºå› è°ƒæŽ§åŒºåŸŸ SNP ï¼ŒåŸºå› çš„è°ƒæŽ§åŒºåŸŸä¸»è¦åŒ…æ‹¬å¯åŠ¨å­ã€5â€™UTR å’Œ 3â€™UTRï¼Œè¿™äº›åŒºåŸŸæœ‰å¾ˆå¤šåŸºå› è¡¨è¾¾è°ƒæŽ§åºåˆ—å…ƒä»¶ï¼Œå¦‚è½¬å½•å› å­ç»“åˆä½ç‚¹ï¼ˆTranscription factor binding site, TFBSï¼‰ã€ miRNA ç»“åˆä½ç‚¹ç­‰ã€‚è¿™äº›åºåˆ—å…ƒä»¶ä¸Žè°ƒæŽ§å› å­ï¼ˆè½¬å½•å› å­ã€miRNA ç­‰ï¼‰çš„ç»“åˆéƒ½éœ€è¦ç‰¹å®šçš„åºåˆ—ç»„æˆï¼Œè¿™äº›ä½ç‚¹å‘ç”Ÿçš„ SNP å¯èƒ½ä¼šå¯¼è‡´è°ƒæŽ§å› å­çš„ç»“åˆèƒ½åŠ›å‘ç”Ÿæ”¹å˜ï¼Œä»Ž è€Œå½±å“æ­£å¸¸çš„åŸºå› è¡¨è¾¾è°ƒæŽ§äº‹ä»¶ã€‚ æ·±å…¥åŸºå› è°ƒæŽ§åŒºåŸŸçš„snpåœ¨ GWAS ç ”ç©¶ä¸­ä¼šå‘çŽ°ç»å¤§å¤šæ•°çš„ snp ä½ç‚¹éƒ½å®šä½åˆ°äº†éžç¼–ç åŒºã€‚ç¼–ç åŒºçš„snpä½ç‚¹å¾ˆå¥½ç†è§£ï¼šå“ªä¸ªåŸºå› ç¼–ç å‘ç”Ÿæ”¹å˜ï¼Œé‚£å¯¹åº”çš„è›‹ç™½ä¹Ÿä¸ä¼šè¡Œä½¿æ­£å¸¸çš„åŠŸèƒ½ã€‚è€ŒåŸºå› è°ƒæŽ§åŒºçš„snpä½ç‚¹è¦æ˜Žç™½åˆ°åº•å¦‚ä½•å½±å“åŸºå› åŠŸèƒ½éœ€è¦èŠ±ä¸Šä¸å°‘ç²¾åŠ›ã€‚ ä¸Šé¢å·²ç»è¯´è¿‡ï¼ŒåŸºå› è°ƒæŽ§åŒºåŸŸ SNPä¼šå½±å“è½¬å½•å› å­ç»“åˆä½ç‚¹ã€miRNA ç»“åˆä½ç‚¹ç­‰ã€‚åŸºå› è¡¨è¾¾æ¨¡å¼ä¸»è¦æ˜¯é å„ç§å¯åŠ¨å­å’Œå¢žå¼ºå­æ¥å†³å®šçš„ï¼Œè¿™äº›è°ƒæŽ§å…ƒä»¶å°†å„ç§ä¿¡å·å› å­å’Œè½¬å½•å› å­ä¿¡æ¯æ•´åˆèµ·æ¥å¯¹åŸºå› è¡¨è¾¾è¿›è¡Œè°ƒæŽ§ã€‚ è½¬å½•å› å­é€šè¿‡ç»“åˆåœ¨DNAçš„å¢žå¼ºå­æˆ–å¯åŠ¨å­åŒºåŸŸä¸Šè°ƒèŠ‚ç›¸åº”åŸºå› ï¼Œæé«˜æˆ–é™ä½ŽåŸºå› çš„è½¬å½•æ°´å¹³ã€‚ï¼Œå¦‚æžœåŸºå› ä¸Šæ¸¸è°ƒæŽ§åŒºå‘ç”Ÿå˜å¼‚å°±å¯èƒ½å½±å“åŸºå› çš„è½¬å½•æ¿€æ´»ã€‚ ä¸ºäº†å¾—åˆ°ç¡®åˆ‡çš„ç»“æžœï¼Œæˆ‘ä»¬å¯ä»¥å°† snp é›†è¿›è¡Œæ³¨é‡Šï¼Œæ³¨é‡Šå·¥å…·ä¸»æµçš„æœ‰ snpEFFï¼ŒAnnovarã€‚æœ€ç»ˆä¼šå¾—åˆ°æ¯ä¸€ä¸ª snp çš„å˜å¼‚ç±»åž‹å’Œå½±å“åŒºåŸŸã€‚ å¦‚æžœä¸€ä¸ª snp å¯¹åŸºå› çš„è¡¨è¾¾äº§ç”Ÿäº†å½±å“ï¼Œé‚£ä¹ˆè¿™ä¸ª snp å¯ç§°ä¸º eQTLä½ç‚¹ï¼ˆexpression Quantitative Trait Loci,eQTL ï¼‰ã€‚å¯ä»¥æå–æ ·æœ¬çš„ RNA è¿›è¡Œ qRT-PCR å¾—åˆ°æŸå‡ ä¸ªå€™é€‰åŸºå› çš„è¡¨è¾¾é‡ä½œä¸ºè¡¨åž‹ï¼Œsnp é›†ä½œä¸ºåŸºå› åž‹è¿›è¡Œ GWAS åˆ†æžã€‚æœ€ç»ˆå¾—åˆ°æ˜¾è‘— snp ä½ç‚¹ï¼Œå¦‚æžœæ˜¾è‘— snp ä½ç‚¹æ°å¥½åœ¨å€™é€‰åŸºå› å‘¨å›´çš„è°ƒæŽ§åŒºåŸŸï¼Œé‚£ä¹ˆè¿™ä¸ª snp ä½ç‚¹å°±æ˜¯ä¸€ä¸ª cis-eQTL ï¼ˆé¡ºå¼eQTLï¼‰ï¼Œä¸åœ¨å€™é€‰åŸºå› å‘¨å›´çš„è°ƒæŽ§åŒºåŸŸï¼Œå°±è¦è¿›ä¸€æ­¥ç ”ç©¶æ˜¯å¦å¯¹å€™é€‰åŸºå› æœ‰ä½œç”¨ï¼Œå¦‚æžœæˆç«‹ï¼Œé‚£è¿™ä¸ª snp ä½ç‚¹å°±æ˜¯ä¸€ä¸ª trans-eQTL ï¼ˆåå¼eQTLï¼‰ã€‚ç ”ç©¶å‘çŽ°é¡ºå¼ eQTL çš„æ•°é‡è¦è¿œå¤šäºŽåå¼ eQTLã€‚ çŽ°åœ¨å¯¹äºŽéžç¼–ç åŒºçš„ç¢±åŸºæ•ˆåº”ç ”ç©¶è¿˜æ²¡æœ‰ç¼–ç åŒºé‚£ä¹ˆæ˜Žäº†ï¼Œä½†æ˜¯ä»¥åŽä¸€å®šä¼šå°†æ•´ä¸ªåŸºå› ç»„ç ”ç©¶é€å½»ã€‚æ€»ä¹‹ï¼Œä¸€ä¸ªç¢±åŸºæˆ–è€…å¤šä¸ªç¢±åŸºçš„æ”¹å˜ä¼šä»Žä¸åŒå±‚é¢ï¼Œä¸åŒé‡çº§åŽ»å½±å“åŸºå› çš„è¡¨è¾¾ã€‚å°±åƒæ˜¯è´è¶æ•ˆåº”ï¼šä¸€ä¸ªå°å°çš„æ”¹å˜ç»ˆå°†ä¼šå½±å“è¿™ä¸ªä¸–ç•Œï¼Œæ¡ä»¶åªæ˜¯æ—¶é—´åœ¨æ—¶é—´è½´çš„è¿è¡Œçš„æ—¶é—´ã€‚ å‚è€ƒæ–‡çŒ® [1] è®¸è¶…. SNPå¯¹åŸºå› è¡¨è¾¾å½±å“çš„ç”Ÿç‰©ä¿¡æ¯å­¦æ¨¡åž‹[D]. è‹å·žå¤§å­¦, 2012. [2] å¢å¤, æ›²å­˜æ°‘, æŽèŽŽ,ç­‰. ç”˜è“åž‹æ²¹èœBnTT3åŸºå› çš„è¡¨è¾¾ä¸ŽeQTLå®šä½åˆ†æž[J]. ä½œç‰©å­¦æŠ¥, 2015, 41(11):1758-1766. [3] Chen R, Davydov E V, Sirota M, et al. Non-Synonymous and Synonymous Coding SNPs Show Similar Likelihood and Effect Size of Human Disease Association[J]. Plos One, 2010, 5(10):e13574. [4] Westra H J, Franke L. From genome to function by studying eQTLs.[J]. BBA - Molecular Basis of Disease, 2014, 1842(10):1896-1902.]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R å­—ç¬¦ä¸²å¤„ç†]]></title>
    <url>%2F2018%2F10%2F18%2FR-stringr%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨RåŒ…stringrè¿›è¡ŒRè¯­è¨€çš„å­—ç¬¦ä¸²å¤„ç†ã€‚ str_count()è®¡ç®—å­—ç¬¦ä¸²ä¸­å­—ç¬¦ä¸ªæ•°ã€‚ 1234&gt; library(stringr)&gt; fruit &lt;- c("apple", "banana", "pear", "pineapple")&gt; str_count(fruit, "a")#&gt; [1] 1 3 1 1 str_detect()æ£€æŸ¥å­—ç¬¦æ˜¯å¦åœ¨å­—ç¬¦ä¸²ä¸­ã€‚ 12345&gt; fruit &lt;- c("apple", "banana", "pear", "pinapple")&gt; str_detect(fruit, "a")#&gt; [1] TRUE TRUE TRUE TRUE&gt; str_detect(fruit, "^a")#&gt; [1] TRUE FALSE FALSE FALSE str_extract()æ¨¡å¼åŒ¹é…ã€‚ 123456789&gt; shopping_list &lt;- c("apples x4", "bag of flour", "bag of sugar", "milk x2")&gt; str_extract_all(shopping_list, "[a-z]+\\b", simplify = TRUE) #simplify = TRUE ä»¥çŸ©é˜µçš„æ–¹å¼å±•ç¤ºç»“æžœ#&gt; [,1] [,2] [,3] #&gt; [1,] "apples" "" "" #&gt; [2,] "bag" "of" "flour"#&gt; [3,] "bag" "of" "sugar"#&gt; [4,] "milk" "" "" &gt; str_extract(shopping_list, "[a-z]+\\b")[1] "apples" "bag" "bag" "milk" str_match ()æ¨¡å¼åŒ¹é…ï¼Œè¿›è¡Œåˆ†ç»„åŒ¹é…ã€‚ 12345&gt; fruit &lt;- c("apple12345679!123")&gt; str_match_all(fruit,"([a-z]+).*?(!)") #åˆ†2ä¸ªç»„ï¼Œç»“æžœç¬¬ä¸€ä¸ªä¸ºå…¨éƒ¨åŒ¹é…çš„ç»“æžœ[[1]] [,1] [,2] [,3][1,] "apple12345679!" "apple" "!" str_locate()æ¨¡å¼åŒ¹é…ä½ç½®ã€‚ 12345678910111213141516171819202122232425262728293031&gt; fruit &lt;- c("apple", "banana", "pear", "pineapple") &gt; str_locate(fruit, "a")#&gt; start end#&gt; [1,] 1 1#&gt; [2,] 2 2#&gt; [3,] 3 3#&gt; [4,] 5 5&gt; str_locate(fruit, c("a", "b", "p", "p"))#&gt; start end#&gt; [1,] 1 1#&gt; [2,] 1 1#&gt; [3,] 1 1#&gt; [4,] 1 1&gt; str_locate_all(fruit, "a")[[1]] start end[1,] 1 1[[2]] start end[1,] 2 2[2,] 4 4[3,] 6 6[[3]] start end[1,] 3 3[[4]] start end[1,] 5 5 str_subset()åŠŸèƒ½å¦‚ linuxä¸‹grepã€‚ 1234567&gt; fruit &lt;- c("apple", "banana", "pear", "pinapple")&gt; str_subset(fruit, "a")#&gt; [1] "apple" "banana" "pear" "pinapple"&gt; str_subset(fruit, "^a")#&gt; [1] "apple"&gt; str_subset(fruit, "[aeiou]")#&gt; [1] "apple" "banana" "pear" "pinapple" str_replace()æ›¿æ¢å­—ç¬¦ã€‚ 12345&gt; fruits &lt;- c("one apple", "two pears", "three bananas")&gt; str_replace(fruits, "[aeiou]", "-")#&gt; [1] "-ne apple" "tw- pears" "thr-e bananas"&gt; str_replace_all(fruits, "[aeiou]", "-")#&gt; [1] "-n- -ppl-" "tw- p--rs" "thr-- b-n-n-s" str_split()åˆ†å‰²å­—ç¬¦ä¸²ã€‚ 12345678910111213141516171819&gt; fruits &lt;- c( "apples and oranges and pears and bananas", "pineapples and mangos and guavas")&gt; str_split(fruits, " and ")#&gt; [[1]]#&gt; [1] "apples" "oranges" "pears" "bananas" #&gt; [[2]]#&gt; [1] "pineapples" "mangos" "guavas" &gt; str_split(fruits, " and ", simplify = TRUE)#&gt; [,1] [,2] [,3] [,4] #&gt; [1,] "apples" "oranges" "pears" "bananas"#&gt; [2,] "pineapples" "mangos" "guavas" "" &gt; str_split(fruits, " and ", n = 3)#&gt; [[1]]#&gt; [1] "apples" "oranges" "pears and bananas" #&gt; [[2]]#&gt; [1] "pineapples" "mangos" "guavas" str_sort()å­—ç¬¦ä¸²æŽ’åºã€‚ 12345678910&gt; letter&lt;-c('an apple','two oranges','three bananas','four tomatoes')&gt; str_sort(letter)[1] "an apple" "four tomatoes" "three bananas" "two oranges"&gt; str_sort(letter,decreasing = TRUE)[1] "two oranges" "three bananas" "four tomatoes" "an apple"x &lt;- c("100a10", "100a5", "2b", "2a")str_sort(x)#&gt; [1] "100a10" "100a5" "2a" "2b" str_sort(x, numeric = TRUE)#&gt; [1] "2a" "2b" "100a5" "100a10" str_to_upper() str_to_lower() str_to_title()æ”¹å˜å­—ç¬¦å¤§å°å†™ã€‚ str_length()å­—ç¬¦ä¸²é•¿åº¦ã€‚ str_c()æ‹¼æŽ¥å­—ç¬¦ä¸²ã€‚ 1234&gt; str_c('I have',letter,sep = ' ') #å•å­—ç¬¦ä¸²åŠ å­—ç¬¦[1] "I have an apple" "I have two oranges" "I have three bananas" "I have four tomatoes"&gt; str_c(letter,collapse = ',')[1] "an apple,two oranges,three bananas,four tomatoes" #æ‹¼æŽ¥æ‰€æœ‰å­—ç¬¦ä¸²]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R æ•°æ®å¤„ç†]]></title>
    <url>%2F2018%2F10%2F02%2FR-data-progress%2F</url>
    <content type="text"><![CDATA[æœ¬èŠ‚å‡½æ•°éƒ½æ¥è‡ªäºŽdplyråŒ…ï¼Œéƒ½å¯ä»¥å’Œgroup_byå‡½æ•°è”åˆèµ·æ¥å¤„ç†å¤æ‚çš„æ•°æ®ã€‚ filterfilter()å‡½æ•°ç”¨æ¥æ ¹æ®åˆ—çš„å…·ä½“æ•°æ®é€‰æ‹©è¡Œã€‚ 12345678910111213141516171819&gt; library(dplyr)&gt; names(mpg) "manufacturer" "model" "displ" "year" "cyl" "trans" "drv" "cty" "hwy" "fl" "class"&gt; filter(mpg,year==1999) #é€‰æ‹©year==1999çš„æ•°æ®# A tibble: 117 x 11 manufacturer model displ year cyl trans drv cty hwy fl class &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 1 audi a4 1.80 1999 4 auto(l5) f 18 29 p compact 2 audi a4 1.80 1999 4 manual(m5) f 21 29 p compact 3 audi a4 2.80 1999 6 auto(l5) f 16 26 p compact&gt; filter(mpg,year==1999,displ&gt;5) #é€‰æ‹©year==1999ä¸”displ&gt;5çš„æ•°æ®# A tibble: 16 x 11 manufacturer model displ year cyl trans drv cty hwy fl class &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 1 chevrolet c1500 suburban 2wd 5.70 1999 8 auto(l4) r 13 17 r suv 2 chevrolet corvette 5.70 1999 8 manual(m6) r 16 26 p 2seater 3 chevrolet corvette 5.70 1999 8 auto(l4) r 15 23 p 2seater 4 chevrolet k1500 tahoe 4wd 5.70 1999 8 auto(l4) 4 11 15 r suv 5 chevrolet k1500 tahoe 4wd 6.50 1999 8 auto(l4) 4 14 17 d suv arrangearrange()å‡½æ•°ç”¨æ¥æŽ’åˆ—è¡Œçš„é¡ºåºã€‚ 12345678910111213141516&gt; arrange(mpg,year,cty, hwy) #æ ¹æ®year,cty, hwyè¿›è¡Œè¡ŒæŽ’åº# A tibble: 234 x 11 manufacturer model displ year cyl trans drv cty hwy fl class &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 1 chevrolet k1500 tahoe 4wd 5.70 1999 8 auto(l4) 4 11 15 r suv 2 dodge dakota pickup 4wd 5.20 1999 8 auto(l4) 4 11 15 r pickup 3 dodge durango 4wd 5.90 1999 8 auto(l4) 4 11 15 r suv &gt; arrange(mpg,year,cty, hwy) #æ ¹æ®year,cty, hwyè¿›è¡Œè¡ŒæŽ’åº&gt; arrange(mpg,desc(year)) #æ ¹æ®yearè¿›è¡Œè¡Œé™åºæŽ’åº# A tibble: 234 x 11 manufacturer model displ year cyl trans drv cty hwy fl class &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; 1 audi a4 2.00 2008 4 manual(m6) f 20 31 p compact 2 audi a4 2.00 2008 4 auto(av) f 21 30 p compact 3 audi a4 3.10 2008 6 auto(av) f 18 27 p compact 4 audi a4 quattro 2.00 2008 4 manual(m6) 4 20 28 p compact selectselect()å‡½æ•°ç”¨æ¥é€‰æ‹©åˆ—ã€‚ 1234567&gt; select(mpg,year,cty, hwy) #åªæ˜¾ç¤ºyear,cty, hwyä¸‰åˆ—# A tibble: 234 x 3 year cty hwy &lt;int&gt; &lt;int&gt; &lt;int&gt; 1 1999 18 29 2 1999 21 29 3 2008 20 31 select()å‡½æ•°çš„è¾…åŠ©å‡½æ•°ï¼š start_with(&quot;abc&quot;) ï¼šåŒ¹é…ä»¥ â€œabcâ€ å¼€å¤´çš„å˜é‡åã€‚ ends_with(&quot;xyz&quot;) ï¼šä»¥ â€œxyzâ€ ç»“å°¾ã€‚ contains(&quot;ijk&quot;) ï¼šåŒ…å« â€œijkâ€ã€‚ match(&quot;(.)\\\1&quot;) ï¼šæ­£åˆ™åŒ¹é…é‡å¤å­—ç¬¦ã€‚ num_range(&quot;x&quot;,1:3) ï¼šåŒ¹é…x1ï¼Œx2å’Œx3ã€‚ renamerename()ç”¨æ¥æ”¹å˜å˜é‡åã€‚ 1&gt; rename(mpg,YEAR=year) #å°†yearé‡å‘½åYEAR mutatemutate()å‡½æ•°ç”¨æ¥å¯¹æ•°æ®è¿›è¡Œå¢žåŠ æ–°åˆ—ã€‚ 1234567891011121314&gt; mutate(mpg,cty2=cty*2) #æ•°å€¼åž‹# A tibble: 234 x 12 manufacturer model displ year cyl trans drv cty hwy fl class cty2 &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; 1 audi a4 1.80 1999 4 auto(l5) f 18 29 p compact 36. 2 audi a4 1.80 1999 4 manual(m5) f 21 29 p compact 42. 3 audi a4 2.00 2008 4 manual(m6) f 20 31 p compact 40.&gt; mutate(mpg,cty2=paste(drv,cty,sep = "")) #å­—ç¬¦åž‹# A tibble: 234 x 12 manufacturer model displ year cyl trans drv cty hwy fl class cty2 &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 1 audi a4 1.80 1999 4 auto(l5) f 18 29 p compact f18 2 audi a4 1.80 1999 4 manual(m5) f 21 29 p compact f21 3 audi a4 2.00 2008 4 manual(m6) f 20 31 p compact f20]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R åˆ†é¢]]></title>
    <url>%2F2018%2F10%2F02%2FR-facet%2F</url>
    <content type="text"><![CDATA[æœ‰æ—¶å€™ä¼šæœ‰éœ€æ±‚éœ€è¦æŠŠä¸€ä¸ªæ•°æ®æ¡†çš„æ•°æ®ä½œå›¾ï¼Œå†æŒ‰ç…§ä¸åŒçš„åˆ†ç±»å°†å›¾å½¢åˆ†å¼€ç»˜åˆ¶ã€‚æˆ–è€…ï¼Œåªæ˜¯éœ€è¦æŠŠ2ä¸ªæˆ–è€…å¤šä¸ªå›¾ç®€å•åœ°æ”¾åœ¨ä¸€ä¸ªç”»å¸ƒä¸Šï¼ŒRå›¾çš„åˆ†é¢å°†ä¼šä½œç”¨ä¸Žæ­¤ã€‚ facet_gridggplot2çš„facet_grid()å‡½æ•°æŒ‰åˆ†ç±»æ¡ä»¶å°†å›¾å½¢åœ¨è¡Œæˆ–è€…åˆ—ä¸Šåˆ†é¢ç»˜å›¾ã€‚ 1234567&gt; p &lt;- ggplot(mpg, aes(displ, cty)) + geom_point()&gt; p + facet_grid(rows = vars(drv)) #æŒ‰è¡Œåˆ†é¢&gt; p + facet_grid(cols = vars(cyl)) #æŒ‰åˆ—åˆ†é¢&gt; p + facet_grid(vars(drv), vars(cyl)) #ä½¿ç”¨2ä¸ªå˜é‡åŒæ—¶åœ¨è¡Œåˆ—åˆ†é¢&gt; mt &lt;- ggplot(mtcars, aes(mpg, wt, colour = factor(cyl))) +geom_point() #æŒ‰cylå¡«å……é¢œè‰²&gt; mt + facet_grid(cols = vars(cyl), scales = "free") #scales = "free"åˆ»åº¦åœ¨åœ¨åˆ†é¢ä¸Šå¯è‡ªé€‚åº” facet_wrapggplot2çš„facet_wrap()å‡½æ•°æŒ‰åˆ†ç±»æ¡ä»¶å°†å›¾å½¢2d(é»˜è®¤n x n)å½¢å¼çš„é“ºåœ¨ç”»å¸ƒä¸Šã€‚ 123456&gt; p &lt;- ggplot(mpg, aes(displ, hwy)) + geom_point()&gt; p + facet_wrap(vars(class)) #æŒ‰classåˆ†é¢&gt; p + facet_wrap(vars(class), nrow = 4) #å¼ºåˆ¶åˆ†ä¸º4è¡Œ&gt; p + facet_wrap(vars(class), ncol = 4) #å¼ºåˆ¶åˆ†ä¸º4åˆ—&gt; p + facet_wrap(vars(cyl, drv)) #ä½¿ç”¨2ä¸ªå˜é‡è¿›è¡Œåˆ†ç±»&gt; p + facet_wrap(c("cyl", "drv"), labeller = "label_both") #å‹å¥½çš„æ˜¾ç¤ºåˆ†ç±»å˜é‡å grid.arrangegrid.arrange()æ˜¯gridExtraåŒ…çš„ä¸€ä¸ªå‡½æ•°ï¼Œå¯ä»¥å°†å¤šä¸ªå›¾æ”¾å…¥ä¸€ä¸ªç”»å¸ƒä¸­ã€‚ 12345678&gt; install.packages("gridExtra")&gt; library(gridExtra)&gt; p1&lt;-ggplot(mpg, aes(displ, hwy)) + geom_point()&gt; p2&lt;-ggplot(mpg, aes(displ, hwy)) + geom_point()&gt; p3&lt;-ggplot(mpg, aes(displ, hwy)) + geom_point()&gt; grid.arrange(p1,p2,p3, nrow=2) #è®¾å®šä¸º2è¡Œå›¾å½¢&gt; grid.arrange(p1,p2,p3, nrow=2,top = textGrob("xxx",gp=gpar(col="red",fontsize=20ï¼Œfont=2))) #è®¾ç½®æ€»æ ‡é¢˜ï¼Œå¹¶ä¿®æ”¹é¢œè‰²å¤§å°ï¼Œå­—ä½“]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R å›žå½’åˆ†æž]]></title>
    <url>%2F2018%2F09%2F29%2FR-regression-analysis%2F</url>
    <content type="text"><![CDATA[é€æ­¥å›žå½’é€æ­¥å›žå½’åˆ†æžæ˜¯ä»¥AICä¿¡æ¯ç»Ÿè®¡é‡ä¸ºå‡†åˆ™ï¼Œé€šè¿‡é€‰æ‹©æœ€å°çš„AICä¿¡æ¯ç»Ÿè®¡é‡ï¼Œæ¥è¾¾åˆ°åˆ é™¤æˆ–å¢žåŠ å˜é‡çš„ç›®çš„ã€‚ AIC : èµ¤æ± ä¿¡æ¯å‡†åˆ™(Akaike Information Criterion) ,kæ˜¯æ¨¡åž‹ä¸­ä¼°è®¡å‚æ•°çš„æ•°é‡ã€‚Læ˜¯æ¨¡åž‹çš„ä¼¼ç„¶å‡½æ•°çš„æœ€å¤§å€¼ã€‚ AICcï¼šå½“æ ·æœ¬é‡å¾ˆå°æ—¶ï¼ŒAICå¾ˆå¯èƒ½ä¼šé€‰æ‹©å…·æœ‰å¤ªå¤šå‚æ•°çš„æ¨¡åž‹ï¼Œå³AICä¼šè¿‡åº¦æ‹Ÿåˆã€‚ä¸ºäº†è§£å†³è¿™ç§æ½œåœ¨çš„è¿‡åº¦æ‹Ÿåˆé—®é¢˜ï¼ŒAICcå¯ä»¥å¯¹å°æ ·æœ¬è¿›è¡Œæ ¡æ­£ã€‚å…¶ä¸­nè¡¨ç¤ºæ ·æœ¬å¤§å°ï¼Œkè¡¨ç¤ºå‚æ•°çš„æ•°é‡ã€‚ å‘å‰é€æ­¥å›žå½’é¦–å…ˆæ¨¡åž‹ä¸­åªæœ‰ä¸€ä¸ªå•ç‹¬è§£é‡Šå› å˜é‡å˜å¼‚æœ€å¤§çš„è‡ªå˜é‡ï¼Œä¹‹åŽå°è¯•å°†åŠ å…¥å¦ä¸€è‡ªå˜é‡ï¼Œçœ‹åŠ å…¥åŽæ•´ä¸ªæ¨¡åž‹æ‰€èƒ½è§£é‡Šçš„å› å˜é‡å˜å¼‚æ˜¯å¦æ˜¾è‘—å¢žåŠ ï¼ˆè¿™é‡Œéœ€è¦è¿›è¡Œæ£€éªŒï¼Œå¯ä»¥ç”¨ F-testï¼Œ t-test ç­‰ç­‰ï¼‰ã€‚è¿™ä¸€è¿‡ç¨‹åå¤è¿­ä»£ï¼Œç›´åˆ°æ²¡æœ‰è‡ªå˜é‡å†ç¬¦åˆåŠ å…¥æ¨¡åž‹çš„æ¡ä»¶ã€‚ MASSåŒ…ä¸­çš„stepAIC()å‡½æ•°ç»™äºˆAICå‡†åˆ™å®žçŽ°äº†é€æ­¥å›žå½’æ¨¡åž‹ï¼ˆå‘å‰ã€å‘åŽå’ŒåŒå‘ï¼‰ã€‚ 123&gt; library(MASS)&gt; fit &lt;- lm(xx ~ x+y+z,data=datas)&gt; stepAIC(fit, direction="forward") å‘åŽé€æ­¥å›žå½’å‘åŽé€æ­¥å›žå½’ä¸Žå‘å‰é€æ­¥å›žå½’ç›¸åï¼Œæ­¤æ—¶ï¼Œæ‰€æœ‰å˜é‡å‡æ”¾å…¥æ¨¡åž‹ï¼Œä¹‹åŽå°è¯•å°†å…¶ä¸­ä¸€ä¸ªè‡ªå˜é‡ä»Žæ¨¡åž‹ä¸­å‰”é™¤ï¼Œçœ‹æ•´ä¸ªæ¨¡åž‹è§£é‡Šå› å˜é‡çš„å˜å¼‚æ˜¯å¦æœ‰æ˜¾è‘—å˜åŒ–ï¼Œä¹‹åŽå°†ä½¿è§£é‡Šé‡å‡å°‘æœ€å°‘çš„å˜é‡å‰”é™¤ï¼›æ­¤è¿‡ç¨‹ä¸æ–­è¿­ä»£ï¼Œç›´åˆ°æ²¡æœ‰è‡ªå˜é‡ç¬¦åˆå‰”é™¤çš„æ¡ä»¶ã€‚ 123&gt; library(MASS)&gt; fit &lt;- lm(xx ~ x+y+z,data=datas)&gt; stepAIC(fit, direction="backward") å‘å‰å‘åŽé€æ­¥å›žå½’å‘å‰å‘åŽé€æ­¥å›žå½’ï¼Œè¿™ç§æ–¹æ³•ç›¸å½“äºŽå°†å‰ä¸¤ç§ç»“åˆèµ·æ¥ã€‚å¯ä»¥æƒ³è±¡ï¼Œå¦‚æžœé‡‡ç”¨ç¬¬ä¸€ç§æ–¹æ³•ï¼Œæ¯åŠ å…¥ä¸€ä¸ªè‡ªå˜é‡ï¼Œå¯èƒ½ä¼šä½¿å·²å­˜åœ¨äºŽæ¨¡åž‹ä¸­çš„å˜é‡å•ç‹¬å¯¹å› å˜é‡çš„è§£é‡Šåº¦å‡å°ï¼Œå½“å…¶çš„ä½œç”¨å¾ˆå°ï¼ˆä¸æ˜¾è‘—ï¼‰æ—¶ï¼Œåˆ™å¯å°†å…¶ä»Žæ¨¡åž‹ä¸­å‰”é™¤ã€‚è€Œç¬¬ä¸‰ç§æ–¹æ³•å°±åšäº†è¿™ä¹ˆä¸€ä»¶äº‹ï¼Œä¸æ˜¯ä¸€å‘³çš„å¢žåŠ å˜é‡ï¼Œè€Œæ˜¯å¢žåŠ ä¸€ä¸ªåŽï¼Œå¯¹æ•´ä¸ªæ¨¡åž‹ä¸­çš„æ‰€æœ‰å˜é‡è¿›è¡Œæ£€éªŒï¼Œå‰”é™¤ä½œç”¨ä¸æ˜¾è‘—çš„å˜é‡ã€‚æœ€ç»ˆå°½å¯èƒ½å¾—åˆ°ä¸€ä¸ªæœ€ä¼˜çš„å˜é‡ç»„åˆã€‚ 123&gt; library(MASS)&gt; fit &lt;- lm(xx ~ x+y+z,data=datas)&gt; stepAIC(fit, direction="both") Forwardã€Backwardã€Stepwiseçš„ä¾§é‡ç‚¹æœ‰æ‰€ä¸åŒï¼Œä¸‰ç§æ–¹æ³•çš„é€‰æ‹©å–å†³äºŽä½ çš„ç ”ç©¶ç›®çš„ï¼Œå¦‚æžœæ˜¯è¿›è¡Œé¢„æµ‹ï¼Œåœ¨é¢„æµ‹æ•ˆæžœå·®ä¸å¤šçš„æƒ…å†µä¸‹ï¼Œä¸€èˆ¬é€‰æ‹©è‡ªå˜é‡æœ€å°‘çš„æ–¹æ³•ã€‚å½“è‡ªå˜é‡é—´ä¸å­˜åœ¨å¤šé‡å…±çº¿æ€§æ—¶ï¼Œä¸‰ç§æ–¹æ³•çš„è®¡ç®—ç»“æžœåŸºæœ¬ä¸€è‡´ã€‚å½“è‡ªå˜é‡é—´å­˜åœ¨å¤šé‡å…±çº¿æ€§æ—¶ï¼ŒForwardä¾§é‡äºŽå¼•å…¥å•ç‹¬ä½œç”¨è¾ƒå¼ºçš„å˜é‡ï¼ŒBackwardä¾§é‡äºŽå¼•å…¥è”åˆä½œç”¨è¾ƒå¼ºçš„å˜é‡ï¼ŒStepwiseä»‹äºŽä¸¤è€…ä¹‹é—´ã€‚ å…¨å­é›†å›žå½’å…¨å­é›†å›žå½’å…‹æœäº†é€æ­¥å›žå½’çš„ç¼ºç‚¹ï¼Œå³æ‰€æœ‰å¯èƒ½çš„æ¨¡åž‹éƒ½ä¼šè¢«æ£€éªŒï¼Œè¯„åˆ¤å‡†åˆ™å¯ä»¥æ˜¯Rå¹³æ–¹ã€ä¿®æ­£Rå¹³æ–¹ã€BICæˆ–è€…Mallows Cpç»Ÿè®¡é‡ã€‚ Rå¹³æ–¹ï¼š ä¿®æ­£Rå¹³æ–¹ : æˆ‘ä»¬çŸ¥é“åœ¨å…¶ä»–å˜é‡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œå¼•å…¥æ–°çš„å˜é‡ï¼Œæ€»èƒ½æé«˜æ¨¡åž‹çš„R2ã€‚ä¿®æ­£R2å°±æ˜¯ç›¸å½“äºŽç»™å˜é‡çš„ä¸ªæ•°åŠ æƒ©ç½šé¡¹ã€‚æ¢å¥è¯è¯´ï¼Œå¦‚æžœä¸¤ä¸ªæ¨¡åž‹ï¼Œæ ·æœ¬æ•°ä¸€æ ·ï¼ŒR2ä¸€æ ·ï¼Œé‚£ä¹ˆä»Žä¿®æ­£R2çš„è§’åº¦çœ‹ï¼Œä½¿ç”¨å˜é‡ä¸ªæ•°å°‘çš„é‚£ä¸ªæ¨¡åž‹æ›´ä¼˜ã€‚å…¶ä¸­næ˜¯æ ·æœ¬æ•°é‡ï¼Œpæ˜¯æ¨¡åž‹ä¸­å˜é‡çš„ä¸ªæ•°ã€‚ å½“p/nå€¼å¾ˆå°æ—¶ï¼Œå¦‚å°äºŽ0.05ï¼Œä¿®æ­£Rå¹³æ–¹å°†å¤±åŽ»ä¿®æ­£ä½œç”¨ã€‚ BICï¼šè´å¶æ–¯ä¿¡æ¯å‡†åˆ™ ï¼ŒBICçš„æƒ©ç½šé¡¹æ¯”AICçš„å¤§ï¼Œè€ƒè™‘äº†æ ·æœ¬æ•°é‡ï¼Œæ ·æœ¬æ•°é‡è¿‡å¤šæ—¶ï¼Œå¯æœ‰æ•ˆé˜²æ­¢æ¨¡åž‹ç²¾åº¦è¿‡é«˜é€ æˆçš„æ¨¡åž‹å¤æ‚åº¦è¿‡é«˜ã€‚ Mallows Cpï¼šé©¬æ´›æ–¯çš„Cpå€¼ ä¸ŽAICç­‰æ•ˆã€‚ ä»¥ä¸‹ä¸ºRä¸­ISLRåŒ…çš„Hittersæ•°æ®é›†ä¸ºä¾‹ï¼Œæž„å»ºæ£’çƒè¿åŠ¨å‘˜çš„å¤šå…ƒçº¿æ€§æ¨¡åž‹ ã€‚ 12345678910111213141516171819202122232425&gt; library(ISLR)&gt; library(leaps) #ä½¿ç”¨leapsåšå…¨å­é›†å›žå½’&gt; Hitters &lt;- na.omit(Hitters)&gt; dim(Hitters) #é™¤åŽ»Salaryåšä¸ºå› å˜é‡ï¼Œè¿˜å‰©ä¸‹19ä¸ªç‰¹å¾[1] 263 20&gt; regfit.full = regsubsets(Salary~.,Hitters,nvmax = 19) #é€‰æ‹©æœ€å¤§19ä¸ªç‰¹å¾çš„å…¨å­é›†é€‰æ‹©æ¨¡åž‹&gt; reg.summary = summary(regfit.full) # å¯çœ‹åˆ°ä¸åŒæ•°é‡ä¸‹çš„ç‰¹å¾é€‰æ‹©&gt; plot(reg.summary$adjr2,xlab="Number of Variables",ylab="Adjusted R2",type = "l")&gt; points(which.max(reg.summary$adjr2),reg.summary$adjr2[11],col="red",cex=2,pch=20) #11ä¸ªç‰¹å¾æ—¶ï¼ŒAdjusted R2æœ€å¤§&gt; plot(reg.summary$cp,xlab="Number of Variables",ylab="Cp",type = "l")&gt; points(which.min(reg.summary$cp),reg.summary$cp[10],col="red",cex=2,pch=20) # 10ä¸ªç‰¹å¾æ—¶ï¼ŒCpæœ€å°&gt; plot(reg.summary$bic,xlab="Number of Variables",ylab="BIC",type = "l")&gt; points(which.min(reg.summary$bic),reg.summary$bic[6],col="red",cex=2,pch=20) # 6ä¸ªç‰¹å¾æ—¶ï¼ŒBICæœ€å°&gt; plot(regfit.full,scale = "r2") #ç‰¹å¾è¶Šå¤šï¼ŒR2è¶Šå¤§ï¼Œè¿™ä¸æ„å¤–ï¼Œé»˜è®¤scaleæ˜¯bicã€‚&gt; plot(regfit.full,scale = "adjr2") #ä¸‹å›¾&gt; coef(regfit.full,11) #æŸ¥çœ‹æ¨¡åž‹çš„ç³»æ•° (Intercept) AtBat Hits Walks CAtBat 135.7512195 -2.1277482 6.9236994 5.6202755 -0.1389914 CRuns CRBI CWalks LeagueN DivisionW 1.4553310 0.7852528 -0.8228559 43.1116152 -111.1460252 PutOuts Assists 0.2894087 0.2688277 äº¤å‰éªŒè¯äº¤å‰éªŒè¯æ˜¯åœ¨æœºå™¨å­¦ä¹ å»ºç«‹æ¨¡åž‹å’ŒéªŒè¯æ¨¡åž‹å‚æ•°æ—¶å¸¸ç”¨çš„åŠžæ³•ï¼Œä¸€èˆ¬è¢«ç”¨äºŽè¯„ä¼°ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡åž‹çš„è¡¨çŽ°ã€‚æ›´å¤šçš„æƒ…å†µä¸‹ï¼Œä¹Ÿç”¨äº¤å‰éªŒè¯æ¥è¿›è¡Œæ¨¡åž‹é€‰æ‹©(model selection)ã€‚ ké‡äº¤å‰éªŒè¯ä¸­ï¼Œæ ·æœ¬è¢«åˆ†ä¸ºkä¸ªå­æ ·æœ¬ï¼Œè½®æµå°†k-1ä¸ªå­æ ·æœ¬ç»„åˆä½œä¸ºè®­ç»ƒé›†ï¼Œå¦å¤–1ä¸ªå­æ ·æœ¬ä½œä¸ºæµ‹è¯•é›†ï¼Œè¿™æ ·ä¼šèŽ·å¾—kä¸ªé¢„æµ‹æ–¹ç¨‹ï¼Œè®°å½•kä¸ªæµ‹è¯•æ ·æœ¬çš„é¢„æµ‹è¡¨çŽ°ç»“æžœï¼Œç„¶åŽæ±‚å…¶å¹³å‡å€¼ã€‚æµ‹è¯•é›†çš„ç›®çš„ç®€å•æ¥è¯´å°±ç›¸å½“äºŽä¸€ä¸ªæ¸¸æˆçš„å†…æµ‹ï¼Œå†…éƒ¨è¯„ä¼°ã€‚è¿›è¡Œäº¤å‰éªŒè¯åŽå¾—åˆ°äº†åˆ†æ•°æ¥è¯„ä¼°ä½ å»ºæ¨¡çš„å‡†ç¡®çŽ‡æ˜¯é«˜æ˜¯ä½Žã€‚æœ€åŽçš„ç›®çš„æ˜¯ä¸ºäº†å“ªå¤©æ¥äº†æ–°çš„æ•°æ®ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ä½ çš„æ¨¡åž‹åŽ»é¢„æµ‹ä»–ï¼Œç›¸å½“äºŽæ¸¸æˆå…¬æµ‹ã€‚ bootstrapåŒ…ä¸­çš„crossval() å‡½æ•°å¯å®žçŽ°ké‡äº¤å‰éªŒè¯ ï¼š 1234567891011121314151617181920212223&gt; install.packages("bootstrap") &gt; library(bootstrap) &gt; shrinkage&lt;-function(fit,k=10)&#123; require(bootstrap) theta.fit&lt;-function(x,y)&#123;lsfit(x,y)&#125; theta.predict&lt;-function(fit,x)&#123;cbind(1,x)%*%fit$coef&#125; x&lt;-fit$model[,2:ncol(fit$model)] y&lt;-fit$model[,1] results&lt;-crossval(x,y,theta.fit,theta.predict,ngroup=k) r2&lt;-cor(y,fit$fitted.values)^2 r2cv&lt;-cor(y,results$cv.fit)^2 cat("Original R-square=",r2,"n") cat(k,"Fold Cross-Validated R-square=",r2cv,"n") cat("Change=",r2-r2cv,"n") &#125; &gt; fit&lt;-lm(Murder ~ Population+Income+Illiteracy+Frost,data=states) &gt; shrinkage(fit) &gt; fit2&lt;-lm(Murder ~ Population+Illiteracy,data=states) &gt; shrinkage(fit2) Original R-square=0.566832710 Fold Cross-Validated R-square=0.5193801Change=0.04745256]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[R æ•°æ®é¢„å¤„ç†]]></title>
    <url>%2F2018%2F09%2F28%2Fdeal-with-r-data%2F</url>
    <content type="text"><![CDATA[å°†è‹¥å¹²å‘é‡ç»„åˆä¸ºæ•°æ®æ¡†12345678&gt; g &lt;- c("a","b","c")&gt; x &lt;- 1:3&gt; data &lt;- data.frame(g,x)&gt; data g x1 a 12 b 23 c 3 ä»Žæ•°æ®æ¡†ä¸­æå–æ‘˜è¦ä¿¡æ¯1234&gt; str(data)'data.frame': 3 obs. of 2 variables: $ g: Factor w/ 3 levels "a","b","c": 1 2 3 $ x: int 1 2 3 å‘æ•°æ®æ¡†æ·»åŠ åˆ—12345&gt; data$new &lt;- data$x * 2 g x new1 a 1 22 b 2 43 c 3 6 ä»Žæ•°æ®æ¡†åˆ é™¤åˆ—12345&gt; data &lt;- subset(data,select = c(-x,-new)) g1 a2 b3 c é‡æŽ’åºåˆ—12345&gt; data2 &lt;-data[c(1,3,2)] g new x1 a 2 12 b 4 23 c 6 3 é€‰å–æŸå‡ åˆ—12345&gt; data3 &lt;-data[c("x","new")] x new1 1 22 2 43 3 6 é€‰å–æŸå‡ è¡Œ1234&gt; data3 &lt;-data[c(1,2),] g x new1 a 1 22 b 2 unite 4 è¿žç»­å˜é‡è½¬æ¢ä¸ºåˆ†ç±»å˜é‡12345&gt; data$class &lt;- cut(data$new,breaks=c(0,4,8,Inf)) g x new class1 a 1 2 (0,4]2 b 2 4 (0,4]3 c 3 6 (4,8] å®½æ•°æ®ã€Š=ã€‹é•¿æ•°æ®é•¿æ•°æ®æœ‰ä¸€åˆ—æ•°æ®æ˜¯å˜é‡çš„ç±»åž‹ï¼Œæœ‰ä¸€åˆ—æ˜¯å˜é‡çš„å€¼ï¼Œä½†ä¸ä¸€å®šåªæœ‰ä¸¤åˆ—ã€‚ggplot2éœ€è¦é•¿ç±»åž‹çš„æ•°æ®ï¼Œdplyrä¹Ÿéœ€è¦é•¿ç±»åž‹çš„æ•°æ®ï¼Œå¤§å¤šæ•°çš„æ¨¡åž‹(æ¯”å¦‚lm(), glm()ä»¥åŠgam())ä¹Ÿéœ€è¦é•¿æ•°æ®ã€‚ ä½¿ç”¨tidyr åŒ…çš„gather()å‡½æ•°è½¬æ¢åˆ°é•¿æ•°æ®ï¼š 123456789101112131415&gt; library(tidyr)&gt; data g x new1 a 1 22 b 2 43 c 3 6&gt; data2&lt;-gather(data,key='new_one',value ='count',x,new,-g)&gt; data2 g new_one count1 a x 12 b x 23 c x 34 a new 25 b new 46 c new 6 ä½¿ç”¨tidyr åŒ…çš„spread()å‡½æ•°è½¬æ¢åˆ°å®½æ•°æ®ï¼š 12345&gt; spread(data2,key='new_one',value='count') g x new1 a 1 22 b 2 43 c 3 6 å¤šåˆ—ã€Š=ã€‹ä¸€åˆ—123456789101112131415161718&gt; data g x new1 a 1 22 b 2 43 c 3 6&gt; data3&lt;-unite(data,x_new,x,new,sep = '_')&gt; data3 g x_new1 a 1_22 b 2_43 c 3_6&gt; data4&lt;- separate(data3,x_new,c('x','new'),sep = '_')&gt; data4 g x new1 a 1 22 b 2 43 c 3 6]]></content>
      <categories>
        <category>R</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[python Type Hint]]></title>
    <url>%2F2018%2F09%2F19%2Fpython-Type-Hint%2F</url>
    <content type="text"><![CDATA[å¼•å…¥â€‹ åœ¨Cè¯­è¨€ä¸­æ¯ä½¿ç”¨ä¸€ä¸ªå˜é‡å‰è¦å…ˆå°†å…¶å£°æ˜Žï¼Œå¦‚ int a =1,float b =3.14ã€‚è¿™ä¹ˆåšçš„å¥½å¤„æœ‰2ä¸ªï¼Œä¸€æ˜¯åœ¨ä¹‹åŽä»£ç ä¸­æ— éœ€â€œçŒœæµ‹â€å˜é‡åˆ°åº•æ˜¯ä»€ä¹ˆç±»åž‹ï¼Œå£°æ˜Žæ˜¯ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆï¼Œè¿™å°±æ˜¯é™æ€å˜é‡ã€‚äºŒæ˜¯å°‘äº†â€œçŒœæµ‹â€è¿™ä¸€æ­¥ï¼Œä»£ç æ‰§è¡Œæ•ˆçŽ‡ä¼šæœ‰æ‰€æå‡ã€‚pythoné»˜è®¤æ‰€æœ‰çš„å˜é‡éƒ½æ˜¯åŠ¨æ€çš„ï¼Œæ‰€ä»¥ä½ æ— éœ€æå‰å£°æ˜Žç±»åž‹ï¼Œå†™å‡ºäº†ä¸€ä¸ªå˜é‡aï¼Œèµ‹å€¼ç»™ä»–ä¸€ä¸ªå¸¸æ•°ã€åˆ—è¡¨ã€å­—å…¸ç­‰ç­‰éƒ½å¯ä»¥ã€‚å½“ç„¶åŠ¨æ€æ‰€å¸¦æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œåœ¨ä»£ç æ‰§è¡Œçš„æ—¶å€™éœ€è¦åŽ»â€œçŒœæµ‹â€å˜é‡çš„ç±»åž‹ï¼Œä»Žè€Œé™ä½Žäº†è¿è¡Œæ•ˆçŽ‡ã€‚ â€‹ åœ¨python3.5åŠä¹‹åŽç‰ˆæœ¬ï¼ŒpythonåŠ å…¥äº†æ¨¡å—typingï¼Œå®ƒå…è®¸åœ¨ä½ å‘½åå˜é‡çš„æ—¶å€™è®¾å®šå®ƒçš„ç±»åž‹ï¼ŒæŠ½è±¡å‡ºæ¥å®ƒé•¿è¿™ä¸ªæ ·å­ï¼švariable : typeï¼Œåœ¨è®¾å®šä¸€ä¸ªå˜é‡ç±»åž‹ä¸ºå¸¸é‡ï¼ˆintï¼‰ä¹‹åŽå¹¶ä¸ä¼šå½±å“ä½ ç»™ä»–èµ‹å€¼ä¸ºå­—ç¬¦ä¸²ï¼ˆstrï¼‰ï¼Œè¿™ç§ç±»åž‹è®¾å®šå¦‚åå­—ä¸€æ ·æ˜¯ç±»åž‹æš—ç¤ºï¼ˆType Hintï¼‰ï¼Œè€Œä¸æ˜¯å†³å®šã€‚ â€‹ æœ‰ä¸€ä¸ªåä¸ºmypyçš„åŒ…å¯ä»¥æ˜¾å¼çš„å¸®ä½ æ‰¾å‡ºä½ åœ¨ç±»åž‹ä¸Šçš„é—®é¢˜ï¼š 12pip install mypy$ mypy program.py ä»‹ç»å¯ä¾›ä½¿ç”¨çš„ç±»åž‹ï¼š Type Description int integer float floating point number bool boolean value str string (unicode) bytes 8-bit string object an arbitrary object (object is the common base class) List[str] list of str objects Tuple[int, int] tuple of two int objects (Tuple[()] is the empty tuple) Tuple[int, ...] tuple of an arbitrary number of int objects Dict[str, int] dictionary from str keys to int values Iterable[int] iterable object containing ints Sequence[bool] sequence of booleans (read-only) Mapping[str, int] mapping from str keys to int values (read-only) Any dynamically typed value with an arbitrary type Union[T1, ..., Tn] Union[int, str]both integers and strings are valid argument values. æ–¹æ³•12345678910111213141516171819202122from typing import List, Set, Dict, Tuple, Optional, Union, Anyx: int = 1x: float = 1.0x: bool = Truex: str = "test"x: bytes = b"test"x: List[int] = [1]x: Set[int] = &#123;6, 7&#125;x: Dict[str, float] = &#123;'field': 2.0&#125;x: Tuple[int, str, float] = (3, "yes", 7.5)x: List[Union[int, str]] = [3, 5, "test", "fun"] def plus(num1: int, num2: float) -&gt; float: return num1 + num2def f(x: Union[int, str]) -&gt; Any: if isinstance(x, int): # Here type of x is int. return (x + 1) # OK else: # Here type of x is str. return (x + 'a') # OK 123456def join(string_list): #å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¸åšç±»åž‹è®¾å®š return ', '.join(string_list)&gt;&gt;&gt; join('hello')'h, e, l, l, o'&gt;&gt;&gt; join(['hello','world'])'hello, world' å¯¹äºŽè¿™ä¸ªå‡½æ•°ï¼ŒæœŸæœ›çš„ç»“æžœå°±æ˜¯ä¼šæŠŠ[â€˜helloâ€™, â€˜worldâ€™]å˜æˆâ€™hello, worldâ€™ã€‚ ä½†æ˜¯å¦‚æžœä¸å°å¿ƒæ²¡æœ‰ä¼ listè€Œæ˜¯ä¼ äº†ä¸€ä¸ªå­—ç¬¦ä¸²â€™helloâ€™ï¼Œè¿™æ®µä»£ç ä¹Ÿä¸ä¼šæŠ¥é”™ï¼Œåªæ˜¯ä¼šè¿”å›žâ€™h, e, l, l, oâ€™è¿™ä¸ªå¹¶ä¸æœŸæœ›çš„ç»“æžœã€‚ 1234567891011from typing import Listdef join(string_list: List[str]) -&gt; str: return ', '.join(string_list) #string_list å±€éƒ¨å˜é‡åï¼Œ List[str] å±€éƒ¨å˜é‡ç±»åž‹ï¼Œ str è¿”å›žç»“æžœç±»åž‹&gt;&gt;&gt; join('hello') #è™½ç„¶ä¸æœŸå¾…ï¼Œä½†æ˜¯ä»å¯ä»¥è¿è¡Œ'h, e, l, l, o'&gt;&gt;&gt; join(['hello','world'])'hello, world'&gt;&gt;&gt; join.__annotations__&#123;'string_list': typing.List[str], 'return': &lt;class 'str'&gt;&#125; è¿™æ ·å£°æ˜Žå‡½æ•°æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯ä¸éœ€è¦åœ¨æ³¨é‡Šé‡Œé¢è¯´æ˜Žå˜é‡ç±»åž‹ï¼Œæ›´åŠ ç›´è§‚ã€‚PythonæŠŠè¿™ç§ç±»åž‹çš„å£°æ˜Žçœ‹æˆæ˜¯ä¸€ç§å¯¹å‡½æ•°çš„æ³¨è§£(annotation)ï¼Œè€Œæ³¨è§£æœ¬èº«å¹¶ä¸å…·æœ‰ä»»ä½•çš„æ„ä¹‰ï¼Œä¹Ÿä¸å½±å“è¿è¡Œçš„è¿‡ç¨‹ã€‚ä¸Žæ²¡æœ‰æ³¨è§£çš„ç‰ˆæœ¬å·®åˆ«å°±æ˜¯å¤šäº†ä¸€ä¸ªannotationsçš„å­—æ®µ ã€‚ 123456from typing import Listdef join(string_list: List[str]) -&gt; str: return ', '.join(string_list)print(join('hello')) è¿è¡Œä»¥åŠä½¿ç”¨mypyæ£€æŸ¥ï¼Œä»£ç å¯ä»¥è¿è¡Œï¼Œmypyä¹Ÿå¯ä»¥ç»™å‡ºæç¤º 1234$ python3 test_mypy.pyh, e, l, l, o$ mypy test_mypy.pytest_mypy.py:6: error: Argument 1 to "join" has incompatible type "str"; expected List[str]]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pandaså’ŒRä¸­çš„groupby]]></title>
    <url>%2F2018%2F09%2F18%2Fgroupby-in-Python-and-R%2F</url>
    <content type="text"><![CDATA[groupby å¯ä»¥æ ¹æ®ä¸€ä¸ªæ•°æ®æ¡†çš„éƒ¨åˆ†æ•°æ®ï¼Œå°†æ•´ä¸ªæ•°æ®æ¡†è¿›è¡Œåˆ†ç»„ï¼Œç®€ç§°ï¼šèšåˆã€‚èšåˆä¹‹åŽï¼Œå¯ä»¥æŒ‰ç»„è¿›è¡Œå¯¹æ•°æ®è¿›è¡Œç»Ÿè®¡åˆ†æžã€‚ pandas12345678910111213In [10]: df = pd.DataFrame(&#123;'key1' : ['a', 'a', 'b', 'b', 'a'], ....: 'key2' : ['one', 'two', 'one', 'two', 'one'], ....: 'data1' : np.random.randn(5), ....: 'data2' : np.random.randn(5)&#125;)In [11]: df #å»ºç«‹ä¸€ä¸ªDataframeæ•°æ®æ¡†Out[11]: data1 data2 key1 key20 -0.204708 1.393406 a one1 0.478943 0.092908 a two2 -0.519439 0.281746 b one3 -0.555730 0.769023 b two4 1.965781 1.246435 a one 1234In [12]: grouped = df.groupby('key1') #æŒ‰key1è¿›è¡Œåˆ†ç»„In [13]: grouped #å¾—åˆ°çš„groupedä¸€ä¸ªç®€å•å¤„ç†çš„å¯è¿­ä»£å¯¹è±¡ï¼ˆGroupByï¼‰ï¼Œå®žé™…ä¸Šè¿˜æ²¡æœ‰è¿›è¡Œä»»ä½•è®¡ç®—Out[13]: &lt;pandas.core.groupby.DataframeGroupBy object at 0x0000000000FF07EB8&gt; 123456In [14]: grouped.mean() #è°ƒç”¨GroupByçš„meanæ–¹æ³•æ¥è®¡ç®—åˆ†ç»„å¹³å‡å€¼ï¼šOut[14]: data1 data2key1a 0.114474 0.714913b 0.300820 -1.160967 12345678910In [15]: means = df.groupby(['key1', 'key2']).mean()['data1'] #æŒ‰key1å’Œkey2åˆ†ç»„ï¼Œé€‰å‡ºdata1æ•°æ®In [16]: meansOut[16]: key1 key2a one 0.880536 two 0.478943b one -0.519439 two -0.555730Name: data1, dtype: float64 1234567891011121314In [35]: people = pd.DataFrame(np.random.randn(5, 5), ....: columns=['a', 'b', 'c', 'd', 'e'], ....: index=['Joe', 'Steve', 'Wes', 'Jim', 'Travis'])In [36]: people.iloc[2:3, [1, 2]] = np.nan # Add a few NA valuesIn [37]: people #å¦å»ºä¸€ä¸ªæ•°æ®æ¡†ï¼Œæ‹¥æœ‰indexåOut[37]: a b c d eJoe 1.007189 -1.296221 0.274992 0.228913 1.352917Steve 0.886429 -2.001637 -0.371843 1.669025 -0.438570Wes -0.539741 -2.001001 -2.001002 -1.021228 -0.577087Jim 0.124121 0.302614 0.523772 0.000940 1.343810Travis -0.713544 -0.831154 -2.370232 -1.860761 -0.860757 123456In [44]: people.groupby(len).sum() #ç”¨pythonå‡½æ•°åˆ†ç»„å°†ä½¿ç”¨indexOut[44]: a b c d e3 0.591569 -0.993608 0.798764 -0.791374 2.1196395 0.886429 -2.001637 -0.371843 1.669025 -0.4385706 -0.713544 -0.831154 -2.370232 -1.860761 -0.860757 èšåˆè¿ç®—æ–¹æ³• 12345678In [54]: def peak_to_peak(arr): ....: return arr.max() - arr.min()In [55]: grouped.agg(peak_to_peak) #ä½¿ç”¨è‡ªå·±çš„èšåˆå‡½æ•°ï¼Œå°†å…¶ä¼ å…¥aggregateæˆ–aggæ–¹æ³•Out[55]: data1 data2key1 a 2.170488 1.300498b 0.036292 0.487276 1234567In [69]: grouped.agg(['mean','size']) #ä½¿ç”¨å¤šä¸ªç»Ÿè®¡æ–¹æ³•In [69]: ftuples = [('fuc1', 'mean'),('fuc2', np.var)] #ä½¿ç”¨è‡ªå®šä¹‰çš„åå­—In [70]: grouped.agg(ftuples)In [71]: grouped.agg(&#123;'data1' : ['min', 'max', 'mean', 'std'], #ä¸åŒåˆ—å¯ä»¥æŒ‡å®šä¸åŒçš„ç»Ÿè®¡æ–¹æ³• ....: 'data2' : ['sum']&#125;) R123456789101112131415161718192021222324252627library(dplyr) #group_byå’Œsummariseéƒ½åœ¨dplyråŒ…ä¸­data &lt;- data.frame(year = rep(2016:2017,6),month = seq(1:12),sales=rep(c(10,20,30,40),3)) year month sales1 2016 1 102 2017 2 203 2016 3 304 2017 4 405 2016 5 106 2017 6 207 2016 7 308 2017 8 409 2016 9 1010 2017 10 2011 2016 11 3012 2017 12 40planes &lt;- group_by(data, year) #æŒ‰å¹´åˆ†ç»„delay &lt;- summarise(planes, count = n(), #ä¸ªæ•° max_mon = max(month), #æœ€å¤§å€¼ min_mon = min(month), #æœ€å°å€¼ avg_sales = mean(sales), #å¹³å‡å€¼ sum_sales = sum(sales)) #æ±‚å’Œ# A tibble: 2 x 6 year count max_mon min_mon avg_sales sum_sales &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;1 2016 6 11 1 20 1202 2017 6 12 2 30 180 å¸¸ç”¨çš„æ‘˜è¦å‡½æ•°123mean() sd() min() max() first() last() n() sum()median() #ä¸­ä½æ•°quantile() #åˆ†ä½æ•°ï¼Œquantile(xï¼Œ0.25)å°†ä¼šæ‰¾å‡ºxä»Žå°åˆ°å¤§æŽ’åˆ—ï¼Œåœ¨25%æ—¶çš„æ•° èšåˆå‡½æ•°å’Œé€»è¾‘ç­›é€‰ç»“åˆ12345678910delay &lt;- summarise(planes, avg_sales_1 = mean(sales,na.rm=TRUE), #na.rm=TRUE,é‡åˆ°NAå€¼æ—¶ä¸å¤„ç†ï¼Œå› ä¸ºç»Ÿè®¡æ—¶Ré»˜è®¤NAå€¼ä¼šä¼ æ’­ï¼Œpythonä¸ä¼š avg_sales_2 = mean(sales[sales&gt;10],na.rm=TRUE) #åŠ å…¥é€»è¾‘åˆ¤æ–­planes &lt;- group_by(data, year) #æŒ‰å¹´åˆ†ç»„# A tibble: 2 x 3 year avg_sales_1 avg_sales_2 &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;1 2016 20. 30.2 2017 30. 30. 123456In [53]: grouped = df[df.data1&gt;0].groupby('key1') #é€»è¾‘ç­›é€‰åŽæŒ‰key1è¿›è¡Œåˆ†ç»„Out [53]: data1 data2key1a 0.679126 1.013678b 0.300820 -1.160967]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonæ ‡å‡†åº“å­¦ä¹ ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2018%2F09%2F18%2Fpython-standard-library-2%2F</url>
    <content type="text"><![CDATA[å¯è¿­ä»£å¯¹è±¡ä¸Žè¿­ä»£å™¨å¯è¿­ä»£å¯¹è±¡ä¸Žè¿­ä»£å™¨æ¦‚å¿µä¸åŒã€‚å¯è¿­ä»£å¯¹è±¡åœ¨å†…éƒ¨å®žçŽ°äº†__iter__ï¼Œæ‰€ä»¥å¯ä»¥è¿›è¡Œè¿­ä»£ï¼Œè¿­ä»£å™¨åœ¨å†…éƒ¨å®žçŽ°äº†__iter__å’Œ__next__,æ‰€ä»¥æ˜¯ä¸ªè¿­ä»£å™¨ä¹Ÿå¯ä»¥è¿›è¡Œè¿­ä»£ã€‚ ä¸¾ä¾‹ï¼š 1234&gt;&gt;&gt; mylist = [x for x in range(10)] #mylistæ˜¯ä¸ªåˆ—è¡¨ï¼Œå¯ä»¥è¿›è¡Œè¿­ä»£&gt;&gt;&gt; mylist = ï¼ˆx for x in range(10)ï¼‰ #ç”Ÿæˆå™¨è¡¨è¾¾å¼ï¼Œç»“æžœåŒiter(mylist) #çŽ°åœ¨mylistæ˜¯ä¸ªè¿­ä»£å™¨ï¼Œå¯ä»¥ä½¿ç”¨.next()æ–¹æ³• ç”Ÿæˆå™¨ç”Ÿæˆå™¨æœ¬è´¨å°±æ˜¯ä¸€ä¸ªè¿­ä»£å™¨ï¼Œè‡ªå¸¦äº†iteræ–¹æ³•å’Œnextæ–¹æ³•ã€‚è¿­ä»£å™¨æ˜¯ç”¨æ¥è¿­ä»£å¯è¿­ä»£å¯¹è±¡çš„ï¼Œè€Œç”Ÿæˆå™¨æ˜¯ç”¨æ¥è¿­ä»£æ–¹æ³•çš„ã€‚è°ƒç”¨å‡½æ•°çš„ä¹‹åŽå‡½æ•°ä¸æ‰§è¡Œï¼Œè¿”å›žä¸€ä¸ªç”Ÿæˆå™¨æ¯æ¬¡è°ƒç”¨nextæ–¹æ³•çš„æ—¶å€™ä¼šå–åˆ°ä¸€ä¸ªå€¼ç›´åˆ°å–å®Œæœ€åŽä¸€ä¸ªï¼Œå†æ‰§è¡Œnextä¼šæŠ¥é”™ã€‚ ç”Ÿæˆå™¨è¡¨è¾¾å¼ç±»ä¼¼äºŽåˆ—è¡¨æŽ¨å¯¼ï¼Œä½†æ˜¯ï¼Œç”Ÿæˆå™¨è¿”å›žæŒ‰éœ€äº§ç”Ÿç»“æžœçš„ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡æž„å»ºä¸€ä¸ªç»“æžœåˆ—è¡¨ã€‚ æ¯”è¾ƒï¼š åˆ—è¡¨è¡¨è¾¾å¼åœ¨ç”ŸæˆåŽå¯ä»¥æŒ‰åºåˆ—å–å€¼ï¼ŒæŽ’åºï¼Œåˆ‡ç‰‡ç­‰ï¼Œä½†æ˜¯å ç”¨å†…å­˜å¤§ã€‚ ç”Ÿæˆå™¨è¡¨è¾¾å¼åªæ˜¯äº§ç”Ÿä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œéœ€è¦æ—¶å†è¿­ä»£å–å€¼ï¼Œå ç”¨å†…å­˜å°ï¼Œä½†æ˜¯ä¸å¯è¿›è¡Œåˆ—è¡¨çš„æ“ä½œï¼Œè¿­ä»£å®ŒåŽå¯¹è±¡æ¸…ç©ºã€‚ itertoolsitertools.productäº§ç”Ÿå¤šä¸ªåˆ—è¡¨å’Œè¿­ä»£å™¨çš„ç¬›å¡å°”ç§¯ï¼Œå¯ä»¥ç”¨productæ¥æ”¹å†™æ·±åº¦åµŒå¥—çš„åˆ—è¡¨æŽ¨å¯¼æ“ä½œã€‚ 1234&gt;&gt;&gt; x = itertools.product('ABC', range(3))&gt;&gt;&gt;&gt;&gt;&gt; print(list(x))[('A', 0), ('A', 1), ('A', 2), ('B', 0), ('B', 1), ('B', 2), ('C', 0), ('C', 1), ('C', 2)] itertools.accumulateç®€å•æ¥è¯´å°±æ˜¯ç´¯åŠ ã€‚ 1234&gt;&gt;&gt; import itertools&gt;&gt;&gt; x = itertools.accumulate(range(10))&gt;&gt;&gt; print(list(x))[0, 1, 3, 6, 10, 15, 21, 28, 36, 45] itertools.chainè¿žæŽ¥å¤šä¸ªåˆ—è¡¨æˆ–è€…è¿­ä»£å™¨ã€‚ 123&gt;&gt;&gt; x = itertools.chain(range(3), range(4), [3,2,1])&gt;&gt;&gt; print(list(x))[0, 1, 2, 0, 1, 2, 3, 3, 2, 1] itertools.combinationsæ±‚åˆ—è¡¨æˆ–ç”Ÿæˆå™¨ä¸­æŒ‡å®šæ•°ç›®çš„å…ƒç´ ä¸é‡å¤çš„æ‰€æœ‰ç»„åˆ 123&gt;&gt;&gt; x = itertools.combinations(range(4), 3)&gt;&gt;&gt; print(list(x))[(0, 1, 2), (0, 1, 3), (0, 2, 3), (1, 2, 3)] itertools.combinations_with_replacementå…è®¸é‡å¤å…ƒç´ çš„ç»„åˆ 123&gt;&gt;&gt; x = itertools.combinations_with_replacement('ABC', 2)&gt;&gt;&gt; print(list(x))[('A', 'A'), ('A', 'B'), ('A', 'C'), ('B', 'B'), ('B', 'C'), ('C', 'C')] itertools.countå°±æ˜¯ä¸€ä¸ªè®¡æ•°å™¨,å¯ä»¥æŒ‡å®šèµ·å§‹ä½ç½®å’Œæ­¥é•¿ 123&gt;&gt;&gt; x = itertools.count(start=20, step=-1)&gt;&gt;&gt; print(list(itertools.islice(x, 0, 10, 1)))[20, 19, 18, 17, 16, 15, 14, 13, 12, 11] itertools.cycleå¾ªçŽ¯æŒ‡å®šçš„åˆ—è¡¨å’Œè¿­ä»£å™¨ 123&gt;&gt;&gt; x = itertools.cycle('ABC')&gt;&gt;&gt; print(list(itertools.islice(x, 0, 10, 1)))['A', 'B', 'C', 'A', 'B', 'C', 'A', 'B', 'C', 'A'] itertools.dropwhileæŒ‰ç…§çœŸå€¼å‡½æ•°ä¸¢å¼ƒæŽ‰åˆ—è¡¨å’Œè¿­ä»£å™¨å‰é¢çš„å…ƒç´  123&gt;&gt;&gt; x = itertools.dropwhile(lambda e: e &lt; 5, range(10))&gt;&gt;&gt; print(list(x))[5, 6, 7, 8, 9] itertools.takewhileä¸Ždropwhileç›¸åï¼Œä¿ç•™å…ƒç´ ç›´è‡³çœŸå€¼å‡½æ•°å€¼ä¸ºå‡ã€‚ 123&gt;&gt;&gt; x = itertools.takewhile(lambda e: e &lt; 5, range(10))&gt;&gt;&gt; print(list(x))[0, 1, 2, 3, 4] itertools.filterfalseä¿ç•™å¯¹åº”çœŸå€¼ä¸ºFalseçš„å…ƒç´  123&gt;&gt;&gt; x = itertools.filterfalse(lambda e: e &lt; 5, (1, 5, 3, 6, 9, 4))&gt;&gt;&gt; print(list(x))[5, 6, 9] itertools.groupbyæŒ‰ç…§åˆ†ç»„å‡½æ•°çš„å€¼å¯¹å…ƒç´ è¿›è¡Œåˆ†ç»„ 123456&gt;&gt;&gt; x = itertools.groupby(range(10), lambda x: x &lt; 5 or x &gt; 8) &gt;&gt;&gt; for condition, numbers in x: ... print(condition, list(numbers)) True [0, 1, 2, 3, 4] False [5, 6, 7, 8] True [9] itertools.isliceä¸Šæ–‡ä½¿ç”¨è¿‡çš„å‡½æ•°ï¼Œå¯¹è¿­ä»£å™¨è¿›è¡Œåˆ‡ç‰‡ 123&gt;&gt;&gt; x = itertools.islice(range(10), 0, 9, 2)&gt;&gt;&gt; print(list(x))[0, 2, 4, 6, 8] itertools.repeatç®€å•çš„ç”Ÿæˆä¸€ä¸ªæ‹¥æœ‰æŒ‡å®šæ•°ç›®å…ƒç´ çš„è¿­ä»£å™¨ 123&gt;&gt;&gt; x = itertools.repeat(0, 5)&gt;&gt;&gt; print(list(x))[0, 0, 0, 0, 0] itertools.zip_longestç±»ä¼¼äºŽzipï¼Œä¸è¿‡å·²è¾ƒé•¿çš„åˆ—è¡¨å’Œè¿­ä»£å™¨çš„é•¿åº¦ä¸ºå‡† 123456&gt;&gt;&gt; x = itertools.zip_longest(range(3), range(5))&gt;&gt;&gt; y = zip(range(3), range(5))&gt;&gt;&gt; print(list(x))[(0, 0), (1, 1), (2, 2), (None, 3), (None, 4)]&gt;&gt;&gt; print(list(y))[(0, 0), (1, 1), (2, 2)]]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[seqkit ä½¿ç”¨è¯´æ˜Ž]]></title>
    <url>%2F2018%2F09%2F13%2Fseqkit-usage%2F</url>
    <content type="text"><![CDATA[seqkit æ˜¯ Wei Shen ä½¿ç”¨ go è¯­è¨€ç¼–å†™å¤„ç† fa å’Œ fq æ–‡ä»¶çš„ä¸€æŠŠåˆ©å™¨ï¼Œå½“å‰ä»‹ç»ç‰ˆæœ¬ä¸º0.9.1ã€‚è¿™é‡Œä¸è¯¦ç»†ä»‹ç»å„ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå®˜æ–¹ç»™å‡ºçš„æ–‡æ¡£å·²ç»è¶³å¤Ÿã€‚ è½¯ä»¶åœ°å€ï¼šhttps://github.com/shenwei356/seqkit 123456789101112131415161718192021222324252627282930Available Commands: common find common sequences of multiple files by id/name/sequence concat concatenate sequences with same ID from multiple files convert convert FASTQ quality encoding between Sanger, Solexa and Illumina duplicate duplicate sequences N times faidx create FASTA index file and extract subsequence fq2fa convert FASTQ to FASTA fx2tab convert FASTA/Q to tabular format (with length/GC content/GC skew) genautocomplete generate shell autocompletion script grep search sequences by ID/name/sequence/sequence motifs, mismatch allowed head print first N FASTA/Q records help Help about any command locate locate subsequences/motifs, mismatch allowed range print FASTA/Q records in a range (start:end) rename rename duplicated IDs replace replace name/sequence by regular expression restart reset start position for circular genome rmdup remove duplicated sequences by id/name/sequence sample sample sequences by number or proportion seq transform sequences (revserse, complement, extract ID...) shuffle shuffle sequences sliding sliding sequences, circular genome supported sort sort sequences by id/name/sequence/length split split sequences into files by id/seq region/size/parts (mainly for FASTA) split2 split sequences into files by size/parts (FASTA, PE/SE FASTQ) stats simple statistics of FASTA/Q files subseq get subsequences by region/gtf/bed, including flanking sequences tab2fx convert tabular format to FASTA/Q format translate translate DNA/RNA to protein sequence version print version information and check for update seq12345678910$ seqkit seq hairpin.fa.gz #å±•ç¤ºfaæ–‡ä»¶&gt;cel-let-7 MI0000001 Caenorhabditis elegans let-7 stem-loopUACACUGUGGAUCCGGUGAGGUAGUAGGUUGUAUAGUUUGGAAUAUUACCACCGGUGAACUAUGCAAUUUUCUACCUUACCGGAGACAGAACUCUUCGA$ seqkit seq read_1.fq.gz #å±•ç¤ºfqæ–‡ä»¶@HWI-D00523:240:HF3WGBCXX:1:1101:2574:2226 1:N:0:CTGTAGTGAGGAATATTGGTCAATGGGCGCGAGCCTGAACCAGCCAAGTAGCGTGAAGGATGACTGCCCTACGGG+HIHIIIIIHIIHGHHIHHIIIIIIIIIIIIIIIHHIIIIIHHIHIIIIIGIHIIIIHHHHHHGHIHIII 12345678910111213141516171819202122$ seqkit seq hairpin.fa.gz -n #å±•ç¤ºåºåˆ—å…¨åcel-let-7 MI0000001 Caenorhabditis elegans let-7 stem-loopcel-lin-4 MI0000002 Caenorhabditis elegans lin-4 stem-loopcel-mir-1 MI0000003 Caenorhabditis elegans miR-1 stem-loop$ seqkit seq hairpin.fa.gz -n -i #å±•ç¤ºåºåˆ—IDcel-let-7cel-lin-4cel-mir-1$ seqkit seq hairpin.fa.gz -n -i --id-regexp "^[^\s]+\s([^\s]+)\s" #ä½¿ç”¨æ­£åˆ™åŒ¹é…åºåˆ—åMI0000001MI0000002MI0000003$ seqkit seq hairpin.fa.gz -s -w 0 #åªå±•ç¤ºåºåˆ— å¹¶è®¾ç½®æ¯è¡Œç¢±åŸºæ•°ä¸ºé»˜è®¤UACACUGUGGAUCCGGUGAGGUAGUAGGUUGUAUAGUUUGGAAUAUUACCACCGGUGAACUAUGCAAUUUUCUACCUUACCGGAGACAGAACUCUUCGAAUGCUUCCGGCCUGUUCCCUGAGACCUCAAGUGUGAGUGUACUAUUGAUGCUUCACACCUGGGCUCUCCGGGUACCAGGACGGUUUGAGCAGAUAAAGUGACCGUACCGAGCUGCAUACUUCCUUACAUGCCCAUACUAUAUCAUAAAUGGAUAUGGAAUGUAAAGAAGUAUGUAGAACGGGGUGGUAGU 1234567891011121314$ seqkit seq hairpin.fa.gz -m 50 -M 150 #è¿‡æ»¤fqæ–‡ä»¶ï¼Œä½¿åºåˆ—é•¿åº¦åœ¨50-150bpä¹‹é—´ã€‚$ seqkit seq hairpin.fa.gz -r -p #åè½¬å½•åºåˆ—&gt;cel-let-7 MI0000001 Caenorhabditis elegans let-7 stem-loopUCGAAGAGUUCUGUCUCCGGUAAGGUAGAAAAUUGCAUAGUUCACCGGUGGUAAUAUUCCAAACUAUACAACCUACUACCUCACCGGAUCCACAGUGUA$ echo -e "&gt;seq\nACGT-actgc-ACC" | seqkit seq -g -u #åŽ»é™¤åºåˆ—gap å¹¶å¤§å†™ç¢±åŸº&gt;seqACGTACTGCACC$ echo -e "&gt;seq\nUCAUAUGCUUGUCUCAAAGAUUA" | seqkit seq --rna2dna #DNAè½¬RNA,--dna2rnaäº¦å¯&gt;seqTCATATGCTTGTCTCAAAGATTA subseq1234567891011121314151617181920212223242526272829$ zcat hairpin.fa.gz | seqkit subseq -r 1:12 #å±•ç¤ºåºåˆ—å‰12ä¸ªç¢±åŸº$ zcat hairpin.fa.gz | seqkit subseq -r -12:-1 #åŽ12ä¸ª$ cat t.fa&gt;seqactgACTGactgn$ cat t.gtf #æ³¨æ„gtfæ–‡ä»¶æ ¼å¼ï¼Œå¿…é¡»ä»¥\tåˆ†å‰²ã€‚seq test CDS 5 8 . . . gene_id "A"; transcript_id "";seq test CDS 5 8 . - . gene_id "B"; transcript_id "";$ seqkit subseq --gtf t.gtf t.fa #ä½¿ç”¨gtfä½ç½®ä¿¡æ¯ï¼ŒæŒ‘é€‰faåºåˆ—&gt;seq_5:8:. AACTG&gt;seq_5:8:- BCAGT$ seqkit subseq --gtf Homo_sapiens.GRCh38.84.gtf.gz --chr 1 --feature cds hsa.fa &gt; chr1.gtf.cds.fa #æŒ‡å®šæŸ“è‰²ä½“å’Œç‰¹å¾$ seqkit subseq --gtf t.gtf t.fa -u 3 #å¦åŠ 3bpä¸Šæ¸¸åºåˆ—&gt;seq_5:8:._us:3 ActgACTG&gt;seq_5:8:-_us:3 BagtCAGT$ seqkit subseq --gtf t.gtf t.fa -u 3 -f #åªå–ä¸Šæ¸¸3bpåºåˆ—&gt;seq_5:8:._usf:3 Actg&gt;seq_5:8:-_usf:3 Bagt gff3 æ–‡ä»¶ç¬¬ä¹åˆ—æ ¼å¼ä¸ºID=XXXXX; gtf æ–‡ä»¶ç¬¬ä¹åˆ—æ ¼å¼ä¸º gene_id â€œAâ€; transcript_id â€œâ€; stats12345678910111213$ seqkit stats *.f&#123;a,q&#125;.gz #ç»Ÿè®¡åºåˆ—ä¿¡æ¯file format type num_seqs sum_len min_len avg_len max_lenhairpin.fa.gz FASTA RNA 28,645 2,949,871 39 103 2,354mature.fa.gz FASTA RNA 35,828 781,222 15 21.8 34reads_1.fq.gz FASTQ DNA 2,500 567,516 226 227 229reads_2.fq.gz FASTQ DNA 2,500 560,002 223 224 225$ seqkit stats *.f&#123;a,q&#125;.gz -a #åˆ—å‡ºæ‰€æœ‰ç»Ÿè®¡ç»“æžœfile format type num_seqs sum_len min_len avg_len max_len Q1 Q2 Q3 sum_gap N50 Q20(%) Q30(%)hairpin.fa.gz FASTA RNA 28,645 2,949,871 39 103 2,354 76 91 111 0 101 0 0mature.fa.gz FASTA RNA 35,828 781,222 15 21.8 34 21 22 22 0 22 0 0Illimina1.8.fq.gz FASTQ DNA 10,000 1,500,000 150 150 150 150 150 150 0 150 96.16 89.71reads_1.fq.gz FASTQ DNA 2,500 567,516 226 227 229 227 227 227 0 227 91.24 86.62reads_2.fq.gz FASTQ DNA 2,500 560,002 223 224 225 224 224 224 0 224 91.06 87.66 faidx1234567$ seqkit faidx hairpin.fa #å»ºç«‹åºåˆ—ç´¢å¼•&gt;hsa-let-7a-1UGGGAUGAGGUAGUAGGUUGUAUAGUUUUAGGGUCACACCCACCACUGGGAGAUAACUAUACAAUCUACUGUCUUUCCUA&gt;hsa-let-7a-2AGGUUGAGGUAGUAGGUUGUAUAGUUUAGAAUUACAUCAAGGGAGAUAACUGUACAGCCUCCUAGCUUUCCU fq2fa1$ seqkit fq2fa reads_1.fq.gz -o reads1_.fa.gz #fqè½¬fa convert123456789101112131415161718192021$ seqkit head -n 1 tests/Illimina1.8.fq.gz...#AAAFAAJFFFJJJ&lt;JJJJJFFFJFJJJJJFJJAJJJFJJFJFJJJJFAFJ&lt;JA&lt;FFJ7FJJFJJAAJJJJ&lt;JJJJJJJFJJJAJJJJJFJJ77&lt;JJJJ-F7A-FJFFJJJJJJ&lt;FFJ-&lt;7FJJJFJJ)A7)7AA&lt;7--)&lt;-7F-A7FA&lt;$ seqkit convert tests/Illimina1.8.fq.gz | seqkit head -n 1 #é»˜è®¤è½¬æ¢fqæ–‡ä»¶è´¨é‡å€¼åˆ°1.8+[INFO] possible quality encodings: [Illumina-1.8+][INFO] guessed quality encoding: Illumina-1.8+[INFO] converting Illumina-1.8+ -&gt; Sanger[WARN] source and target quality encoding match....#AAAFAAJFFFJJJ&lt;JJJJJFFFJFJJJJJFJJAJJJFJJFJFJJJJFAFJ&lt;JA&lt;FFJ7FJJFJJAAJJJJ&lt;JJJJJJJFJJJAJJJJJFJJ77&lt;JJJJ-F7A-FJFFJJJJJJ&lt;FFJ-&lt;7FJJJFJJ)A7)7AA&lt;7--)&lt;-7F-A7FA&lt;$ seqkit convert tests/Illimina1.8.fq.gz --to Illumina-1.5+ | seqkit head -n 1[INFO] possible quality encodings: [Illumina-1.8+] [INFO] guessed quality encoding: Illumina-1.8+[INFO] converting Illumina-1.8+ -&gt; Illumina-1.5+ #è½¬æ¢ Illumina1.8+ -&gt; Illumina1.5+...B```e``ieeeiii[iiiiieeeieiiiiieii`iiieiieieiiiie`ei[i`[eeiVeiieii``iiii[iiiiiiieiii`iiiiieiiVV[iiiiLeV`Leieeiiiiii[eeiL[VeiiieiiH`VHV``[VLLH[LVeL`Ve`[ grep123456789101112131415$ zcat hairpin.fa.gz | seqkit grep -r -p ^hsa #æ­£åˆ™åŒ¹é…åºåˆ—å&gt;hsa-let-7a-1 MI0000060 Homo sapiens let-7a-1 stem-loopUGGGAUGAGGUAGUAGGUUGUAUAGUUUUAGGGUCACACCCACCACUGGGAGAUAACUAUACAAUCUACUGUCUUUCCUA&gt;hsa-let-7a-2 MI0000061 Homo sapiens let-7a-2 stem-loopAGGUUGAGGUAGUAGGUUGUAUAGUUUAGAAUUACAUCAAGGGAGAUAACUGUACAGCCUCCUAGCUUUCCU$ zcat hairpin.fa.gz | seqkit grep -r -p ^hsa -p ^mmu -v #2ä¸ªæ¡ä»¶å¹¶å–å$ zcat hairpin.fa.gz | seqkit grep -f list &gt; new.fa #å°†éœ€è¦æå–çš„åºåˆ—åæ”¾åœ¨listä¸­$ zcat hairpin.fa.gz | seqkit grep -s -r -i -p ^aggcg #æ­£åˆ™åŒ¹é…åºåˆ—ç¢±åŸºï¼Œ-i å¿½ç•¥å¤§å°å†™$ seqkit grep -s -R 1:30 -i -r -p GCTGG #-R åœ¨å‰30ä¸ªç¢±åŸºä¸­æ­£åˆ™åŒ¹é… rmdup12345678910$ zcat hairpin.fa.gz | seqkit rmdup -s -o clean.fa.gz #åŽ»é™¤é‡å¤çš„åºåˆ—[INFO] 2226 duplicated records removed$ zcat hairpin.fa.gz | seqkit rmdup -s -i -m -o clean.fa.gz -d duplicated.fa.gz -D duplicated.detail.txt #-dè¾“å‡ºé‡å¤åºåˆ—ï¼Œ-Dç»Ÿè®¡é‡å¤åºåˆ—$ cat duplicated.detail.txt # here is not the entire list3 hsa-mir-424, mml-mir-424, ppy-mir-4243 hsa-mir-342, mml-mir-342, ppy-mir-3422 ngi-mir-932, nlo-mir-9322 ssc-mir-9784-1, ssc-mir-9784-2 common123$ seqkit common file*.fa -o common.fasta #é€šè¿‡IDå¯»æ‰¾å…±åŒåºåˆ—$ seqkit common file*.fa -n -o common.fasta #é€šè¿‡å…¨å$ seqkit common file*.fa -s -i -o common.fasta #é€šè¿‡åºåˆ— split1234567891011121314151617181920212223242526272829303132333435363738394041424344$ seqkit split hairpin.fa.gz -s 10000 #æŒ‰åºåˆ—æ•°åˆ†å‰²æ–‡ä»¶[INFO] split into 10000 seqs per file[INFO] write 10000 sequences to file: hairpin.fa.part_001.gz[INFO] write 10000 sequences to file: hairpin.fa.part_002.gz[INFO] write 8645 sequences to file: hairpin.fa.part_003.gz $ seqkit split hairpin.fa.gz -p 4 #æŒ‰æ–‡ä»¶ä¸ªæ•°åˆ†å‰²æ–‡ä»¶[INFO] split into 4 parts[INFO] read sequences ...[INFO] read 28645 sequences[INFO] write 7162 sequences to file: hairpin.fa.part_001.gz[INFO] write 7162 sequences to file: hairpin.fa.part_002.gz[INFO] write 7162 sequences to file: hairpin.fa.part_003.gz[INFO] write 7159 sequences to file: hairpin.fa.part_004.gz$ seqkit split hairpin.fa.gz -p 4 -2 #-2å‡å°‘å†…å­˜ä½¿ç”¨[INFO] split into 4 parts[INFO] read and write sequences to tempory file: hairpin.fa.gz.fa ...[INFO] create and read FASTA index ...[INFO] read sequence IDs from FASTA index ...[INFO] 28645 sequences loaded[INFO] write 7162 sequences to file: hairpin.part_001.fa.gz[INFO] write 7162 sequences to file: hairpin.part_002.fa.gz[INFO] write 7162 sequences to file: hairpin.part_003.fa.gz[INFO] write 7159 sequences to file: hairpin.part_004.fa.gz$ seqkit split hairpin.fa.gz -i --id-regexp "^([\w]+)\-" -2 #æŒ‰ID[INFO] split by ID. idRegexp: ^([\w]+)\-[INFO] read and write sequences to tempory file: hairpin.fa.gz.fa ...[INFO] create and read FASTA index ...[INFO] create FASTA index for hairpin.fa.gz.fa[INFO] read sequence IDs from FASTA index ...[INFO] 28645 sequences loaded[INFO] write 48 sequences to file: hairpin.id_cca.fa.gz[INFO] write 3 sequences to file: hairpin.id_hci.fa.gz$ seqkit split hairpin.fa.gz -r 1:3 -2 #æŒ‰å‰3ä¸ªç¢±åŸº[INFO] split by region: 1:3[INFO] read and write sequences to tempory file: hairpin.fa.gz.fa ...[INFO] read sequence IDs and sequence region from FASTA file ...[INFO] create and read FASTA index ...[INFO] write 463 sequences to file: hairpin.region_1:3_AUG.fa.gz[INFO] write 349 sequences to file: hairpin.region_1:3_ACU.fa.gz[INFO] write 311 sequences to file: hairpin.region_1:3_CGG.fa.gz range1$ cat hairpin.fa | seqkit range -r 101:150 #è¾“å‡ºèŒƒå›´å†…çš„åºåˆ—ï¼ˆ1:12 å¦‚åŒ head -n 12ï¼‰ sort123456789101112131415161718192021222324$ echo -e "&gt;seq1\nACGTNcccc\n&gt;SEQ2\nacgtnAAAA" | seqkit sort --quiet #æŒ‰IDæŽ’åºï¼Œ--quietä¸è¾“å‡ºæç¤ºä¿¡æ¯&gt;SEQ2acgtnAAAA&gt;seq1ACGTNcccc$ echo -e "&gt;seq1\nACGTNcccc\n&gt;SEQ2\nacgtnAAAA" | seqkit sort --quiet -i #ä¸åŒºåˆ†å¤§å°å†™&gt;seq1ACGTNcccc&gt;SEQ2acgtnAAAA$ echo -e "&gt;seq1\nACGTNcccc\n&gt;SEQ2\nacgtnAAAA" | seqkit sort --quiet -i -r #ä¸åŒºåˆ†å¤§å°å†™ï¼Œåè½¬ç»“æžœ&gt;SEQ2acgtnAAAA&gt;seq1ACGTNcccc$ echo -e "&gt;seq1\nACGTNcccc\n&gt;SEQ2\nacgtnAAAAnnn\n&gt;seq3\nacgt" | seqkit sort --quiet -l #æŒ‰åºåˆ—é•¿åº¦&gt;seq3acgt&gt;seq1ACGTNcccc&gt;SEQ2acgtnAAAAnnn translate12345678910111213141516171819$ seqkit translate tests/mouse-p53-cds.fna #å°†DNA/RNA ç¿»è¯‘ä¸ºè›‹ç™½åºåˆ—&gt;lcl|AB021961.1_cds_BAA82344.1_1 [gene=p53] [protein=P53] [protein_id=BAA82344.1] [location=101..1273] [gbkey=CDS]MTAMEESQSDISLELPLSQETFSGLWKLLPPEDILPSPHCMDDLLLPQDVEEFFEGPSEALRVSGAPAAQDPVTETPGPVAPAPATPWPLSSFVPSQKTYQGNYGFHLGFLQSGTAKSVMCTYSPPLNKLFCQLAKTCPVQLWVSATPPAGSRVRAMAIYKKSQHMTEVVRRCPHHERCSDGDGLAPPQHRIRVEGNLYPEYLEDRQTFRHSVVVPYEPPEAGSEYTTIHYKYMCNSSCMGGMNRRPILTIITLEDSSGNLLGRDSFEVRVCACPGRDRRTEEENFRKKEVLCPELPPGSAKRALPTCTSASPPQKKKPLDGEYFTLKIRGRKRFEMFRELNEALELKDAHATEESGDSRAHSSYLKTKKGQSTSRHKKTMVKKVGPDSD*$ seqkit translate tests/mouse-p53-cds.fna --trim #åŽ»æŽ‰ */Xï¼ˆç»ˆæ­¢å¯†ç å­ï¼‰&gt;lcl|AB021961.1_cds_BAA82344.1_1 [gene=p53] [protein=P53] [protein_id=BAA82344.1] [location=101..1273] [gbkey=CDS]MTAMEESQSDISLELPLSQETFSGLWKLLPPEDILPSPHCMDDLLLPQDVEEFFEGPSEALRVSGAPAAQDPVTETPGPVAPAPATPWPLSSFVPSQKTYQGNYGFHLGFLQSGTAKSVMCTYSPPLNKLFCQLAKTCPVQLWVSATPPAGSRVRAMAIYKKSQHMTEVVRRCPHHERCSDGDGLAPPQHRIRVEGNLYPEYLEDRQTFRHSVVVPYEPPEAGSEYTTIHYKYMCNSSCMGGMNRRPILTIITLEDSSGNLLGRDSFEVRVCACPGRDRRTEEENFRKKEVLCPELPPGSAKRALPTCTSASPPQKKKPLDGEYFTLKIRGRKRFEMFRELNEALELKDAHATEESGDSRAHSSYLKTKKGQSTSRHKKTMVKKVGPDSD]]></content>
      <categories>
        <category>bioinfo</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pythonæ ‡å‡†åº“å­¦ä¹ ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F09%2F11%2Fpython-standard-library-1%2F</url>
    <content type="text"><![CDATA[collectionsè¯¥æ¨¡å—å®žçŽ°ä¸“é—¨çš„å®¹å™¨æ•°æ®ç±»åž‹ï¼Œæä¾›Pythoné€šç”¨å†…ç½®å®¹å™¨ï¼ˆdictï¼Œsetï¼Œlistï¼Œtupleï¼‰çš„æ›¿ä»£æ–¹æ¡ˆã€‚ nametuple() å·¥åŽ‚å‡½æ•°ç”¨äºŽåˆ›å»ºå¸¦æœ‰å‘½åå­—æ®µçš„å…ƒç»„å­ç±» deque() åˆ—è¡¨å¼å®¹å™¨ï¼Œåœ¨ä¸¤ç«¯æœ‰å¿«é€Ÿé™„åŠ å’Œå¼¹å‡º ChainMap() ç±»ä¼¼äºŽç±»çš„ç±»ï¼Œç”¨äºŽåˆ›å»ºå¤šä¸ªæ˜ å°„çš„å•ä¸ªè§†å›¾ Counter () dictå­ç±»ç”¨äºŽè®¡ç®—hashableå¯¹è±¡ OrderedDict () dictå­ç±»ï¼Œè®°ä½å·²æ·»åŠ çš„æ¡ç›®çš„é¡ºåº defaultdict () dictå­ç±»è°ƒç”¨ä¸€ä¸ªå·¥åŽ‚å‡½æ•°æ—¶æä¾›ç¼ºå¤±å€¼ UserDict () åŒ…è£…å­—å…¸å¯¹è±¡ï¼Œæ›´å®¹æ˜“dictå­ç±»åŒ– UserList () åŒ…è£…åˆ—è¡¨å¯¹è±¡ä»¥æ–¹ä¾¿åˆ—è¡¨å­ç±»åŒ– UserString() åŒ…è£…å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ›´å®¹æ˜“å­—ç¬¦ä¸²å­ç±»åŒ– ChainMapChainMapç”¨æ¥å°†å¤šä¸ªdict(å­—å…¸)ç»„æˆä¸€ä¸ªlist(åªæ˜¯æ¯”å–»)ï¼Œå¯ä»¥ç†è§£æˆåˆå¹¶å¤šä¸ªå­—å…¸ï¼Œä½†å’Œupdateä¸åŒï¼Œè€Œä¸”æ•ˆçŽ‡æ›´é«˜ã€‚ ChainMapç”¨æ¥å°†å¤šä¸ªdictç»„æˆä¸€ä¸ªlistä¹‹åŽï¼Œå¤šä¸ªdictä¹‹é—´çš„é”®ä¸å†²çªã€‚å½“å¤šä¸ªdictæœ‰é‡å¤é”®æ—¶ï¼Œä½¿ç”¨getæ–¹æ³•ï¼šå¦‚chainMap.get(&#39;name&#39;)å°†ä¼šè¿”å›žç¬¬ä¸€ä¸ªdict[â€˜nameâ€™]ã€‚ 123456789101112131415161718192021222324252627282930313233343536# æ–°å»ºChainMapåŠå®ƒçš„ç»“æž„In[2]: from collections import ChainMapIn[3]: m1 = &#123;'color': 'red', 'user': 'guest'&#125;In[4]: m2 = &#123;'name': 'drfish', 'age': '18'&#125;In[5]: chainMap = ChainMap(m1, m2)In[6]: print(chainMap.items())ItemsView(ChainMap(&#123;'color': 'red', 'user': 'guest'&#125;, &#123;'name': 'drfish', 'age': '18'&#125;))# èŽ·å–ChainMapä¸­çš„å…ƒç´ In[7]: print(chainMap.get('name'))drfishIn[8]: print(chainMap.get('not'))None# æ–°å¢žmapIn[9]: m3 = &#123;'name': 'boy'&#125;In[10]: chainMap = chainMap.new_child(m3)In[11]: print(chainMap.items())ItemsView(ChainMap(&#123;'name': 'boy'&#125;, &#123;'color': 'red', 'user': 'guest'&#125;, &#123;'name': 'drfish', 'age': '18'&#125;))In[12]: print(chainMap.get('name'))'boy'#ä¸€æ¬¡éåŽ†å¤šä¸ªå­—å…¸In[13]: for i in chainMap.maps: print("----------------") for mykey in i.keys(): print(mykey,i[mykey]) ----------------name boy----------------color reduser guest----------------name drfishage 18 CounterCounteræ˜¯ä¸€ä¸ªç®€å•çš„è®¡æ•°å™¨ï¼Œä½¿ç”¨èµ·æ¥éžå¸¸æ–¹ä¾¿ã€‚ 123456789101112131415161718192021&gt;&gt;&gt; from collections import Counter&gt;&gt;&gt; c = Counter(a=4, b=2, c=0, d=-2) #ä¸å¤§äºŽ0çš„å…¨éƒ¨å¿½ç•¥&gt;&gt;&gt; sorted(c.elements())['a', 'a', 'a', 'a', 'b', 'b']&gt;&gt;&gt; Counter('abracadabra').most_common(3) #è¿”å›žå‡ºçŽ°æ¬¡æ•°æœ€å¤šçš„å­—ç¬¦[('a', 5), ('r', 2), ('b', 2)]&gt;&gt;&gt; cnt = Counter() # ç»Ÿè®¡åˆ—è¡¨ä¸­å…ƒç´ å‡ºçŽ°çš„ä¸ªæ•°&gt;&gt;&gt; for word in ['red', 'blue', 'red', 'green', 'blue', 'blue']:... cnt[word] += 1...&gt;&gt;&gt; cntCounter(&#123;'blue': 3, 'red': 2, 'green': 1&#125;) &gt;&gt;&gt; cnt = Counter() # ç»Ÿè®¡å­—ç¬¦ä¸²ä¸­å…ƒç´ å‡ºçŽ°çš„ä¸ªæ•°&gt;&gt;&gt; for ch in 'hello':... cnt[ch] = cnt[ch] + 1...&gt;&gt;&gt; cntCounter(&#123;'l': 2, 'o': 1, 'h': 1, 'e': 1&#125;) dequedequeå°±æ˜¯ä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ï¼Œä¸Žlistéžå¸¸ç›¸ä¼¼ï¼Œä¸è¿‡å¯ä»¥åŒæ—¶åœ¨listçš„å·¦è¾¹å¢žåˆ å…ƒç´ ï¼Œæ”¯æŒçº¿ç¨‹å®‰å…¨ ï¼Œä»Žé˜Ÿåˆ—ä¸¤ç«¯æ·»åŠ æˆ–å¼¹å‡ºå…ƒç´ çš„å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼Œè€Œä»Žåˆ—è¡¨çš„å¤´éƒ¨æ’å…¥æˆ–ç§»é™¤å…ƒç´ æ—¶ï¼Œåˆ—è¡¨çš„å¤æ‚åº¦ä¸ºO(N)ã€‚ dequeå’Œlistä»Žä¸­éƒ¨å¤„ç†æ•°æ®å¤æ‚åº¦éƒ½ä¸ºä¸ºO(N)ã€‚ 123456789101112In[72]: dq = deque('abc')In[73]: dqOut[73]: deque(['a', 'b', 'c'])In[74]: dq.append('A')In[75]: dq.appendleft('Z')In[76]: dqOut[76]: deque(['Z', 'a', 'b', 'd', 'A'])In[77]: dq.popleft()Out[77]: 'Z'In[78]: dq.extendleft("hello")In[79]: dqOut[79]: deque(['o', 'l', 'l', 'e', 'h', 'a', 'b', 'c', 'A']) defaultdictä½¿ç”¨ list ä½œä¸º default_factoryï¼Œå¾ˆå®¹æ˜“å°†é”®å€¼å¯¹çš„åºåˆ—åˆ†ç»„åˆ°åˆ—è¡¨çš„å­—å…¸,ç±»ä¼¼setdefault å½“ç¬¬ä¸€æ¬¡é‡åˆ°æ¯ä¸ªé”®æ—¶ï¼Œå®ƒä¸åœ¨æ˜ å°„ä¸­ï¼›å› æ­¤ä½¿ç”¨è¿”å›žç©º list çš„ default_factory å‡½æ•°è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ¡ç›®ã€‚ç„¶åŽï¼Œlist.append() æ“ä½œå°†å€¼é™„åŠ åˆ°æ–°åˆ—è¡¨ã€‚å½“å†æ¬¡é‡åˆ°é”®æ—¶ï¼ŒæŸ¥æ‰¾ç»§ç»­æ­£å¸¸ï¼ˆè¿”å›žè¯¥é”®çš„åˆ—è¡¨ï¼‰ï¼Œlist.append() æ“ä½œå°†å¦ä¸€ä¸ªå€¼æ·»åŠ åˆ°åˆ—è¡¨ã€‚è¿™ç§æŠ€æœ¯æ¯”ä½¿ç”¨ dict.setdefault() çš„ç­‰æ•ˆæŠ€æœ¯æ›´ç®€å•å’Œæ›´å¿« 12345678&gt;&gt;&gt; from collections import defaultdict&gt;&gt;&gt; s = [('yellow', 1), ('blue', 2), ('yellow', 3), ('blue', 4), ('red', 1)]&gt;&gt;&gt; d = defaultdict(list)&gt;&gt;&gt; for k, v in s:... d[k].append(v)...&gt;&gt;&gt; sorted(d.items())[('blue', [2, 4]), ('red', [1]), ('yellow', [1, 3])] 1234567&gt;&gt;&gt; d = &#123;&#125;&gt;&gt;&gt; s = [('yellow', 1), ('blue', 2), ('yellow', 3), ('blue', 4), ('red', 1)]&gt;&gt;&gt; for k, v in s:... d.setdefault(k,[]).append(v)...&gt;&gt;&gt; sorted(d.items())[('blue', [2, 4]), ('red', [1]), ('yellow', [1, 3])] å°† default_factory è®¾ç½®ä¸ºint ä½¿ defaultdict å¯ç”¨äºŽè®¡æ•°,å½“é¦–æ¬¡é‡åˆ°å­—æ¯æ—¶ï¼Œæ˜ å°„ä¸­ç¼ºå°‘å­—æ¯ï¼Œå› æ­¤ default_factory å‡½æ•°è°ƒç”¨ int() ä»¥æä¾›é»˜è®¤è®¡æ•°ä¸ºé›¶ã€‚å¢žé‡æ“ä½œç„¶åŽå»ºç«‹æ¯ä¸ªå­—æ¯çš„è®¡æ•°ã€‚ 1234567&gt;&gt;&gt; s = 'mississippi'&gt;&gt;&gt; d = defaultdict(int)&gt;&gt;&gt; for k in s:... d[k] += 1...&gt;&gt;&gt; sorted(d.items())[('i', 4), ('m', 1), ('p', 2), ('s', 4)] å°† default_factory è®¾ç½®ä¸º setä½¿å¾— defaultdict å¯ç”¨äºŽæž„å»ºé›†åˆçš„å­—å…¸ 1234567&gt;&gt;&gt; s = [('red', 1), ('blue', 2), ('red', 3), ('blue', 4), ('red', 1), ('blue', 4)]&gt;&gt;&gt; d = defaultdict(set)&gt;&gt;&gt; for k, v in s:... d[k].add(v)...&gt;&gt;&gt; sorted(d.items())[('blue', &#123;2, 4&#125;), ('red', &#123;1, 3&#125;)] OrderedDictæœ‰åºå­—å…¸ä¸Žå¸¸è§„å­—å…¸ç±»ä¼¼ï¼Œä½†å®ƒä»¬è®°ä½é¡¹ç›®æ’å…¥çš„é¡ºåºã€‚åœ¨å¯¹æœ‰åºå­—å…¸è¿›è¡Œè¿­ä»£æ—¶ï¼Œé¡¹ç›®æŒ‰å®ƒä»¬çš„é”®é¦–æ¬¡æ·»åŠ çš„é¡ºåºè¿”å›žã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[python-underscore]]></title>
    <url>%2F2018%2F09%2F10%2Fpython-underscore%2F</url>
    <content type="text"><![CDATA[_nameä»¥å•ä¸‹åˆ’çº¿å¼€å¤´ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªä¿æŠ¤æˆå‘˜ï¼Œåªæœ‰ç±»å¯¹è±¡å’Œå­ç±»å¯¹è±¡è‡ªå·±èƒ½è®¿é—®åˆ°è¿™äº›å˜é‡ã€‚ä»¥å•ä¸‹åˆ’çº¿å¼€å¤´çš„å˜é‡å’Œå‡½æ•°è¢«é»˜è®¤å½“ä½œæ˜¯å†…éƒ¨å‡½æ•°ï¼Œä½¿ç”¨from module improt *æ—¶ä¸ä¼šè¢«èŽ·å–ï¼Œä½†æ˜¯ä½¿ç”¨import moduleå¯ä»¥èŽ·å– name_ä»¥å•ä¸‹åˆ’çº¿ç»“å°¾ä»…ä»…æ˜¯ä¸ºäº†åŒºåˆ«è¯¥åç§°ä¸Žå…³é”®è¯ __nameåŒä¸‹åˆ’çº¿å¼€å¤´ï¼Œè¡¨ç¤ºä¸ºç§æœ‰æˆå‘˜ï¼Œåªå…è®¸ç±»æœ¬èº«è®¿é—®ï¼Œå­ç±»ä¹Ÿä¸è¡Œã€‚åœ¨æ–‡æœ¬ä¸Šè¢«æ›¿æ¢ä¸º_class__method nameåŒä¸‹åˆ’çº¿å¼€å¤´ï¼ŒåŒä¸‹åˆ’çº¿ç»“å°¾ã€‚ä¸€ç§çº¦å®šï¼ŒPythonå†…éƒ¨çš„åå­—ï¼Œç”¨æ¥åŒºåˆ«å…¶ä»–ç”¨æˆ·è‡ªå®šä¹‰çš„å‘½å,ä»¥é˜²å†²çªã€‚æ˜¯ä¸€äº› Python çš„â€œé­”æœ¯â€å¯¹è±¡ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šæˆå‘˜ï¼Œä¾‹å¦‚ï¼šå®šä¹‰ç±»çš„æ—¶å€™ï¼Œè‹¥æ˜¯æ·»åŠ initæ–¹æ³•ï¼Œé‚£ä¹ˆåœ¨åˆ›å»ºç±»çš„å®žä¾‹çš„æ—¶å€™ï¼Œå®žä¾‹ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œä¸€èˆ¬ç”¨æ¥å¯¹å®žä¾‹çš„å±žæ€§è¿›è¡Œåˆä½¿åŒ–ï¼ŒPythonä¸å»ºè®®å°†è‡ªå·±å‘½åçš„æ–¹æ³•å†™ä¸ºè¿™ç§å½¢å¼]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[rubyéƒ¨åˆ†ä»£ç é£Žæ ¼]]></title>
    <url>%2F2018%2F09%2F10%2Fruby-guide-tips%2F</url>
    <content type="text"><![CDATA[æ¯ä¸ªç¼©æŽ’å±‚çº§ä½¿ç”¨ä¸¤ä¸ªç©ºæ ¼ã€‚ä¸è¦ä½¿ç”¨åˆ¶è¡¨ç¬¦. 123456789# å·® - å››ä¸ªç©ºæ ¼def some_method do_somethingend# å¥½def some_method do_somethingend èŒƒå›´çš„å­—é¢é‡è¯­æ³•ä¸­ï¼Œä¸è¦æ·»åŠ ä»»ä½•ç©ºæ ¼ã€‚ 1234567# å·®1 .. 3'a' ... 'z'# å¥½1..3'a'...'z' ä½¿ç”¨ _ è¯­æ³•æ”¹å–„å¤§æ•°çš„æ•°å€¼å­—é¢é‡çš„å¯è¯»æ€§ã€‚ 12345# å·® - æœ‰å‡ ä¸ªé›¶ï¼Ÿnum = 1000000# å¥½ - æ–¹ä¾¿äººè„‘ç†è§£num = 1_000_000 ä½¿ç”¨ def å®šä¹‰æ–¹æ³•æ—¶ï¼Œå¦‚æžœæœ‰å‚æ•°åˆ™ä½¿ç”¨æ‹¬å·ï¼Œå¦‚æžœæ— å‚æ•°åˆ™çœç•¥æ‹¬å·ã€‚ 12345678910111213141516171819# å·®def some_method() # çœç•¥ä¸»ä½“end# å¥½def some_method # çœç•¥ä¸»ä½“end# å·®def some_method_with_parameters param1, param2 # çœç•¥ä¸»ä½“end# å¥½def some_method_with_parameters(param1, param2) # çœç•¥ä¸»ä½“end é™¤éžå¿…è¦ï¼Œå¦åˆ™é¿å…åœ¨å¹¶è¡Œèµ‹å€¼æ—¶ä½¿ç”¨å•å­—ç¬¦çš„ _ å˜é‡ã€‚ä¼˜å…ˆè€ƒè™‘å‰ç¼€å½¢å¼çš„ä¸‹åˆ’çº¿å˜é‡ï¼Œè€Œä¸æ˜¯ç›´æŽ¥ä½¿ç”¨ _ï¼Œå› ä¸ºå‰è€…å¯ä»¥æä¾›ä¸€å®šçš„è¯­ä¹‰ä¿¡æ¯ã€‚ä½†å½“èµ‹å€¼è¯­å¥å·¦ä¾§å‡ºçŽ°å¸¦ * æ“ä½œç¬¦çš„å˜é‡æ—¶ï¼Œä½¿ç”¨ _ ä¹Ÿæ˜¯å¯ä»¥æŽ¥å—çš„ã€‚ 123456789101112131415foo = 'one,two,three,four,five'# å·® _å¯æœ‰å¯æ— ï¼Œä¸”æ— ä»»ä½•æœ‰ç”¨ä¿¡æ¯first, second, _ = foo.split(',')first, _, _ = foo.split(',')first, *_ = foo.split(',')# å¥½ _å¯æœ‰å¯æ— ï¼Œä½†æä¾›äº†é¢å¤–ä¿¡æ¯first, _second = foo.split(',')first, _second, = foo.split(',')first, *_ending = foo.split(',')# å¥½ _å ä½ç¬¦ï¼Œ_ æ‹…å½“æœ€åŽä¸€ä¸ªå…ƒç´ *beginning, _ = foo.split(',')*beginning, something, _ = foo.split(',') æ°¸è¿œä¸è¦ä½¿ç”¨ forï¼Œ é™¤éžä½ å¾ˆæ¸…æ¥šä¸ºä»€ä¹ˆã€‚å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥ä½¿ç”¨è¿­ä»£å™¨ã€‚for æ˜¯ç”± each å®žçŽ°çš„ï¼Œæ‰€ä»¥ä½ ç»•å¼¯äº†ã€‚å¦å¤–ï¼Œfor æ²¡æœ‰å¼•å…¥ä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸ (each æœ‰ï¼‰ï¼Œå› æ­¤åœ¨å®ƒå†…éƒ¨å®šä¹‰çš„å˜é‡åœ¨å¤–éƒ¨ä»æ˜¯å¯è§çš„ã€‚ 123456789101112131415arr = [1, 2, 3]# å·®for elem in arr do puts elemend# æ³¨æ„ï¼Œelem å¯åœ¨ for å¾ªçŽ¯å¤–éƒ¨è¢«è®¿é—®elem # =&gt; 3# å¥½arr.each &#123; |elem| puts elem &#125;# æ³¨æ„ï¼Œelem ä¸å¯åœ¨ each å—å¤–éƒ¨è¢«è®¿é—®elem # =&gt; NameError: undefined local variable or method `elem' å€¾å‘ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦ï¼ˆ?:ï¼‰è€Œä¸æ˜¯ if/then/else/end ç»“æž„ã€‚å‰è€…æ›´ä¸ºå¸¸è§ä¸”ç®€ç»ƒã€‚ 12345# å·®result = if some_condition then something else something_else end# å¥½result = some_condition ? something : something_else æ°¸è¿œä¸è¦ä½¿ç”¨ if x; ...ã€‚ä½¿ç”¨ä¸‰å…ƒæ“ä½œç¬¦æ¥æ›¿ä»£ã€‚ 12345# å·®result = if some_condition; something else something_else end# å¥½result = some_condition ? something : something_else ä½¿ç”¨ ! è€Œä¸æ˜¯ notã€‚ 12345# å·® - å› ä¸ºæ“ä½œç¬¦çš„ä¼˜å…ˆçº§ï¼Œè¿™é‡Œå¿…é¡»ä½¿ç”¨æ‹¬å·x = (not something)# å¥½x = !something æ°¸è¿œä¸è¦ä½¿ç”¨ and ä¸Ž or å…³é”®å­—ã€‚ä½¿ç”¨ &amp;&amp; ä¸Ž || æ¥æ›¿ä»£ã€‚ 12345678910111213141516# å·®# å¸ƒå°”è¡¨è¾¾å¼ok = got_needed_arguments and arguments_are_valid# æµç¨‹æŽ§åˆ¶document.save or fail(RuntimeError, "Failed to save document!")# å¥½# å¸ƒå°”è¡¨è¾¾å¼ok = got_needed_arguments &amp;&amp; arguments_are_valid# æµç¨‹æŽ§åˆ¶fail(RuntimeError, "Failed to save document!") unless document.save# æµç¨‹æŽ§åˆ¶document.save || fail(RuntimeError, "Failed to save document!") å¯¹äºŽå•è¡Œä¸»ä½“ï¼Œå€¾å‘ä½¿ç”¨ {...} è€Œä¸æ˜¯ do...endã€‚å¯¹äºŽå¤šè¡Œä¸»ä½“ï¼Œé¿å…ä½¿ç”¨ {...}ã€‚å¯¹äºŽâ€œæµç¨‹æŽ§åˆ¶â€æˆ–â€œæ–¹æ³•å®šä¹‰â€ï¼ˆæ¯”å¦‚ Rakefileã€å…¶ä»– DSL æž„æˆç‰‡æ®µï¼‰ï¼Œæ€»æ˜¯ä½¿ç”¨ do...endã€‚é¿å…åœ¨é“¾å¼æ–¹æ³•è°ƒç”¨ä¸­ä½¿ç”¨ do...end. 1234567891011121314151617names = %w[Bozhidar Steve Sarah]# å·®names.each do |name| puts nameend# å¥½names.each &#123; |name| puts name &#125;# å·®names.select do |name| name.start_with?('S')end.map &#123; |name| name.upcase &#125;# å¥½names.select &#123; |name| name.start_with?('S') &#125;.map(&amp;:upcase) æŸäº›äººå¯èƒ½ä¼šäº‰è®ºåœ¨å¤šè¡Œé“¾å¼æ–¹æ³•è°ƒç”¨æ—¶ä½¿ç”¨ {...} çœ‹èµ·æ¥è¿˜å¯ä»¥ã€‚ä½†ä»–ä»¬åº”è¯¥æ‰ªå¿ƒè‡ªé—®â€”â€”è¿™æ ·çš„ä»£ç çœŸçš„å¯è¯»å—ï¼Ÿéš¾é“ä¸èƒ½æŠŠåŒºå—å†…å®¹æå–å‡ºæ¥æ”¾åˆ°å°å·§çš„æ–¹æ³•é‡Œå—ï¼Ÿ #æˆ‘è§‰å¾—å†™æˆä»£ç å—æ˜“è¯»ã€‚ é¿å…åœ¨ä¸éœ€è¦æµç¨‹æŽ§åˆ¶çš„æƒ…å†µä¸‹ä½¿ç”¨ returnã€‚ 123456789# å·®def some_method(some_arr) return some_arr.sizeend# å¥½def some_method(some_arr) some_arr.sizeend å—¯ã€‚ã€‚ã€‚å¾ˆé­”å¹»ã€‚ é€šè¿‡ä½¿ç”¨èŒƒå›´æˆ– Comparable#between? æ¥æ›¿ä»£å¤æ‚çš„æ¯”è¾ƒé€»è¾‘ã€‚ 12345678# å·®do_something if x &gt;= 1000 &amp;&amp; x &lt;= 2000# å¥½do_something if (1000..2000).include?(x)# å¥½do_something if x.between?(1000, 2000) å½“åˆ›å»ºä¸€ç»„å…ƒç´ ä¸ºå•è¯ï¼ˆæ²¡æœ‰ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼‰çš„æ•°ç»„æ—¶ï¼Œå€¾å‘ä½¿ç”¨ %w è€Œä¸æ˜¯ []ã€‚æ­¤è§„åˆ™åªé€‚ç”¨äºŽæ•°ç»„å…ƒç´ æœ‰ä¸¤ä¸ªæˆ–ä»¥ä¸Šçš„æ—¶å€™ã€‚ 12345# å·®STATES = ['draft', 'open', 'closed']# å¥½STATES = %w[draft open closed] å€¾å‘ä½¿ç”¨ç¬¦å·è€Œä¸æ˜¯å­—ç¬¦ä¸²ä½œä¸ºå“ˆå¸Œé”®ã€‚ 12345# å·®hash = &#123; 'one' =&gt; 1, 'two' =&gt; 2, 'three' =&gt; 3 &#125;# å¥½hash = &#123; 'one': 1, 'two': 2, 'three': 3 &#125; å€¾å‘ä½¿ç”¨ Hash#each_key è€Œä¸æ˜¯ Hash#keys.eachï¼Œä½¿ç”¨ Hash#each_value è€Œä¸æ˜¯ Hash#values.eachã€‚ 123456789# å·®hash.keys.each &#123; |k| p k &#125;hash.values.each &#123; |v| p v &#125;hash.each &#123; |k, _v| p k &#125;hash.each &#123; |_k, v| p v &#125;# å¥½hash.each_key &#123; |k| p k &#125;hash.each_value &#123; |v| p v &#125;]]></content>
      <categories>
        <category>ruby</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pandaså­¦ä¹ ï¼ˆäºŒï¼‰]]></title>
    <url>%2F2018%2F09%2F06%2Fpandas-2%2F</url>
    <content type="text"><![CDATA[ç®—æœ¯è¿ç®—å’Œæ•°æ®å¯¹é½pandasæœ€é‡è¦çš„ä¸€ä¸ªåŠŸèƒ½æ˜¯ï¼Œå®ƒå¯ä»¥å¯¹ä¸åŒç´¢å¼•çš„å¯¹è±¡è¿›è¡Œç®—æœ¯è¿ç®—ã€‚åœ¨å°†å¯¹è±¡ç›¸åŠ æ—¶ï¼Œå¦‚æžœå­˜åœ¨ä¸åŒçš„ç´¢å¼•å¯¹ï¼Œåˆ™ç»“æžœçš„ç´¢å¼•å°±æ˜¯è¯¥ç´¢å¼•å¯¹çš„å¹¶é›†ã€‚å¯¹äºŽæœ‰æ•°æ®åº“ç»éªŒçš„ç”¨æˆ·ï¼Œè¿™å°±åƒåœ¨ç´¢å¼•æ ‡ç­¾ä¸Šè¿›è¡Œè‡ªåŠ¨å¤–è¿žæŽ¥ã€‚çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 123456789101112131415161718192021In [150]: s1 = pd.Series([7.3, -2.5, 3.4, 1.5], index=['a', 'c', 'd', 'e'])In [151]: s2 = pd.Series([-2.1, 3.6, -1.5, 4, 3.1], .....: index=['a', 'c', 'e', 'f', 'g'])In [152]: s1Out[152]: a 7.3c -2.5d 3.4e 1.5dtype: float64In [153]: s2Out[153]: a -2.1c 3.6e -1.5f 4.0g 3.1dtype: float64 å°†å®ƒä»¬ç›¸åŠ å°±ä¼šäº§ç”Ÿï¼š 123456789In [154]: s1 + s2Out[154]: a 5.2c 1.1d NaNe 0.0f NaNg NaNdtype: float64 è‡ªåŠ¨çš„æ•°æ®å¯¹é½æ“ä½œåœ¨ä¸é‡å çš„ç´¢å¼•å¤„å¼•å…¥äº†NAå€¼ã€‚ç¼ºå¤±å€¼ä¼šåœ¨ç®—æœ¯è¿ç®—è¿‡ç¨‹ä¸­ä¼ æ’­ã€‚ å¯¹äºŽDataFrameï¼Œå¯¹é½æ“ä½œä¼šåŒæ—¶å‘ç”Ÿåœ¨è¡Œå’Œåˆ—ä¸Šï¼š 1234567891011121314151617181920In [155]: df1 = pd.DataFrame(np.arange(9.).reshape((3, 3)), columns=list('bcd'), .....: index=['Ohio', 'Texas', 'Colorado'])In [156]: df2 = pd.DataFrame(np.arange(12.).reshape((4, 3)), columns=list('bde'), .....: index=['Utah', 'Ohio', 'Texas', 'Oregon'])In [157]: df1Out[157]: b c dOhio 0.0 1.0 2.0Texas 3.0 4.0 5.0Colorado 6.0 7.0 8.0In [158]: df2Out[158]: b d eUtah 0.0 1.0 2.0Ohio 3.0 4.0 5.0Texas 6.0 7.0 8.0Oregon 9.0 10.0 11.0 æŠŠå®ƒä»¬ç›¸åŠ åŽå°†ä¼šè¿”å›žä¸€ä¸ªæ–°çš„DataFrameï¼Œå…¶ç´¢å¼•å’Œåˆ—ä¸ºåŽŸæ¥é‚£ä¸¤ä¸ªDataFrameçš„å¹¶é›†ï¼š 12345678In [159]: df1 + df2Out[159]: b c d eColorado NaN NaN NaN NaNOhio 3.0 NaN 6.0 NaNOregon NaN NaN NaN NaNTexas 9.0 NaN 12.0 NaNUtah NaN NaN NaN NaN å› ä¸ºâ€™câ€™å’Œâ€™eâ€™åˆ—å‡ä¸åœ¨ä¸¤ä¸ªDataFrameå¯¹è±¡ä¸­ï¼Œåœ¨ç»“æžœä¸­ä»¥ç¼ºçœå€¼å‘ˆçŽ°ã€‚è¡Œä¹Ÿæ˜¯åŒæ ·ã€‚ åœ¨ç®—æœ¯æ–¹æ³•ä¸­å¡«å……å€¼åœ¨å¯¹ä¸åŒç´¢å¼•çš„å¯¹è±¡è¿›è¡Œç®—æœ¯è¿ç®—æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›å½“ä¸€ä¸ªå¯¹è±¡ä¸­æŸä¸ªè½´æ ‡ç­¾åœ¨å¦ä¸€ä¸ªå¯¹è±¡ä¸­æ‰¾ä¸åˆ°æ—¶å¡«å……ä¸€ä¸ªç‰¹æ®Šå€¼ï¼ˆæ¯”å¦‚0ï¼‰ï¼š 12345678910111213141516171819202122In [165]: df1 = pd.DataFrame(np.arange(12.).reshape((3, 4)), .....: columns=list('abcd'))In [166]: df2 = pd.DataFrame(np.arange(20.).reshape((4, 5)), .....: columns=list('abcde'))In [167]: df2.loc[1, 'b'] = np.nanIn [168]: df1Out[168]: a b c d0 0.0 1.0 2.0 3.01 4.0 5.0 6.0 7.02 8.0 9.0 10.0 11.0In [169]: df2Out[169]: a b c d e0 0.0 1.0 2.0 3.0 4.01 5.0 NaN 7.0 8.0 9.02 10.0 11.0 12.0 13.0 14.03 15.0 16.0 17.0 18.0 19.0 å°†å®ƒä»¬ç›¸åŠ æ—¶ï¼Œæ²¡æœ‰é‡å çš„ä½ç½®å°±ä¼šäº§ç”ŸNAå€¼ï¼š 1234567In [170]: df1 + df2Out[170]: a b c d e0 0.0 2.0 4.0 6.0 NaN1 9.0 NaN 13.0 15.0 NaN2 18.0 20.0 22.0 24.0 NaN3 NaN NaN NaN NaN NaN ä½¿ç”¨df1çš„addæ–¹æ³•ï¼Œä¼ å…¥df2ä»¥åŠä¸€ä¸ªfill_valueå‚æ•°ï¼š 1234567In [171]: df1.add(df2, fill_value=0)Out[171]: a b c d e0 0.0 2.0 4.0 6.0 4.01 9.0 5.0 13.0 15.0 9.02 18.0 20.0 22.0 24.0 14.03 15.0 16.0 17.0 18.0 19.0 ä¸Žæ­¤ç±»ä¼¼ï¼Œåœ¨å¯¹Seriesæˆ–DataFrameé‡æ–°ç´¢å¼•æ—¶ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸€ä¸ªå¡«å……å€¼ï¼š 123456In [174]: df1.reindex(columns=df2.columns, fill_value=0)Out[174]: a b c d e0 0.0 1.0 2.0 3.0 01 4.0 5.0 6.0 7.0 02 8.0 9.0 10.0 11.0 0 DataFrameå’ŒSeriesä¹‹é—´çš„è¿ç®—è·Ÿä¸åŒç»´åº¦çš„NumPyæ•°ç»„ä¸€æ ·ï¼ŒDataFrameå’ŒSeriesä¹‹é—´ç®—æœ¯è¿ç®—ä¹Ÿæ˜¯æœ‰æ˜Žç¡®è§„å®šçš„ã€‚å…ˆæ¥çœ‹ä¸€ä¸ªå…·æœ‰å¯å‘æ€§çš„ä¾‹å­ï¼Œè®¡ç®—ä¸€ä¸ªäºŒç»´æ•°ç»„ä¸Žå…¶æŸè¡Œä¹‹é—´çš„å·®ï¼š 12345678910111213141516In [175]: arr = np.arange(12.).reshape((3, 4))In [176]: arrOut[176]: array([[ 0., 1., 2., 3.], [ 4., 5., 6., 7.], [ 8., 9., 10., 11.]])In [177]: arr[0]Out[177]: array([ 0., 1., 2., 3.])In [178]: arr - arr[0]Out[178]: array([[ 0., 0., 0., 0.], [ 4., 4., 4., 4.], [ 8., 8., 8., 8.]]) å½“æˆ‘ä»¬ä»Žarrå‡åŽ»arr[0]ï¼Œæ¯ä¸€è¡Œéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªæ“ä½œã€‚è¿™å°±å«åšå¹¿æ’­ï¼ˆbroadcastingï¼‰ï¼Œé™„å½•Aå°†å¯¹æ­¤è¿›è¡Œè¯¦ç»†è®²è§£ã€‚DataFrameå’ŒSeriesä¹‹é—´çš„è¿ç®—å·®ä¸å¤šä¹Ÿæ˜¯å¦‚æ­¤ï¼š 1234567891011121314151617181920In [179]: frame = pd.DataFrame(np.arange(12.).reshape((4, 3)), .....: columns=list('bde'), .....: index=['Utah', 'Ohio', 'Texas', 'Oregon'])In [180]: series = frame.iloc[0]In [181]: frameOut[181]: b d eUtah 0.0 1.0 2.0Ohio 3.0 4.0 5.0Texas 6.0 7.0 8.0Oregon 9.0 10.0 11.0In [182]: seriesOut[182]: b 0.0d 1.0e 2.0Name: Utah, dtype: float64 é»˜è®¤æƒ…å†µä¸‹ï¼ŒDataFrameå’ŒSeriesä¹‹é—´çš„ç®—æœ¯è¿ç®—ä¼šå°†Seriesçš„ç´¢å¼•åŒ¹é…åˆ°DataFrameçš„åˆ—ï¼Œç„¶åŽæ²¿ç€è¡Œä¸€ç›´å‘ä¸‹å¹¿æ’­ï¼š 1234567In [183]: frame - seriesOut[183]: b d eUtah 0.0 0.0 0.0Ohio 3.0 3.0 3.0Texas 6.0 6.0 6.0Oregon 9.0 9.0 9.0 å¦‚æžœæŸä¸ªç´¢å¼•å€¼åœ¨DataFrameçš„åˆ—æˆ–Seriesçš„ç´¢å¼•ä¸­æ‰¾ä¸åˆ°ï¼Œåˆ™å‚ä¸Žè¿ç®—çš„ä¸¤ä¸ªå¯¹è±¡å°±ä¼šè¢«é‡æ–°ç´¢å¼•ä»¥å½¢æˆå¹¶é›†ï¼š 123456789In [184]: series2 = pd.Series(range(3), index=['b', 'e', 'f'])In [185]: frame + series2Out[185]: b d e fUtah 0.0 NaN 3.0 NaNOhio 3.0 NaN 6.0 NaNTexas 6.0 NaN 9.0 NaNOregon 9.0 NaN 12.0 NaN å¦‚æžœä½ å¸Œæœ›åŒ¹é…è¡Œä¸”åœ¨åˆ—ä¸Šå¹¿æ’­ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ç®—æœ¯è¿ç®—æ–¹æ³•ã€‚ä¾‹å¦‚ï¼š 12345678910111213141516171819202122232425In [186]: series3 = frame['d']In [187]: frameOut[187]: b d eUtah 0.0 1.0 2.0Ohio 3.0 4.0 5.0Texas 6.0 7.0 8.0Oregon 9.0 10.0 11.0In [188]: series3Out[188]: Utah 1.0Ohio 4.0Texas 7.0Oregon 10.0Name: d, dtype: float64In [189]: frame.sub(series3, axis='index')Out[189]: b d eUtah -1.0 0.0 1.0Ohio -1.0 0.0 1.0Texas -1.0 0.0 1.0Oregon -1.0 0.0 1.0 ä¼ å…¥çš„è½´å·å°±æ˜¯å¸Œæœ›åŒ¹é…çš„è½´ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„ç›®çš„æ˜¯åŒ¹é…DataFrameçš„è¡Œç´¢å¼•ï¼ˆaxis=â€™indexâ€™ or axis=0ï¼‰å¹¶è¿›è¡Œå¹¿æ’­ã€‚ å‡½æ•°åº”ç”¨å’Œæ˜ å°„NumPyçš„ufuncsï¼ˆå…ƒç´ çº§æ•°ç»„æ–¹æ³•ï¼‰ä¹Ÿå¯ç”¨äºŽæ“ä½œpandaså¯¹è±¡ï¼š 123456789101112131415161718In [190]: frame = pd.DataFrame(np.random.randn(4, 3), columns=list('bde'), .....: index=['Utah', 'Ohio', 'Texas', 'Oregon'])In [191]: frameOut[191]: b d eUtah -0.204708 0.478943 -0.519439Ohio -0.555730 1.965781 1.393406Texas 0.092908 0.281746 0.769023Oregon 1.246435 1.007189 -1.296221In [192]: np.abs(frame)Out[192]: b d eUtah 0.204708 0.478943 0.519439Ohio 0.555730 1.965781 1.393406Texas 0.092908 0.281746 0.769023Oregon 1.246435 1.007189 1.296221 å¦ä¸€ä¸ªå¸¸è§çš„æ“ä½œæ˜¯ï¼Œå°†å‡½æ•°åº”ç”¨åˆ°ç”±å„åˆ—æˆ–è¡Œæ‰€å½¢æˆçš„ä¸€ç»´æ•°ç»„ä¸Šã€‚DataFrameçš„applyæ–¹æ³•å³å¯å®žçŽ°æ­¤åŠŸèƒ½ï¼š 12345678In [193]: f = lambda x: x.max() - x.min()In [194]: frame.apply(f)Out[194]: b 1.802165d 1.684034e 2.689627dtype: float64 è¿™é‡Œçš„å‡½æ•°fï¼Œè®¡ç®—äº†ä¸€ä¸ªSeriesçš„æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®ï¼Œåœ¨frameçš„æ¯åˆ—éƒ½æ‰§è¡Œäº†ä¸€æ¬¡ã€‚ç»“æžœæ˜¯ä¸€ä¸ªSeriesï¼Œä½¿ç”¨frameçš„åˆ—ä½œä¸ºç´¢å¼•ã€‚ å¦‚æžœä¼ é€’axis=â€™columnsâ€™åˆ°applyï¼Œè¿™ä¸ªå‡½æ•°ä¼šåœ¨æ¯è¡Œæ‰§è¡Œï¼š 1234567In [195]: frame.apply(f, axis='columns')Out[195]:Utah 0.998382Ohio 2.521511Texas 0.676115Oregon 2.542656dtype: float64 è®¸å¤šæœ€ä¸ºå¸¸è§çš„æ•°ç»„ç»Ÿè®¡åŠŸèƒ½éƒ½è¢«å®žçŽ°æˆDataFrameçš„æ–¹æ³•ï¼ˆå¦‚sumå’Œmeanï¼‰ï¼Œå› æ­¤æ— éœ€ä½¿ç”¨applyæ–¹æ³•ã€‚ ä¼ é€’åˆ°applyçš„å‡½æ•°ä¸æ˜¯å¿…é¡»è¿”å›žä¸€ä¸ªæ ‡é‡ï¼Œè¿˜å¯ä»¥è¿”å›žç”±å¤šä¸ªå€¼ç»„æˆçš„Seriesï¼š 12345678In [196]: def f(x): .....: return pd.Series([x.min(), x.max()], index=['min', 'max'])In [197]: frame.apply(f)Out[197]: b d emin -0.555730 0.281746 -1.296221max 1.246435 1.965781 1.393406 æ±‡æ€»å’Œè®¡ç®—æè¿°ç»Ÿè®¡pandaså¯¹è±¡æ‹¥æœ‰ä¸€ç»„å¸¸ç”¨çš„æ•°å­¦å’Œç»Ÿè®¡æ–¹æ³•ã€‚å®ƒä»¬å¤§éƒ¨åˆ†éƒ½å±žäºŽçº¦ç®€å’Œæ±‡æ€»ç»Ÿè®¡ï¼Œç”¨äºŽä»ŽSeriesä¸­æå–å•ä¸ªå€¼ï¼ˆå¦‚sumæˆ–meanï¼‰æˆ–ä»ŽDataFrameçš„è¡Œæˆ–åˆ—ä¸­æå–ä¸€ä¸ªSeriesã€‚è·Ÿå¯¹åº”çš„NumPyæ•°ç»„æ–¹æ³•ç›¸æ¯”ï¼Œå®ƒä»¬éƒ½æ˜¯åŸºäºŽæ²¡æœ‰ç¼ºå¤±æ•°æ®çš„å‡è®¾è€Œæž„å»ºçš„ã€‚çœ‹ä¸€ä¸ªç®€å•çš„DataFrameï¼š 123456789101112In [230]: df = pd.DataFrame([[1.4, np.nan], [7.1, -4.5], .....: [np.nan, np.nan], [0.75, -1.3]], .....: index=['a', 'b', 'c', 'd'], .....: columns=['one', 'two'])In [231]: dfOut[231]: one twoa 1.40 NaNb 7.10 -4.5c NaN NaNd 0.75 -1.3 è°ƒç”¨DataFrameçš„sumæ–¹æ³•å°†ä¼šè¿”å›žä¸€ä¸ªå«æœ‰åˆ—çš„å’Œçš„Seriesï¼š 12345In [232]: df.sum()Out[232]: one 9.25two -5.80dtype: float64 ä¼ å…¥axis=â€™columnsâ€™æˆ–axis=1å°†ä¼šæŒ‰è¡Œè¿›è¡Œæ±‚å’Œè¿ç®—ï¼š 123456In [233]: df.sum(axis=1)Out[233]:a 1.40b 2.60c NaNd -0.55 NAå€¼ä¼šè‡ªåŠ¨è¢«æŽ’é™¤ï¼Œé™¤éžæ•´ä¸ªåˆ‡ç‰‡ï¼ˆè¿™é‡ŒæŒ‡çš„æ˜¯è¡Œæˆ–åˆ—ï¼‰éƒ½æ˜¯NAã€‚é€šè¿‡skipnaé€‰é¡¹å¯ä»¥ç¦ç”¨è¯¥åŠŸèƒ½ï¼š 1234567In [234]: df.mean(axis='columns', skipna=False)Out[234]: a NaNb 1.300c NaNd -0.275dtype: float64]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[pandaså­¦ä¹ ï¼ˆä¸€ï¼‰]]></title>
    <url>%2F2018%2F09%2F05%2Fpandas-1%2F</url>
    <content type="text"><![CDATA[å¯¼å…¥ pandasã€numpyã€matplotlib 12345In [1]: import pandas as pdIn [2]: import numpy as npIn [3]: import matplotlib.pyplot as plt åˆ›é€ å¯¹è±¡Series æ˜¯ä¸€ä¸ªå€¼çš„åºåˆ—ï¼Œå®ƒåªæœ‰ä¸€ä¸ªåˆ—ï¼Œä»¥åŠç´¢å¼•ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå°±ç”¨é»˜è®¤çš„æ•´æ•°ç´¢å¼• 1234567891011In [4]: s = pd.Series([1,3,5,np.nan,6,8])In [5]: sOut[5]: 0 11 32 53 NaN4 65 8dtype: float64 DataFrame æ˜¯æœ‰å¤šä¸ªåˆ—çš„æ•°æ®è¡¨ï¼Œæ¯ä¸ªåˆ—æ‹¥æœ‰ä¸€ä¸ª labelï¼Œå½“ç„¶ï¼ŒDataFrame ä¹Ÿæœ‰ç´¢å¼• 1234567891011121314151617181920In [6]: dates = pd.date_range('20130101', periods=6)In [7]: datesOut[7]: DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'], dtype='datetime64[ns]', freq='D')In [8]: df = pd.DataFrame(np.random.randn(6,4), index=dates, columns=list('ABCD'))#index è¡Œåï¼Œcolumnsï¼Œåˆ—åã€‚éƒ½éœ€è¦æä¾›ä¸€ä¸ªåˆ—è¡¨å¯¹è±¡In [9]: dfOut[9]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-05 -0.424972 0.567020 0.276232 -1.0874012013-01-06 -0.673690 0.113648 -1.478427 0.524988 å¦‚æžœå‚æ•°æ˜¯ä¸€ä¸ª dictï¼Œæ¯ä¸ª dict çš„ value ä¼šè¢«è½¬åŒ–æˆä¸€ä¸ª Series 123456789101112131415In [10]: df2 = pd.DataFrame(&#123; 'A' : 1., ....: 'B' : pd.Timestamp('20130102'), ....: 'C' : pd.Series(1,index=list(range(4)),dtype='float32'), ....: 'D' : np.array([3] * 4,dtype='int32'), ....: 'E' : pd.Categorical(["test","train","test","train"]), ....: 'F' : 'foo' &#125;) ....: In [11]: df2Out[11]: A B C D E F0 1 2013-01-02 1 3 test foo1 1 2013-01-02 1 3 train foo2 1 2013-01-02 1 3 test foo3 1 2013-01-02 1 3 train foo æ¯åˆ—çš„æ ¼å¼ç”¨ dtypes æŸ¥çœ‹ 123456789In [12]: df2.dtypesOut[12]: A float64B datetime64[ns]C float32D int32E categoryF objectdtype: object ä½ å¯ä»¥è®¤ä¸ºï¼ŒDataFrame æ˜¯ç”± Series ç»„æˆçš„ 1234567In [13]: df2.AOut[13]: 0 11 12 13 1Name: A, dtype: float64 æŸ¥çœ‹æ•°æ®ç”¨ head å’Œ tail æŸ¥çœ‹é¡¶ç«¯å’Œåº•ç«¯çš„å‡ åˆ— 123456789101112131415In [14]: df.head()Out[14]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-05 -0.424972 0.567020 0.276232 -1.087401In [15]: df.tail(3)Out[15]: A B C D2013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-05 -0.424972 0.567020 0.276232 -1.0874012013-01-06 -0.673690 0.113648 -1.478427 0.524988 å®žé™…ä¸Šï¼ŒDataFrame å†…éƒ¨ç”¨ numpy æ ¼å¼å­˜å‚¨æ•°æ®ã€‚ä½ ä¹Ÿå¯ä»¥å•ç‹¬æŸ¥çœ‹ index å’Œ columns 1234567891011121314151617In [16]: df.indexOut[16]: DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04', '2013-01-05', '2013-01-06'], dtype='datetime64[ns]', freq='D')In [17]: df.columnsOut[17]: Index(['A', 'B', 'C', 'D'], dtype='object')In [18]: df.valuesOut[18]: array([[ 0.4691, -0.2829, -1.5091, -1.1356], [ 1.2121, -0.1732, 0.1192, -1.0442], [-0.8618, -2.1046, -0.4949, 1.0718], [ 0.7216, -0.7068, -1.0396, 0.2719], [-0.425 , 0.567 , 0.2762, -1.0874], [-0.6737, 0.1136, -1.4784, 0.525 ]]) describe() æ˜¾ç¤ºæ•°æ®çš„æ¦‚è¦ã€‚ 1234567891011In [19]: df.describe()Out[19]: A B C Dcount 6.000000 6.000000 6.000000 6.000000mean 0.073711 -0.431125 -0.687758 -0.233103std 0.843157 0.922818 0.779887 0.973118min -0.861849 -2.104569 -1.509059 -1.13563225% -0.611510 -0.600794 -1.368714 -1.07661050% 0.022070 -0.228039 -0.767252 -0.38618875% 0.658444 0.041933 -0.034326 0.461706max 1.212112 0.567020 0.276232 1.071804 å’Œ numpy ä¸€æ ·ï¼Œå¯ä»¥æ–¹ä¾¿çš„å¾—åˆ°è½¬ç½® 1234567In [20]: df.TOut[20]: 2013-01-01 2013-01-02 2013-01-03 2013-01-04 2013-01-05 2013-01-06A 0.469112 1.212112 -0.861849 0.721555 -0.424972 -0.673690B -0.282863 -0.173215 -2.104569 -0.706771 0.567020 0.113648C -1.509059 0.119209 -0.494929 -1.039575 0.276232 -1.478427D -1.135632 -1.044236 1.071804 0.271860 -1.087401 0.524988 å¯¹ axis æŒ‰ç…§ index æŽ’åºï¼ˆaxis=1 æ˜¯æŒ‡ç¬¬äºŒä¸ªç»´åº¦ï¼Œå³ï¼šåˆ—ï¼Œaxis=0 æ˜¯æŒ‡ç¬¬ä¸€ä¸ªç»´åº¦ï¼Œå³ï¼šè¡Œï¼‰ 123456789In [21]: df.sort_index(axis=1, ascending=False) #ascending=False é»˜è®¤ä¸ºTrueï¼Œå‡åºOut[21]: D C B A2013-01-01 -1.135632 -1.509059 -0.282863 0.4691122013-01-02 -1.044236 0.119209 -0.173215 1.2121122013-01-03 1.071804 -0.494929 -2.104569 -0.8618492013-01-04 0.271860 -1.039575 -0.706771 0.7215552013-01-05 -1.087401 0.276232 0.567020 -0.4249722013-01-06 0.524988 -1.478427 0.113648 -0.673690 æŒ‰å€¼æŽ’åº 123456789In [22]: df.sort_values(by='B') #ä¹Ÿå¯ä»¥æ˜¯by=['A','B']ï¼ŒæŒ‰2åˆ—æŽ’åºOut[22]: A B C D2013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.2718602013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-06 -0.673690 0.113648 -1.478427 0.5249882013-01-05 -0.424972 0.567020 0.276232 -1.087401 é€‰æ‹© æ³¨æ„ï¼Œä»¥ä¸‹è¿™äº›å¯¹äº¤äº’å¼çŽ¯å¢ƒå¾ˆå‹å¥½ï¼Œä½†æ˜¯ä½œä¸º production code è¯·ç”¨ä¼˜åŒ–è¿‡çš„ .at, .iat, .loc, .iloc å’Œ .ix èŽ·å–è¡Œ/åˆ—ä»Ž DataFrame é€‰æ‹©ä¸€ä¸ªåˆ—ï¼Œå°±å¾—åˆ°äº† Series 123456789In [23]: df['A']Out[23]: 2013-01-01 0.4691122013-01-02 1.2121122013-01-03 -0.8618492013-01-04 0.7215552013-01-05 -0.4249722013-01-06 -0.673690Freq: D, Name: A, dtype: float64 å’Œ numpy ç±»ä¼¼ï¼Œè¿™é‡Œä¹Ÿèƒ½ç”¨ []é€‰æ‹©è¡Œ 12345678910111213In [24]: df[0:3]Out[24]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.071804In [25]: df['20130102':'20130104']Out[25]: A B C D2013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-03 -0.861849 -2.104569 -0.494929 1.0718042013-01-04 0.721555 -0.706771 -1.039575 0.271860 é€šè¿‡ label é€‰æ‹©è¿˜å¯ä»¥å¤šé€‰ 123456789In [27]: df.loc[:,['A','B']] #æ‰€æœ‰è¡Œï¼ŒABåˆ—Out[27]: A B2013-01-01 0.469112 -0.2828632013-01-02 1.212112 -0.1732152013-01-03 -0.861849 -2.1045692013-01-04 0.721555 -0.7067712013-01-05 -0.424972 0.5670202013-01-06 -0.673690 0.113648 æ³¨æ„é‚£ä¸ªå†’å·ï¼Œç”¨æ³•å’Œ MATLAB æˆ– NumPy æ˜¯ä¸€æ ·çš„ï¼æ‰€ä»¥ä¹Ÿå¯ä»¥è¿™æ · 123456In [28]: df.loc['20130102':'20130104',['A','B']] Out[28]: A B2013-01-02 1.212112 -0.1732152013-01-03 -0.861849 -2.1045692013-01-04 0.721555 -0.706771 12345In [29]: df.loc['20130102',['A','B']]Out[29]: A 1.212112B -0.173215Name: 2013-01-02 00:00:00, dtype: float64 å¦‚æžœå¯¹æ‰€æœ‰çš„ç»´åº¦éƒ½å†™äº†æ ‡é‡ï¼Œä¸å°±æ˜¯é€‰å‡ºä¸€ä¸ªå…ƒç´ å—ï¼Ÿ å¦‚æžœå¯¹æ‰€æœ‰çš„ç»´åº¦éƒ½å†™äº†æ ‡é‡ï¼Œä¸å°±æ˜¯é€‰å‡ºä¸€ä¸ªå…ƒç´ å—ï¼Ÿ 12In [30]: df.loc[dates[0],'A']Out[30]: 0.46911229990718628 è¿™ç§æƒ…å†µé€šå¸¸ç”¨ at ï¼Œé€Ÿåº¦æ›´å¿« 12In [31]: df.at[dates[0],'A']Out[31]: 0.46911229990718628 é€šè¿‡æ•´æ•°ä¸‹æ ‡é€‰æ‹©è¿™ä¸ªå°±å’Œæ•°ç»„ç±»ä¼¼å•¦ï¼Œç›´æŽ¥çœ‹ä¾‹å­ã€‚é€‰å‡ºç¬¬3è¡Œï¼š(æ³¨æ„æœ‰ç¬¬0è¡Œ) 1234567In [32]: df.iloc[3]Out[32]: A 0.721555B -0.706771C -1.039575D 0.271860Name: 2013-01-04 00:00:00, dtype: float64 é€‰å‡º3~4è¡Œï¼Œ0~1åˆ—ï¼š 12345In [33]: df.iloc[3:5,0:2] #æ³¨æ„ 3:5 æ˜¯ç¬¬3è¡Œåˆ°ç¬¬4è¡Œï¼Œå°¾æ•°åœ¨pythonä¸­æ˜¯ä¸é€‰æ‹©çš„ï¼ˆæœ‰ç¬¬0è¡Œï¼‰Out[33]: A B2013-01-04 0.721555 -0.7067712013-01-05 -0.424972 0.567020 ä¹Ÿèƒ½ç”¨ list é€‰æ‹© 123456In [34]: df.iloc[[1,2,4],[0,2]]Out[34]: A C2013-01-02 1.212112 0.1192092013-01-03 -0.861849 -0.4949292013-01-05 -0.424972 0.276232 å¯¹åº”å•ä¸ªå…ƒç´  1234In [37]: df.iloc[1,1]Out[37]: -0.17321464905330858In [38]: df.iat[1,1]Out[38]: -0.17321464905330858 æ€»ç»“ï¼šdf.icol æ˜¯æŒ‰ä¸‹æ ‡é€‰æ‹©ï¼Œdf.colæ˜¯æŒ‰æ ‡ç­¾é€‰æ‹©ã€‚ é€šè¿‡å¸ƒå°”å€¼ä¸‹æ ‡åŸºæœ¬ç”¨æ³• 123456In [39]: df[df.A &gt; 0]Out[39]: A B C D2013-01-01 0.469112 -0.282863 -1.509059 -1.1356322013-01-02 1.212112 -0.173215 0.119209 -1.0442362013-01-04 0.721555 -0.706771 -1.039575 0.271860 ä¸æ»¡è¶³æ¡ä»¶çš„å¡«å……ä¸ºï¼š NaN 123456789In [40]: df[df &gt; 0]Out[40]: A B C D2013-01-01 0.469112 NaN NaN NaN2013-01-02 1.212112 NaN 0.119209 NaN2013-01-03 NaN NaN NaN 1.0718042013-01-04 0.721555 NaN NaN 0.2718602013-01-05 NaN 0.567020 0.276232 NaN2013-01-06 NaN 0.113648 NaN 0.524988 isin() å‡½æ•°ï¼šæ˜¯å¦åœ¨é›†åˆä¸­ 12345678910111213141516171819In [41]: df2 = df.copy()In [42]: df2['E'] = ['one', 'one','two','three','four','three']In [43]: df2Out[43]: A B C D E2013-01-01 0.469112 -0.282863 -1.509059 -1.135632 one2013-01-02 1.212112 -0.173215 0.119209 -1.044236 one2013-01-03 -0.861849 -2.104569 -0.494929 1.071804 two2013-01-04 0.721555 -0.706771 -1.039575 0.271860 three2013-01-05 -0.424972 0.567020 0.276232 -1.087401 four2013-01-06 -0.673690 0.113648 -1.478427 0.524988 threeIn [44]: df2[df2['E'].isin(['two','four'])]Out[44]: A B C D E2013-01-03 -0.861849 -2.104569 -0.494929 1.071804 two2013-01-05 -0.424972 0.567020 0.276232 -1.087401 four åˆ é™¤æ•°æ®ä¸¢å¼ƒæŸæ¡è½´ä¸Šçš„ä¸€ä¸ªæˆ–å¤šä¸ªé¡¹å¾ˆç®€å•ï¼Œåªè¦æœ‰ä¸€ä¸ªç´¢å¼•æ•°ç»„æˆ–åˆ—è¡¨å³å¯ã€‚ç”±äºŽéœ€è¦æ‰§è¡Œä¸€äº›æ•°æ®æ•´ç†å’Œé›†åˆé€»è¾‘ï¼Œæ‰€ä»¥dropæ–¹æ³•è¿”å›žçš„æ˜¯ä¸€ä¸ªåœ¨æŒ‡å®šè½´ä¸Šåˆ é™¤äº†æŒ‡å®šå€¼çš„æ–°å¯¹è±¡ï¼š 1234567891011In [110]: data = pd.DataFrame(np.arange(16).reshape((4, 4)), .....: index=['Ohio', 'Colorado', 'Utah', 'New York'], .....: columns=['one', 'two', 'three', 'four'])In [111]: dataOut[111]: one two three fourOhio 0 1 2 3Colorado 4 5 6 7Utah 8 9 10 11New York 12 13 14 15 ç”¨æ ‡ç­¾åºåˆ—è°ƒç”¨dropä¼šä»Žè¡Œæ ‡ç­¾ï¼ˆaxis 0ï¼‰åˆ é™¤å€¼ï¼š 12345In [112]: data.drop(['Colorado', 'Ohio'])Out[112]: one two three fourUtah 8 9 10 11New York 12 13 14 15 é€šè¿‡ä¼ é€’axis=1æˆ–axis=â€™columnsâ€™å¯ä»¥åˆ é™¤åˆ—çš„å€¼ï¼š 1234567In [113]: data.drop('two', axis=1)Out[113]: one three fourOhio 0 2 3Colorado 4 6 7Utah 8 10 11New York 12 14 15 è¯»å–ã€å†™å…¥æ•°æ®CSVå†™å…¥ 1In [136]: df.to_csv('foo.csv') è¯»å– 12345678In [137]: pd.read_csv('foo.csv')In [137]: pd.read_csv(StringIO(data), names=['foo', 'bar', 'baz'], header=None)# è‡ªå®šä¹‰è¡¨å¤´ï¼Œå½“nameè®¾å®šçš„æ—¶å€™ï¼Œheaderå¿…é¡»æ˜¾å¼Noneï¼Œå› ä¸ºé»˜è®¤ä¸º0 foo bar baz0 a b c1 1 2 32 4 5 63 7 8 9 tableè¯»å– 12data = pd.read_table('example.txt',sep='\t',header=0) # æŒ‡å®šåˆ†éš”ç¬¦å’Œè¡¨å¤´ï¼Œé»˜è®¤header=0ï¼ŒæŠŠç¬¬ä¸€è¡Œä½œä¸ºè¡¨å¤´ã€‚åˆ†å‰²ç¬¦é»˜è®¤åˆ¶è¡¨ç¬¦'/t'ï¼Œ'/s+'ï¼Œå¯ä»¥åŒ¹é…ä»»ä½•ç©ºæ ¼ã€‚ excelå†™å…¥ 1In [140]: df.to_excel('foo.xlsx', sheet_name='Sheet1') è¯»å– 12In [141]: pd.read_excel('foo.xlsx', sheet_name='Sheet1', index_col=None, na_values=['NA'])#index_col è¡Œåï¼Œna_values ç¼ºå¤±å€¼çš„å½¢å¼]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[nextä¸»é¢˜è®¾ç½®]]></title>
    <url>%2F2018%2F09%2F01%2Fnext-theme%2F</url>
    <content type="text"><![CDATA[ä¸»é¢˜é£Žæ ¼é€šè¿‡ä¿®æ”¹nextä¸»é¢˜ä¸‹çš„_config.ymlçš„schemeå­—æ®µï¼Œé…ç½®ä¸åŒçš„é£Žæ ¼ã€‚ 12345# Schemes#scheme: Musescheme: Mist #æŽ¨è#scheme: Pisces#scheme: Gemini èœå•é€šè¿‡ä¿®æ”¹nextä¸»é¢˜ä¸‹çš„_config.ymlçš„menuå­—æ®µï¼Œé€‰å®šæ˜¾ç¤ºçš„èœå•é¡¹ã€‚ å¯è‡ªå·±ä¿®æ”¹å­—æ®µå’Œç›®å½•åï¼Œ||ä¹‹åŽä¸ºé…å¥—çš„å°å›¾æ ‡ã€‚æˆ‘æ·»åŠ äº†linkså­—æ®µï¼Œä½†æ˜¯å½“å‰è¯­è¨€æ˜¯ç®€ä½“ä¸­æ–‡ï¼Œé¡µé¢ä¸Šæ— æ³•ç»™æˆ‘ç¿»è¯‘å‡ºæ¥ï¼ŒåŽ»æ·»åŠ language/zh-CN.ymlé‡Œçš„å¯¹åº”å­—æ®µå³å¯ã€‚ 1234567menu: home: /home/ || home about: /about/ || user #tags: /tags/ || tags categories: /categories/ || th archives: /archives/ || archive links: /links/ || calendar å¤´åƒåœ¨ä¸»é¢˜ä¸‹çš„source/images/ä¸‹æ›¿æ¢åŽŸæœ‰çš„å¤´åƒæ–‡ä»¶avatar.gifï¼Œå¹¶åœ¨_config.ymlä¸­æŸ¥æ‰¾Sidebar Avatarå­—æ®µï¼Œæ·»åŠ urlå­—æ®µå†…å®¹ï¼š /images/avatar.gif å¤´åƒæ—‹è½¬æ‰¾åˆ°ä½äºŽ source/css/_common/components/sidebar/sidebar-author.syl æ¨¡æ¿æ–‡ä»¶é‡Œä¾§è¾¹æ å¤´åƒçš„æ ·å¼ .site-author-image å°†å†…å®¹ä¿®æ”¹ä¸º 123456.site-author-image &#123; border-radius: 50%; -webkit-border-radius: 50%; -moz-border-radius: 50%; transition: 1.4s all;&#125; ç„¶åŽæ·»åŠ  .site-author-image:hover æ ·å¼ï¼Œç”± rotate() æ–¹æ³•å®žçŽ°ï¼Œæ—‹è½¬ 360Â° 123456.site-author-image:hover &#123; -webkit-transform: rotate(360deg); -moz-transform: rotate(360deg); -ms-transform: rotate(360deg); -transform: rotate(360deg);&#125; æ–‡ç« ä»£ç ä¸»é¢˜Nextä¸»é¢˜æ€»å…±æ”¯æŒ5ç§ä¸»é¢˜ï¼Œé»˜è®¤ä¸»é¢˜æ˜¯ç™½è‰²çš„normalã€‚é€šè¿‡ä¿®æ”¹nextä¸»é¢˜ä¸‹çš„_config.ymlçš„highlightå­—æ®µï¼Œæ¥è®¾ç½®ä»£ç ä¸»é¢˜ã€‚ æŽ¨è night ã€‚ æ ‡ç­¾ã€åˆ†ç±»åœ¨å­˜åœ¨æ ‡ç­¾é¡µã€åˆ†ç±»é¡µçš„æƒ…å†µä¸‹ï¼Œåœ¨å†™æ–‡ç« çš„æ—¶å€™ï¼Œåœ¨æ–‡ç« å¤´éƒ¨æ·»åŠ  tagsã€categories å­—æ®µã€‚ 12tags: [npm, hexo, github]categories: æ­å»ºåšå®¢ æœç´¢åŠŸèƒ½å®‰è£… hexo-generator-searchdb 1$ npm install hexo-generator-searchdb --save åœ¨ç«™ç‚¹myBlog/_config.ymlä¸­æ·»åŠ searchå­—æ®µï¼Œå¦‚ä¸‹ 12345search:path: search.xmlfield: postformat: htmllimit: 10000 ä¿®æ”¹nextä¸»é¢˜ä¸‹çš„_config.ymlçš„Local searchå­—æ®µ 1enable: true hexoåšå®¢åº•éƒ¨é¡µè„šæ‰¾åˆ°/themes/next/layout/_partials/footer.swigæ–‡ä»¶ å†…å®¹å¦‚ä¸‹ 1234567891011121314151617181920&lt;div class="copyright" &gt; &#123;% set current = date(Date.now(), "YYYY") %&#125; Â© &#123;% if theme.since and theme.since != current %&#125; &#123;&#123; theme.since &#125;&#125; - &#123;% endif %&#125; &lt;span itemprop="copyrightYear"&gt;&#123;&#123; current &#125;&#125;&lt;/span&gt; &lt;span class="with-love"&gt; &lt;i class="fa fa-heart"&gt;&lt;/i&gt; &lt;/span&gt; &lt;span class="author" itemprop="copyrightHolder"&gt;&#123;&#123; config.author &#125;&#125;&lt;/span&gt;&lt;/div&gt;&lt;div class="powered-by"&gt; &#123;&#123; __('footer.powered', '&lt;a class="theme-link" href="https://hexo.io"&gt;Hexo&lt;/a&gt;') &#125;&#125;&lt;/div&gt;&lt;div class="theme-info"&gt; &#123;&#123; __('footer.theme') &#125;&#125; - &lt;a class="theme-link" href="https://github.com/iissnan/hexo-theme-next"&gt; NexT.&#123;&#123; theme.scheme &#125;&#125; &lt;/a&gt;&lt;/div&gt; åˆ é™¤class ä¸ºpowered-byçš„divå’Œtheme-infoçš„divã€‚ githubæ ‡è¯†åœ¨ç½‘ç«™ä¸Šé€‰æ‹©ä¸€ä¸ªå–œæ¬¢çš„æ ‡è¯†ç±»åž‹ï¼Œå¤åˆ¶ç²˜è´´ä»£ç åˆ°themes/next/layout/_layout.swigæ–‡ä»¶ä¸­(æ”¾åœ¨&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;çš„ä¸‹é¢)ï¼Œå¹¶æŠŠhrefæ”¹ä¸ºä¸ªäººgithubåœ°å€ ã€‚ é¦–é¡µéšè—æŒ‡å®šæ–‡ç« æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½åªæƒ³åœ¨é¦–é¡µæ˜¾ç¤ºå…³äºŽç¼–ç¨‹ä¹‹ç±»çš„å†…å®¹ï¼Œè€Œä¸ªäººæ—¥è®°ä¹‹ç±»çš„æ–‡ç« æ”¾åœ¨å…¶ä»–åˆ†ç±»ä¹‹ä¸‹è€Œä¸åœ¨é¦–é¡µæ˜¾ç¤ºã€‚å¯ä»¥ä»Žã€åˆ†ç±»ã€æ ‡ç­¾ã€å½’æ¡£ä¸­æŸ¥çœ‹æ–‡ç« ã€‚ è‡ªå®šä¹‰front-matterçš„å‚æ•°ä¾‹å¦‚ï¼Œè‡ªå®šä¹‰æ·»åŠ ä¸€ä¸ªnotshowå‚æ•°ï¼Œå€¼ä¸ºtrueï¼Œç”¨æ¥æä¾›åˆ¤æ–­ 123tags: [npm, hexo, github]categories: æ­å»ºåšå®¢notshow: true ä¿®æ”¹ä¸»é¢˜çš„themes/next/layout/index.swigæ–‡ä»¶,å°† 123456789&#123;% block content %&#125; &lt;section id="posts" class="posts-expand"&gt; &#123;% for post in page.posts %&#125; &#123;&#123; post_template.render(post, true) &#125;&#125; &#123;% endfor %&#125; &lt;/section&gt; &#123;% include '_partials/pagination.swig' %&#125;&#123;% endblock % æ·»åŠ è¿‡æ»¤æ¡ä»¶ 1234567891011&#123;% block content %&#125; &lt;section id="posts" class="posts-expand"&gt; &#123;% for post in page.posts %&#125; &#123;% if post.notshow != true %&#125; &#123;&#123; post_template.render(post, true) &#125;&#125; &#123;% endif %&#125; &#123;% endfor %&#125; &lt;/section&gt; &#123;% include '_partials/pagination.swig' %&#125;&#123;% endblock %&#125;]]></content>
      <categories>
        <category>blog</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[python-copy]]></title>
    <url>%2F2018%2F08%2F27%2Fpython-copy%2F</url>
    <content type="text"><![CDATA[èµ‹å€¼ï¼ˆassignmentï¼‰åœ¨Pythonä¸­ï¼Œç”¨ä¸€ä¸ªå˜é‡ç»™å¦ä¸€ä¸ªå˜é‡èµ‹å€¼ï¼Œå…¶å®žå°±æ˜¯ç»™å½“å‰å†…å­˜ä¸­çš„å¯¹è±¡å¢žåŠ ä¸€ä¸ªâ€œæ ‡ç­¾â€è€Œå·²ã€‚ 12345&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; b = a&gt;&gt;&gt; print(id(a), id(b), sep='\n') #aå’Œbéƒ½åªæ˜¯[1,2,3]çš„ä¸€ä¸ªæ ‡ç­¾139701469405552139701469405552 æµ…æ‹·è´ï¼ˆshallow copyï¼‰æ³¨æ„ï¼šæµ…æ‹·è´å’Œæ·±æ‹·è´çš„ä¸åŒä»…ä»…æ˜¯å¯¹ç»„åˆå¯¹è±¡æ¥è¯´ï¼Œæ‰€è°“çš„ç»„åˆå¯¹è±¡å°±æ˜¯åŒ…å«äº†å…¶å®ƒå¯¹è±¡çš„å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ï¼Œç±»å®žä¾‹ã€‚è€Œå¯¹äºŽæ•°å­—ã€å­—ç¬¦ä¸²ä»¥åŠå…¶å®ƒâ€œåŽŸå­â€ç±»åž‹ï¼Œæ²¡æœ‰æ‹·è´ä¸€è¯´ï¼Œäº§ç”Ÿçš„éƒ½æ˜¯åŽŸå¯¹è±¡çš„å¼•ç”¨ã€‚ æ‰€è°“â€œæµ…æ‹·è´â€ï¼Œæ˜¯æŒ‡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå…¶å†…å®¹æ˜¯åŽŸå¯¹è±¡ä¸­å…ƒç´ çš„å¼•ç”¨ã€‚ï¼ˆæ‹·è´ç»„åˆå¯¹è±¡ï¼Œä¸æ‹·è´å­å¯¹è±¡ï¼‰ å¸¸è§çš„æµ…æ‹·è´æœ‰ï¼šåˆ‡ç‰‡æ“ä½œã€å·¥åŽ‚å‡½æ•°ï¼ˆå¦‚list()ï¼Œdict()ç­‰ï¼‰ã€å¯¹è±¡çš„copy()æ–¹æ³•ã€copyæ¨¡å—ä¸­çš„copyå‡½æ•°ã€‚ 12345678910&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; b = list(a)&gt;&gt;&gt; print(id(a), id(b)) # aå’Œbèº«ä»½ä¸åŒ140601785066200 140601784764968&gt;&gt;&gt; for x, y in zip(a, b): # ä½†å®ƒä»¬åŒ…å«çš„å­å¯¹è±¡èº«ä»½ç›¸åŒ... print(id(x), id(y))... 140601911441984 140601911441984140601911442016 140601911442016140601911442048 140601911442048 ä»Žä¸Šé¢å¯ä»¥æ˜Žæ˜¾çš„çœ‹å‡ºæ¥ï¼Œa æµ…æ‹·è´å¾—åˆ° bï¼Œa å’Œ b æŒ‡å‘å†…å­˜ä¸­ä¸åŒçš„ list å¯¹è±¡ï¼Œä½†å®ƒä»¬çš„å…ƒç´ å´æŒ‡å‘ç›¸åŒçš„ int å¯¹è±¡ã€‚è¿™å°±æ˜¯æµ…æ‹·è´ï¼ 1234567&gt;&gt;&gt; a = [1, 2, 3ï¼Œ[4,5]]&gt;&gt;&gt; b = list(a)&gt;&gt;&gt; a[-1].append(6)&gt;&gt;&gt; print(a)[1, 2, 3ï¼Œ[4,5,6]]&gt;&gt;&gt; print(b) #å½“açš„å­å¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œbä¹Ÿå‘ç”Ÿäº†æ”¹å˜[1, 2, 3ï¼Œ[4,5,6]] æ·±æ‹·è´ï¼ˆdeep copyï¼‰æ‰€è°“â€œæ·±æ‹·è´â€ï¼Œæ˜¯æŒ‡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç„¶åŽé€’å½’çš„æ‹·è´åŽŸå¯¹è±¡æ‰€åŒ…å«çš„å­å¯¹è±¡ã€‚æ·±æ‹·è´å‡ºæ¥çš„å¯¹è±¡ä¸ŽåŽŸå¯¹è±¡æ²¡æœ‰ä»»ä½•å…³è”ã€‚ æ·±æ‹·è´åªæœ‰ä¸€ç§æ–¹å¼ï¼šcopyæ¨¡å—ä¸­çš„deepcopyå‡½æ•°ã€‚ 12345678&gt;&gt;&gt; import copy&gt;&gt;&gt; a = [1, 2, 3ï¼Œ[4,5]]&gt;&gt;&gt; b = copy.deepcopy(a)&gt;&gt;&gt; a[-1].append(6)&gt;&gt;&gt; print(a)[1, 2, 3ï¼Œ[4,5,6]]&gt;&gt;&gt; print(b) #å½“açš„å­å¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œbä¸å‘ç”Ÿæ”¹å˜[1, 2, 3ï¼Œ[4,5]] 1234567891011&gt;&gt;&gt; import copy&gt;&gt;&gt; a = [1, 2, 3]&gt;&gt;&gt; b = copy.deepcopy(a)&gt;&gt;&gt; print(id(a), id(b))140601785065840 140601785066200&gt;&gt;&gt; for x, y in zip(a, b):... print(id(x), id(y))... 140601911441984 140601911441984140601911442016 140601911442016140601911442048 140601911442048 çœ‹äº†ä¸Šé¢çš„ä¾‹å­ï¼Œæœ‰äººå¯èƒ½ä¼šç–‘æƒ‘ï¼š ä¸ºä»€ä¹ˆä½¿ç”¨äº†æ·±æ‹·è´ï¼Œaå’Œbä¸­å…ƒç´ çš„idè¿˜æ˜¯ä¸€æ ·å‘¢ï¼Ÿ ç­”ï¼šè¿™æ˜¯å› ä¸ºå¯¹äºŽä¸å¯å˜å¯¹è±¡ï¼Œå½“éœ€è¦ä¸€ä¸ªæ–°çš„å¯¹è±¡æ—¶ï¼Œpythonå¯èƒ½ä¼šè¿”å›žå·²ç»å­˜åœ¨çš„æŸä¸ªç±»åž‹å’Œå€¼éƒ½ä¸€è‡´çš„å¯¹è±¡çš„å¼•ç”¨ã€‚è€Œä¸”è¿™ç§æœºåˆ¶å¹¶ä¸ä¼šå½±å“ a å’Œ b çš„ç›¸äº’ç‹¬ç«‹æ€§ï¼Œå› ä¸ºå½“ä¸¤ä¸ªå…ƒç´ æŒ‡å‘åŒä¸€ä¸ªä¸å¯å˜å¯¹è±¡æ—¶ï¼Œå¯¹å…¶ä¸­ä¸€ä¸ªèµ‹å€¼ä¸ä¼šå½±å“å¦å¤–ä¸€ä¸ªã€‚ æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªåŒ…å«å¯å˜å¯¹è±¡çš„åˆ—è¡¨æ¥ç¡®åˆ‡åœ°å±•ç¤ºâ€œæµ…æ‹·è´â€ä¸Žâ€œæ·±æ‹·è´â€çš„åŒºåˆ«ï¼š 1234567891011121314151617181920&gt;&gt;&gt; import copy&gt;&gt;&gt; a = [[1, 2],[5, 6], [8, 9]]&gt;&gt;&gt; b = copy.copy(a) # æµ…æ‹·è´å¾—åˆ°b&gt;&gt;&gt; c = copy.deepcopy(a) # æ·±æ‹·è´å¾—åˆ°c&gt;&gt;&gt; print(id(a), id(b)) # a å’Œ b ä¸åŒ139832578518984 139832578335520&gt;&gt;&gt; for x, y in zip(a, b): # a å’Œ b çš„å­å¯¹è±¡ç›¸åŒ... print(id(x), id(y))... 139832578622816 139832578622816139832578622672 139832578622672139832578623104 139832578623104&gt;&gt;&gt; print(id(a), id(c)) # a å’Œ c ä¸åŒ139832578518984 139832578622456&gt;&gt;&gt; for x, y in zip(a, c): # a å’Œ c çš„å­å¯¹è±¡ä¹Ÿä¸åŒ... print(id(x), id(y))... 139832578622816 139832578621520139832578622672 139832578518912139832578623104 139832578623392 æ€»ç»“ï¼š1ã€èµ‹å€¼ï¼šç®€å•åœ°æ‹·è´å¯¹è±¡çš„å¼•ç”¨ï¼Œä¸¤ä¸ªå¯¹è±¡çš„idç›¸åŒã€‚2ã€æµ…æ‹·è´ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç»„åˆå¯¹è±¡ï¼Œè¿™ä¸ªæ–°å¯¹è±¡ä¸ŽåŽŸå¯¹è±¡å…±äº«å†…å­˜ä¸­çš„å­å¯¹è±¡ã€‚3ã€æ·±æ‹·è´ï¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ç»„åˆå¯¹è±¡ï¼ŒåŒæ—¶é€’å½’åœ°æ‹·è´æ‰€æœ‰å­å¯¹è±¡ï¼Œæ–°çš„ç»„åˆå¯¹è±¡ä¸ŽåŽŸå¯¹è±¡æ²¡æœ‰ä»»ä½•å…³è”ã€‚è™½ç„¶å®žé™…ä¸Šä¼šå…±äº«ä¸å¯å˜çš„å­å¯¹è±¡ï¼Œä½†ä¸å½±å“å®ƒä»¬çš„ç›¸äº’ç‹¬ç«‹æ€§ã€‚ æµ…æ‹·è´å’Œæ·±æ‹·è´çš„ä¸åŒä»…ä»…æ˜¯å¯¹ç»„åˆå¯¹è±¡æ¥è¯´ï¼Œæ‰€è°“çš„ç»„åˆå¯¹è±¡å°±æ˜¯åŒ…å«äº†å…¶å®ƒå¯¹è±¡çš„å¯¹è±¡ï¼Œå¦‚åˆ—è¡¨ï¼Œç±»å®žä¾‹ã€‚è€Œå¯¹äºŽæ•°å­—ã€å­—ç¬¦ä¸²(å¦‚a=1)ä»¥åŠå…¶å®ƒâ€œåŽŸå­â€ç±»åž‹ï¼Œæ²¡æœ‰æ‹·è´ä¸€è¯´ï¼Œäº§ç”Ÿçš„éƒ½æ˜¯åŽŸå¯¹è±¡çš„å¼•ç”¨ã€‚]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[ruby-re]]></title>
    <url>%2F2018%2F08%2F21%2Fruby-re%2F</url>
    <content type="text"><![CDATA[Rubyä¸­æ­£åˆ™è¡¨è¾¾å¼çš„å†™æ³•ä¸»è¦æœ‰ä¸‰ç§ åœ¨//ä¹‹é—´ï¼Œè¦è¿›è¡Œè½¬ä¹‰ åœ¨%r{}å†…ï¼Œä¸ç”¨è¿›è¡Œè½¬ä¹‰ Regexp.new()å†…ï¼Œä¸ç”¨è¿›è¡Œè½¬ä¹‰ åŒ¹é…çš„ä¸¤ç§æ–¹æ³• =~è‚¯å®šåŒ¹é…, !~å¦å®šåŒ¹é…ã€‚=~è¡¨è¾¾å¼è¿”å›žåŒ¹é…åˆ°çš„ä½ç½®ç´¢å¼•ï¼Œå¤±è´¥è¿”å›žnilï¼Œç¬¦å·å·¦å³å†…å®¹å¯äº¤æ¢ regexp#match(str)ï¼Œè¿”å›žMatchDataï¼Œä¸€ä¸ªæ•°ç»„ï¼Œä»Ž0å¼€å§‹ï¼Œè¿˜æœ‰match.pre_matchè¿”å›žåŒ¹é…å‰å†…å®¹ï¼Œmatch.post_matchè¿”å›žåŒ¹é…åŽå†…å®¹ 1234/cat/ =~ "dog and cat" #è¿”å›ž8# ç±»ä¼¼pythonå¯ä»¥å°†æ­£åˆ™æ”¾å…¥ä¸€ä¸ªå˜é‡ï¼Œå¦‚re = Regexp.new(/cat/)ï¼Œåœ¨åŽç»­åŒ¹é…æ—¶ç›´æŽ¥ä½¿ç”¨remt = /cat/.match("bigcatcomes") # mt = re.match("bigcatcomes")"#&#123;mt.pre_match&#125;-&gt;#&#123;mt[0]&#125;&lt;-#&#123;mt.post_match&#125;" #è¿”å›žbig-&gt;cat&lt;-comes æ›¿æ¢å¾ˆå¤šæ—¶å€™åŒ¹é…æ˜¯ä¸ºäº†æ›¿æ¢ï¼ŒRubyä¸­è¿›è¡Œæ­£åˆ™æ›¿æ¢éžå¸¸ç®€å•ï¼Œä¸¤ä¸ªæ–¹æ³•å³å¯æžå®šï¼Œsub()+gsub()ã€‚subåªæ›¿æ¢ç¬¬ä¸€æ¬¡åŒ¹é…ï¼Œgsubï¼ˆg:globalï¼‰ä¼šæ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ï¼Œæ²¡æœ‰åŒ¹é…åˆ°è¿”å›žåŽŸå­—ç¬¦ä¸²çš„copy 123str = "ABDADA"new_str = str.sub(/A/, "a") #è¿”å›ž"aBDADA"new_str2 = str.gsub(/A/, "a") #è¿”å›ž"aBDaDa" åˆ†ç»„åŒ¹é…Rubyçš„åˆ†ç»„åŒ¹é…ä¸Žå…¶å®ƒè¯­è¨€å·®åˆ«ä¸å¤§ï¼Œåˆ†ç»„åŒ¹é…è¡¨è¾¾å¼æ˜¯å¯¹è¦è¿›è¡Œåˆ†ç»„çš„å†…å®¹åŠ ()ã€‚å¯¹äºŽåŒ¹é…åˆ°çš„ç»“æžœï¼Œå¯ä»¥ç”¨ç³»ç»Ÿå˜é‡$1ï¼Œ$2â€¦ç´¢å¼•ï¼Œä¹Ÿå¯ç”¨matchDataæ•°ç»„æ¥ç´¢å¼• 123md = /(\d\d):(\d\d)(..)/.match("12:50am") # mdä¸ºä¸€ä¸ªMatchDataå¯¹è±¡puts "Hour is #&#123;$1&#125;, minute #&#123;$2&#125;"puts "Hour is #&#123;md[1]&#125;, minute #&#123;md[2]&#125;" åŒ¹é…æ‰€æœ‰regexp#match()åªèƒ½åŒ¹é…ä¸€æ¬¡ï¼Œå¦‚æžœæƒ³åŒ¹é…æ‰€æœ‰è¦ç”¨regexp#scan()ç”¨æ³•ç¤ºä¾‹ï¼š 1"abcabcqwe".scan(%r&#123;abc&#125;).each &#123;|x| puts x&#125; # è¾“å‡º2è¡Œabc]]></content>
      <categories>
        <category>ruby</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[hexo+githubæ­å»ºåšå®¢]]></title>
    <url>%2F2018%2F08%2F09%2Fhexo%2Bgithub%2F</url>
    <content type="text"><![CDATA[å‡†å¤‡node.jså’Œgit node.js : ç›´æŽ¥å®˜ç½‘ä¸‹è½½ git : ç›´æŽ¥å®˜ç½‘ä¸‹è½½ éªŒè¯å®‰è£…ç»“æžœ : 1234$ node -v$ npm -v#npmæ˜¯éšåŒNodeJSä¸€èµ·å®‰è£…çš„åŒ…ç®¡ç†å·¥å…·,ç±»ä¼¼pythonçš„pip$ git --version Githubè´¦æˆ·æ³¨å†Œå’Œæ–°å»ºé¡¹ç›®é¡¹ç›®å¿…é¡»è¦éµå®ˆæ ¼å¼ï¼šuername.github.ioï¼Œå¦‚ä¸‹ï¼š å®‰è£…Hexo Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æž¶ã€‚ 12345$ mkdir blog &amp;&amp; cd - #åˆ›å»ºä¸ªäººç›®å½•$ npm install -g hexo-cli #å®‰è£…hexo$ hexo -v #æ£€æŸ¥hexo$ hexo init #åˆå§‹åŒ–hexo$ npm install #å®‰è£…æ‰€éœ€åŒ… Hexoä¸ŽGithub pageå…³è” è®¾ç½®Gitçš„user nameå’Œemailï¼ˆå¦‚æžœæ˜¯ç¬¬ä¸€æ¬¡çš„è¯ï¼‰ 12git config --global user.name "xxx" gitç”¨æˆ·ågit config --global user.email "xxx@xx.com" gité‚®ç®± ç”Ÿæˆå¯†é’¥ã€å…¬é’¥ 1234$ ssh-add -D$ rm -r ~/.ssh #åˆ é™¤å­˜åœ¨çš„å¯†é’¥ã€å…¬é’¥$ ssh-keygen -t rsa -C "xxx@xx.com" #ç”Ÿæˆæ–°å¯†é’¥ã€å…¬é’¥å¯¹åº”gité‚®ç®±$ cat ~/.ssh/id_rsa.pub #æŸ¥çœ‹å…¬é’¥å†…å®¹ æ·»åŠ å…¬é’¥åˆ°github ç™»é™†githubå¸æˆ·ï¼Œç‚¹å‡»å¤´åƒï¼Œç„¶åŽ Settings -&gt; å·¦æ ç‚¹å‡» SSH and GPG keys -&gt; ç‚¹å‡» New SSH keyã€‚ç„¶åŽå¤åˆ¶ä¸Šé¢çš„å…¬é’¥å†…å®¹ï¼Œç²˜è´´è¿›â€œKeyâ€æ–‡æœ¬åŸŸå†…ã€‚ titleéšä¾¿èµ·ä¸ªåå­—ï¼Œç‚¹å‡» Add keyå®Œæˆã€‚ ç¡®è®¤æˆåŠŸ 1234$ ssh -T xxx@github.com$ git remote -vorigin https://github.com/someaccount/someproject.git (fetch)origin https://github.com/someaccount/someproject.git (push) gitä½¿ç”¨httpsåè®®ï¼Œæ¯æ¬¡pull, pushéƒ½ä¼šæç¤ºè¦è¾“å…¥å¯†ç ï¼Œä½¿ç”¨gitåè®®ï¼Œç„¶åŽä½¿ç”¨sshå¯†é’¥ï¼Œè¿™æ ·å…åŽ»æ¯æ¬¡éƒ½è¾“å¯†ç çš„éº»çƒ¦ã€‚ SSHåœ°å€ HTTPSåœ°å€ åœ¨_config.yml è¿›è¡ŒåŸºç¡€é…ç½®å›žåˆ°åˆ›å»ºhexoçš„æ–‡ä»¶å¤¹æ‰¾åˆ°_config.ymlï¼Œå¹¶ç¼–è¾‘æœ€åŽçš„ä¿¡æ¯: 12345deployï¼š typeï¼š git repository ï¼šgit@github.com:flystar233/flystar233.github.io.git #å‘å¸ƒä¸å†éœ€è¦å¯†ç  repository ï¼šhttps://github.com/flystar233/flystar233.github.io.git #å‘å¸ƒéœ€è¦å¯†ç  branch ï¼šmaster è®©åšå®¢èƒ½åŠ è½½å›¾ç‰‡12post_asset_folder: true #åœ¨_config.ymlä¸­å°†falseæ”¹ä¸ºtrue$ npm install hexo-asset-image --save #åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œ è¿™æ ·ä¹‹åŽï¼Œåœ¨è¿è¡Œhexo n &quot;xxxx&quot;æ¥ç”Ÿæˆmdåšå®¢æ—¶ï¼Œ/source/_postsæ–‡ä»¶å¤¹å†…é™¤äº†xxxx.mdæ–‡ä»¶è¿˜æœ‰ä¸€ä¸ªåŒåçš„æ–‡ä»¶å¤¹ã€‚å°†åšå®¢æ‰€éœ€å›¾ç‰‡æ”¾å…¥æ­¤æ–‡ä»¶å¤¹ä¸­ï¼Œåœ¨mdæ–‡ä»¶ä¸­ï¼ˆåšå®¢å†…å®¹ï¼‰æ’å…¥å›¾ç‰‡æ—¶ï¼Œä½¿ç”¨å‘½ä»¤ æ¥æ’å…¥å›¾ç‰‡ï¼Œxxxxæ˜¯æ–‡ä»¶åï¼Œè·¯å¾„ä¸å¯æœ‰ä¸­æ–‡ã€‚ å‘å¸ƒåšå®¢åœ¨ç”Ÿæˆä»¥åŠéƒ¨ç½²æ–‡ç« ä¹‹å‰ï¼Œéœ€è¦å®‰è£…ä¸€ä¸ªæ‰©å±•ï¼š 1$ npm install hexo-deployer-git --save å‘å¸ƒç›¸å…³å‘½ä»¤ 123456$ hexo clean # æ¸…é™¤å…¨éƒ¨æ–‡ç« $ hexo generate == hexo g #ç”Ÿæˆé™æ€æ–‡ä»¶$ hexo deploy == hexo d #éƒ¨ç½²æ–‡ä»¶åˆ°github$ hexo new "æ–‡ä»¶å" #åˆ›å»ºæ–°æ–‡ç« $ hexo new page "é¡µé¢å" #åˆ›å»ºæ–°é¡µé¢$ hexo server #å¼€å¯é¢„è§ˆè®¿é—®ç«¯å£ï¼ˆé»˜è®¤ç«¯å£4000ï¼Œ'ctrl + c'å…³é—­serverï¼‰ æŸ¥çœ‹åšå®¢ éƒ¨ç½²æˆåŠŸåŽè®¿é—®åšå®¢åœ°å€ï¼Œå¦‚ï¼šflystar233.github.io]]></content>
      <categories>
        <category>blog</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[awk]]></title>
    <url>%2F2018%2F08%2F08%2Fawk%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨awk å–æ–‡ä»¶ç¬¬ä¸€åˆ—æ˜¯ä»¥æ•°å­—å¼€å¤´çš„æ•°æ®ï¼š 1$ awk '$1~/^[0-9]+/ &#123;print $0&#125;' infile &gt; outfile ä½¿ç”¨awk å–æ–‡ä»¶ç¬¬ä¸€åˆ—åŒ…å«chræˆ–è€…åŒ…å«scaï¼š 1$ awk '$1~/chr|sca/ &#123;print $0&#125;' infile &gt; outfile ä½¿ç”¨awk å–æ–‡ä»¶ç¬¬ä¸€åˆ—å¤§äºŽ0.1ä¸”å°äºŽ0.5çš„æ•°æ®ï¼š 1$ awk '$1&gt;0.1 &amp;&amp; $1&lt;0.5 &#123;print $0&#125;' infile &gt; outfile ä½¿ç”¨awk å–æ–‡ä»¶ç¬¬ä¸€åˆ—æ˜¯chrï¼š 12$ awk '$1~/^chr$/ &#123;print $0&#125;' infile &gt; outfile$ awk '$1=="chr" &#123;print $0&#125;' infile &gt; outfile ä½¿ç”¨awk è¿›è¡Œå­—ç¬¦ä¸²æ•èŽ·ï¼š 1234$ cat fileaaaaBASE_DDDD123$ awk '&#123;match($0,/(BASE_[a-zA-Z0-9]+)/,a);print a[1]&#125;' fileBASE_DDDD123 split å‡½æ•°ï¼š 1234$ echo "12:00:00"|awk '&#123;split($0,time,":" ); for (i in time) print time[i]&#125;'# split()æ˜¯awkå†…ç½®å‡½æ•°ï¼Œè¿˜æœ‰length()# $0 æŒ‡ä»£å‰é¢çš„å­—ç¬¦ï¼Œtimeä¸ºå­˜æ”¾æ•°æ®çš„æ•°ç»„åï¼Œ":" ä¸ºåˆ†éš”ç¬¦ ä½¿ç”¨awk è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºï¼š 12# %c å­—ç¬¦ %s å­—ç¬¦ä¸² %d åè¿›åˆ¶æ•´æ•° %f æµ®ç‚¹æ•°$ printf ("%s\t%s\t%s",$1,$2,$3)]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[world]]></title>
    <url>%2F2018%2F08%2F07%2Fworld%2F</url>
    <content type="text"><![CDATA[è¦äº†è§£ä¸–ç•Œçš„æ¦‚å¿µå°±è¦ä¸æ–­çš„å‡å°‘ä¸ªä½“çš„å·®å¼‚æ€§ã€‚ æˆ‘ä»¬çŸ¥é“äººç”Ÿè€Œä¸åŒï¼Œä½†æ˜¯è¦åœ¨è„‘æµ·ä¸­å½¢æˆå¯¹ä¸–ç•Œçš„è®¤è¯†ï¼Œå°±è¦å‡å°‘å¯¹ç›¸åŒç±»ä¸åŒä¸ªä½“çš„å­˜åœ¨ï¼Œç„¶åŽé€æ¸é€¼è¿‘å¯¹ä¸–ç•Œçš„æ­£ç¡®è®¤è¯†ã€‚ ä¸–ç•Œæ˜¯äººåœ¨è¿è¡Œçš„ä¹ˆï¼Ÿä¸æ˜¯ã€‚äººåªæ˜¯ä¸–ç•Œå¾ˆå°çš„ä¸€ä¸ªäº§ç‰©ï¼Œäººçš„ä¸»è§‚èƒ½åŠ¨æ€§ä½¿äººç±»ç§‘æŠ€ï¼Œç¤¾ä¼šå‘å±•ï¼Œé‚£ä¹ˆäººå·²ç»æ‹¥æœ‰å¯ä»¥æŽ§åˆ¶ä¸–ç•Œçš„èƒ½åŠ›äº†ä¹ˆï¼Ÿå°ç‚¹è¯´ï¼Œäººç±»å·²ç»æ‹¥æœ‰å¯ä»¥æŽ§åˆ¶åœ°çƒçš„èƒ½åŠ›äº†ä¹ˆï¼Ÿæ²¡æœ‰ã€‚äººç±»åœ¨ä¸æ–­çš„è¿›æ­¥ä¸­ï¼Œè¿˜æ˜¯åœ¨é¡ºåº”è‡ªç„¶çš„å˜åŒ–ã€‚ ä¸–ç•Œæ˜¯å¤ªé˜³è¿è¡Œçš„ä¹ˆï¼Ÿä¸æ˜¯ã€‚å¤ªé˜³ä¸ºåœ°çƒæ‰€æœ‰çš„ç”Ÿç‰©æä¾›äº†ç”Ÿå­˜çš„æ¡ä»¶ï¼šèƒ½é‡ï¼Œä¸‡ç‰©ç”Ÿé•¿ï¼Œåœ¨åœ°çƒä¸Šå½¢æˆè‡ªç„¶çŽ¯å¢ƒã€‚é‚£ä¹ˆï¼Œå¤ªé˜³ä¼šæ¶ˆå¤±ä¹ˆï¼Ÿä¼šçš„ï¼Œå¤ªé˜³ä¸æ–­åœ°æ ¸èšå˜äº§ç”Ÿèƒ½é‡ï¼Œä¹Ÿåœ¨ä¸æ–­çš„æ³¯ç­ï¼Œç»ˆæœ‰ä¸€å¤©ï¼Œå¤ªé˜³ä¸åœ¨å‘å‡ºå…‰èŠ’ï¼Œå¦‚æžœäººç±»æ²¡æœ‰æœ€ç»ˆé€ å‡ºå¤ªé˜³çš„æ›¿ä»£å“ï¼Œé‚£ä¹ˆåœ°çƒä¹Ÿå°†ä¼šæ¶ˆå¤±ã€‚é‚£ä¹ˆä¸–ç•Œä¸å†è¿è¡Œäº†ä¹ˆï¼Ÿæ²¡æœ‰ã€‚å¤ªé˜³ç³»åœ¨å·²çŸ¥å®‡å®™ä¸­å°çš„å°±åƒæ²§æµ·ä¸€ç²Ÿï¼Œä¸€å—çš®è‚¤è€äº†ï¼ŒæŽ‰äº†ä¹Ÿæ— æ‰€è°“ã€‚ ä¸–ç•Œæ˜¯å…‰è¿è¡Œçš„ä¹ˆï¼Ÿåªèƒ½è¯´ï¼Œå…‰æ˜¯ä¸€ä¸ªå¿…è¦ä¸å……åˆ†æ¡ä»¶ã€‚æ²¡æœ‰å…‰ï¼Œä¸–ç•Œä¸‡ç‰©æ— æ³•ç”Ÿé•¿ï¼Œä¸–ç•Œæ²¡æœ‰ç”Ÿæœºï¼Œæ²¡æœ‰äº†æ´»åŠ›ï¼Œæ²¡æœ‰äº†å‘å±•çš„åŠ¨åŠ›ã€‚ç„¶è€Œï¼Œæ²¡æœ‰å…‰ä¸–ç•Œè¿˜åœ¨è¿è¡Œï¼Œå®‡å®™æ·±å¤„æ²¡æœ‰å…‰çº¿ï¼Œåªæœ‰å¤©ä½“ï¼Œä»–ä»¬ä¾ç„¶æŒ‰ç…§æ—‹è½¬è§„å¾‹ä¸åœåœ°è¿åŠ¨ï¼Œå¦‚æžœä½ è§‰å¾—æ²¡æœ‰å…‰ï¼Œæ€Žä¹ˆçŸ¥é“æœ‰å¤©ä½“åœ¨åŠ¨ï¼Œé‚£ä½ å¯ä»¥åšä¸ªå°å°çš„å®žéªŒï¼šæ‰¾ä¸€ä¸ªä¸é€å…‰çš„é•¿ç›’å­ï¼Œä¸¤ç«¯å¼€å£ï¼ŒæŠŠä¸€ä¸ªå°çƒæ‰”è¿›åŽ»ï¼Œé‚£ä¹ˆä¸€å®šä¼šåœ¨å¦ä¸€ç«¯å°çƒå‡ºæ¥ã€‚ä½ çœ‹è§å°çƒåœ¨é‡Œè¾¹çš„è¿åŠ¨äº†ä¹ˆï¼Ÿæ²¡æœ‰ã€‚ä½ çŸ¥é“å°çƒåœ¨åŠ¨ä¹ˆï¼ŸçŸ¥é“ã€‚ ä¸–ç•Œæ ¹æœ¬æ²¡æœ‰äº‹ç‰©åœ¨æ“çºµè¿è¡Œï¼Œå®Œå…¨æ˜¯æŒ‰ç…§æ— åºçš„è§„å¾‹è‡ªæˆ‘è¿è¡Œçš„ä¹ˆï¼Ÿä¸çŸ¥é“ï¼Œæœ€èµ·ç çŽ°åœ¨ä¸çŸ¥é“ã€‚æˆ‘ä»¬ä¸èƒ½æŠŠä¸€åˆ‡æ— æ³•äº†è§£çš„äº‹ç‰©å½’äºŽç¥žã€‚ç¥žæ˜¯ä»€ä¹ˆï¼Ÿåœ¨å¤–äººè§£é‡Šæ¥è¯´ï¼Œç¥žå°±æ˜¯å”¯å¿ƒä¸»ä¹‰ï¼Œæ˜¯ç²¾ç¥žã€‚è°ä¹Ÿæ²¡è§è¿‡ç¥žï¼Œæ˜¯ç¥žé€ äººï¼Ÿè¿˜æ˜¯äººé€ ç¥žï¼Ÿâ€¦]]></content>
      <categories>
        <category>thought</category>
      </categories>
  </entry>
</search>
